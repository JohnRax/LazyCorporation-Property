function formatThousands(t){return t.replace(/\D+/g,"").split("").reverse().join("").replace(/(\d{3,3})(?=\d+)/gi,"$1,").split("").reverse().join("")}function transitionEnd(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}function geoAutocompleteRenderPrevSearchItem(t,e,i){return $('<li data-value="'+escape(e.v)+'"></li>').data("ui-autocomplete-item",e).append("<a>"+e.l+"</a>").append('<span title="Delete suggestion" class="delete_autocomplete_suggestion" data-value="'+escape(e.v)+'" data-search-type="'+i+'">&times;</span>').addClass("previous_query_string").appendTo(t)}function geoAutocompleteRenderGeoItem(t,e){var i=$("<li></li>").data("ui-autocomplete-item",e).append("<a>"+e.l+"</a>");return e.c&&$(i).addClass("geo-category-"+e.c),$(i).appendTo(t),i}function geoAutocompleteSetSearchResponse(t,e,i,n,s){$(".geo_autocomplete").val()&&(e&&e.length||i&&i.length)?(s&&(s=s.toUpperCase().replace(/FLAT/,"Flat").replace(/^Flat (\S+) (\S+) $/,"Flat $1, $2 "),i=$.extend(!0,[],i),$.map(i,function(t){t.l="<em>"+s+"</em>"+t.l,t.v=s+t.v})),t([{prev_search_suggestions:e,geo_suggestions:i,search_type:n}])):t([])}function geoAutocompleteGetDerivedSuggestions(t,e,i){for(var n=e.length-1;n>=1;){var s=e.substr(0,n--);if(s in t){var o=t[s];if(0==o.length)return[];if(o.length<i)return o=$.extend(!0,[],o),$.grep(o,function(t){var i=geoAutocompleteNormaliseSearchTerm(t.v),n="^"+geoAutocompleteApplyStreetTypeExpansions(e),s=new RegExp(n);return s.test(i)});var a=1;return $.each(o,function(t,i){var n=geoAutocompleteNormaliseSearchTerm(i.v),s="^"+geoAutocompleteApplyStreetTypeExpansions(e),o=new RegExp(s);if(!o.test(n))return a=0,!1}),a?o=$.extend(!0,[],o):void 0}}}function geoAutocompleteApplyStreetTypeExpansions(t){return t.replace(/ st /g," st(reet)? ").replace(/ av /g," av(enue)? ").replace(/ ave /g," ave(nue)? ").replace(/ cl /g," cl(ose)? ").replace(/ cres /g," cres(cent)? ").replace(/ dr /g," dr(ive)? ").replace(/ pl /g," pl(ace)? ").replace(/ sq /g," sq(uare)? ").replace(/ st /g," st(reet)? ").replace(/ ct/g," (ct|court)").replace(/ ln/g," (ln|lane)").replace(/ rd/g," (rd|road)")}function geoAutocompleteHighlightValues(t,e){return t=$.map(t,function(t){return t.l=geoAutocompleteHighlightValue(t.v,e),t.s&&(t.v.length<=4&&(t.l='<span class="autocomplete_outcode">'+t.l+"</span>"),t.l+=" <s>"+t.s+"</s>"),t})}function geoAutocompleteHighlightValue(t,e){e=geoAutocompleteApplyStreetTypeExpansions(e),e=e.replace(/ and /g," & "),e=e.replace(/(\w)/g,"'?$1"),t.match(/^[A-Z]{1,2}[0-9][0-9A-Z]? [0-9][A-Z]{2}$/)&&(e=e.replace(/([a-z0-9])/g,"$1\\s?")),e=e.replace(/ /g,"[^A-Za-z0-9&]+"),e=e.replace(/[^9]&/g,"(&|and)");var i="^("+e+")",n=new RegExp(i,"i");return t.replace(n,"<em>$1</em>")}function geoAutocompleteNormaliseSearchTerm(t){return t.toLowerCase().replace(/^\s\s*/,"").replace(/'/g,"").replace(/&/g," and ").replace(/[^a-z0-9]+/g," ").replace(/\s\s+/g," ")}function overseasGeoAutocompleteRenderPrevSearchItem(t,e,i){return $('<li data-value="'+escape(e.v)+'"></li>').data("ui-autocomplete-item",e).append("<a>"+e.l+"</a>").append('<span title="Delete suggestion" class="delete_overseas_autocomplete_suggestion" data-value="'+escape(e.v)+'" data-country-code="'+i+'">&times;</span>').addClass("previous_query_string").appendTo(t)}function overseasGeoAutocompleteRenderGeoItem(t,e){return $("<li></li>").data("ui-autocomplete-item",e).append("<a>"+e.l+"</a>").appendTo(t)}function overseasGeoAutocompleteSetSearchResponse(t,e,i,n){t(e&&e.length||i&&i.length?[{prev_search_suggestions:e,geo_suggestions:i,country_code:n}]:[])}function overseasGeoAutocompleteGetDerivedSuggestions(t,e,i,n){for(var s=e.length-1;s>=1;){var o=e.substr(0,s--);if(i+o in t){var a=t[i+o];if(0==a.length)return[];if(a.length<n)return a=$.extend(!0,[],a),$.grep(a,function(t){var i=overseasGeoAutocompleteNormaliseSearchTerm(t.a?t.a:t.v),n="^"+e,s=new RegExp(n);return s.test(i)});var r=1;return $.each(a,function(t,i){var n=overseasGeoAutocompleteNormaliseSearchTerm(i.a?i.a:i.v),s="^"+e,o=new RegExp(s);if(!o.test(n))return r=0,!1}),r?a=$.extend(!0,[],a):void 0}}}function overseasGeoAutocompleteHighlightValues(t,e){return t=$.map(t,function(t){return t.l=overseasGeoAutocompleteHighlightValue(t.v,e),t.s&&(t.v.length<=4&&(t.l='<span class="autocomplete_outcode">'+t.l+"</span>"),t.l+=" <s>"+t.s+"</s>"),t})}function overseasGeoAutocompleteHighlightValue(t,e){var i=e.length;if(i<t.length){var n=t.substring(0,i),s=t.substring(i);return"<em>"+n+"</em>"+s}return"<em>"+t+"</em>"}function overseasGeoAutocompleteHighlightValue_old(t,e){e=e.replace(/ and /g," & "),e=e.replace(/(\w)/g,"'?$1"),t.match(/^[A-Z]{1,2}[0-9][0-9A-Z]? [0-9][A-Z]{2}$/)&&(e=e.replace(/([a-z0-9])/g,"$1\\s?")),e=e.replace(/ /g,"[^A-Za-z0-9&]+"),e=e.replace(/[^9]&/g,"(&|and)");var i="^("+e+")",n=new RegExp(i,"i");return t.replace(n,"<em>$1</em>")}function overseasGeoAutocompleteNormaliseSearchTerm(t){return t.toLowerCase().replace(/^\s\s*/,"").replace(/'/g,"").replace(/&/g," and ").replace(/[^a-z0-9]+/g," ").replace(/\s\s+/g," ")}function mycarousel_itemFirstInCallback(t,e,i,n){carousel_start_index=i-1}function callback(t){var e=function(){o(),slideshow_timer=setTimeout(e,2e3)},i=function(){slideshow_timer_is_on||(slideshow_timer_is_on=1,e())},n=function(){clearTimeout(slideshow_timer),slideshow_timer_is_on=0},s=function(){0==photo_index?photo_index=max_photo_index:photo_index--,photo_index==max_photo_index?(t.scroll(max_photo_index),carousel_index=max_carousel_index):0==carousel_index?(t.prev(),carousel_index=photo_index<=max_carousel_index?photo_index:max_carousel_index):carousel_index--,photo_change()},o=function(e){photo_index==max_photo_index?photo_index=0:photo_index++,carousel_index==max_carousel_index?0!=photo_index&&(t.next(),carousel_index=0):carousel_index++,0==photo_index&&(t.scroll(0),carousel_index=0),photo_change()};$("#images-slideshow").on("click",function(t){var e=$(this);t.preventDefault(),e.data("clicked")?(e.removeClass("images-links-active").html("Start slideshow"),n(),e.data("clicked",!1)):(e.addClass("images-links-active").html("Stop slideshow"),i(),e.data("clicked",!0))}),$(document).keydown(function(t){var e=t.keyCode||t.which;$("input, textarea").is(":focus")||(37==e?s():39==e&&o())}),$(".images-next").bind("click",function(t){t.preventDefault(),o()}),$(".images-prev").bind("click",function(t){t.preventDefault(),s()})}function photo_change(){var t,e=$("#images-thumbs li:eq("+photo_index+") img").attr("title");t=$("#images-thumbs li:eq("+photo_index+") a").attr("data-photo"),$("#images-num").html(photo_index+1),$("#images-main img").attr({src:t,title:e}),$("#images-description").html(e),$(".images-thumbs-active").removeClass("images-thumbs-active"),$("#images-thumbs li:eq("+photo_index+")").addClass("images-thumbs-active")}function load_script(t,e){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,e&&e())}:i.onload=function(){e&&e()},i.src=t,document.getElementsByTagName("head")[0].appendChild(i)}function contact_agent_form_messages(){$("#form_contact_agent").find("input[name=msg_type_of_enquiry]").click(function(){$("#msg_body").attr("placeholder","");var t,e=$("#listing-details-address h2").text();t="for-sale"==$("#section").val()?"for sale":"to rent","organise_viewing"==$(this).val()?$("#msg_body").val("I would like to arrange a viewing of this property "+t+" in "+e+". Please contact me to arrange a suitable time. Thanks."):"request_property_details"==$(this).val()&&$("#msg_body").val("I would be grateful if you would send me further details on this property "+t+" in "+e+". Thanks.")}).trigger("click")}function contact_agent_postcode_lookup(t,e,i){$.getJSON("/ajax/lookup_address_by_postcode/"+t,function(t){for(var n='<option value="">Select</option>',s=0;s<t.length;s++)n+='<option value="'+t[s].property_id+'">'+t[s].address+"</option>";n+='<option value="Address not listed.">My address is not listed</option>',$("#msg_body_address").html(n),i||t.length>0&&$("#msg_body_address").parent().show(),$("#msg_body_address").val(e).attr("selected",!0)})}function remove_movie_frame(){}function create_virtual_tour_frame(t,e,i,n){var s=e.attr("data-listing-id"),o=e.attr("data-branch-id");void 0===i&&(i=645);var a=t+(t.indexOf("?")>-1?"&":"?")+"source=zoopla",l=$("#images-main").height();$("#movie-main").height(l),void 0===n&&(n=l),s&&o?$.get("/ajax/movies/log_view/?listing_id="+s+"&branch_id="+o):!s&&o?$.get("/ajax/movies/log_view/?branch_id="+o):s&&!o&&$.get("/ajax/movies/log_view/?listing_id="+s),r=$('<iframe src="'+a+'" style="border:0px;width:100%;height:100%;" />'),r.css("width",i+"px").css("height",n+"px").attr("scrolling","no").attr("seamless","seamless").appendTo(e),$("#movie").show(),$("#images-main").hide(),$("#images-nav").hide(),$(".images-thumb").click(function(){remove_movie_frame()})}!function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e,i=arguments,n={},s=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?s(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=s(n,i[t]);return n}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function s(t){return"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function r(t){return lt.log(t)/lt.LN10}function l(t){return lt.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==z&&null!==t}function d(t,e,i){var o,a;if(n(e))c(i)?t.setAttribute(e,i):t&&t.getAttribute&&(a=t.getAttribute(e));else if(c(e)&&s(e))for(o in e)t.setAttribute(o,e[o]);return a}function u(t){return o(t)?t:[t]}function p(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function f(e,i){_t&&!At&&i&&i.opacity!==z&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function g(e,i,n,s,o){return e=at.createElement(e),i&&t(e,i),o&&f(e,{padding:0,border:Ot,margin:0}),n&&f(e,n),s&&s.appendChild(e),e}function m(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function v(t,e,n,s){var o=H.lang,t=+t||0,a=e===-1?(t.toString().split(".")[1]||"").length:isNaN(e=ft(e))?2:e,e=void 0===n?o.decimalPoint:n,s=void 0===s?o.thousandsSep:s,o=t<0?"-":"",n=String(i(t=ft(t).toFixed(a))),r=n.length>3?n.length%3:0;return o+(r?n.substr(0,r)+s:"")+n.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?e+ft(t-n).toFixed(a).slice(2):"")}function b(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function y(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function x(t,e){for(var i,n,s,o,a,r="{",l=!1,h=[];(r=t.indexOf(r))!==-1;){if(i=t.slice(0,r),l){for(n=i.split(":"),s=n.shift().split("."),a=s.length,i=e,o=0;o<a;o++)i=i[s[o]];n.length&&(n=n.join(":"),s=/\.([0-9])/,o=H.lang,a=void 0,/f$/.test(n)?(a=(a=n.match(s))?a[1]:-1,null!==i&&(i=v(i,a,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:""))):i=Z(n,i))}h.push(i),t=t.slice(r+1),r=(l=!l)?"}":"{"}return h.push(t),h.join("")}function _(t){return lt.pow(10,ct(lt.log(t)/lt.LN10))}function w(t,e,i,n){var s,i=p(i,1);for(s=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),n=0;n<e.length&&(t=e[n],!(s<=(e[n]+(e[n+1]||e[n]))/2));n++);return t*=i}function C(){this.symbol=this.color=0}function k(t,e){var i,n,s=t.length;for(n=0;n<s;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;n<s;n++)delete t[n].ss_i}function S(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function T(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function A(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function $(t){R||(R=g(Et)),t&&R.appendChild(t),R.innerHTML=""}function I(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;rt.console&&console.log(i)}function P(t){return parseFloat(t.toPrecision(14))}function L(t,e){G=p(t,e.animation)}function M(){var t=H.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";X=6e4*(t&&H.global.timezoneOffset||0),q=t?Date.UTC:function(t,e,i,n,s,o){return new Date(t,e,p(i,1),p(n,0),p(s,0),p(o,0)).getTime()},Y=e+"Minutes",V=e+"Hours",Q=e+"Day",K=e+"Date",J=e+"Month",tt=e+"FullYear",et=i+"Minutes",it=i+"Hours",nt=i+"Date",st=i+"Month",ot=i+"FullYear"}function F(){}function D(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function E(){this.init.apply(this,arguments)}function O(){this.init.apply(this,arguments)}function N(t,e,i,n,s){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=s,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:p(e.y,o?4:i?14:-6),x:p(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}var z,B,j,R,H,Z,G,U,W,q,X,Y,V,Q,K,J,tt,et,it,nt,st,ot,at=document,rt=window,lt=Math,ht=lt.round,ct=lt.floor,dt=lt.ceil,ut=lt.max,pt=lt.min,ft=lt.abs,gt=lt.cos,mt=lt.sin,vt=lt.PI,bt=2*vt/360,yt=navigator.userAgent,xt=rt.opera,_t=/msie/i.test(yt)&&!xt,wt=8===at.documentMode,Ct=/AppleWebKit/.test(yt),kt=/Firefox/.test(yt),St=/(Mobile|Android|Windows Phone)/.test(yt),Tt="http://www.w3.org/2000/svg",At=!!at.createElementNS&&!!at.createElementNS(Tt,"svg").createSVGRect,$t=kt&&parseInt(yt.split("Firefox/index.html")[1],10)<4,It=!At&&!_t&&!!at.createElement("canvas").getContext,Pt={},Lt=0,Mt=function(){},Ft=[],Dt=0,Et="div",Ot="none",Nt=/^[0-9]+$/,zt="stroke-width",Bt={},jt=rt.Highcharts=rt.Highcharts?I(16,!0):{};Z=function(e,i,n){if(!c(i)||isNaN(i))return"Invalid date";var s,e=p(e,"%Y-%m-%d %H:%M:%S"),o=new Date(i-X),a=o[V](),r=o[Q](),l=o[K](),h=o[J](),d=o[tt](),u=H.lang,f=u.weekdays,o=t({a:f[r].substr(0,3),A:f[r],d:b(l),e:l,b:u.shortMonths[h],B:u.months[h],m:b(h+1),y:d.toString().substr(2,2),Y:d,H:b(a),I:b(a%12||12),l:a%12||12,M:b(o[Y]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:b(o.getSeconds()),L:b(ht(i%1e3),3)},jt.dateFormats);for(s in o)for(;e.indexOf("%"+s)!==-1;)e=e.replace("%"+s,"function"==typeof o[s]?o[s](i):o[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},C.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},W=function(){for(var t=0,e=arguments,i=e.length,n={};t<i;t++)n[e[t++]]=e[t];return n}("millisecond",1,"second",1e3,"minute",6e4,"hour",36e5,"day",864e5,"week",6048e5,"month",26784e5,"year",31556952e3),U={init:function(t,e,i){var n,s,o,e=e||"",a=t.shift,r=e.indexOf("C")>-1,l=r?7:3,e=e.split(" "),i=[].concat(i),h=function(t){for(n=t.length;n--;)"M"===t[n]&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(r&&(h(e),h(i)),t.isArea&&(s=e.splice(e.length-6,6),o=i.splice(i.length-6,6)),a<=i.length/l&&e.length===i.length)for(;a--;)i=[].concat(i).splice(0,l).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)a=[].concat(e).splice(e.length-l,l),r&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),e=e.concat(a);return s&&(e=e.concat(s),i=i.concat(o)),[e,i]},step:function(t,e,i,n){var s=[],o=t.length;if(1===i)s=n;else if(o===e.length&&i<1)for(;o--;)n=parseFloat(t[o]),s[o]=isNaN(n)?t[o]:i*parseFloat(e[o]-n)+n;else s=e;return s}},function(e){rt.HighchartsAdapter=rt.HighchartsAdapter||e&&{init:function(t){var i,s=e.fx,o=s.step,a=e.Tween,r=a&&a.propHooks;i=e.cssHooks.opacity,e.extend(e.easing,{easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,n=o;"cur"===e?n=s.prototype:"_default"===e&&a&&(n=r[e],e="set"),(i=n[e])&&(n[e]=function(n){var s,n=t?n:this;if("align"!==n.prop)return s=n.elem,s.attr?s.attr(n.prop,"cur"===e?z:n.now):i.apply(this,arguments)})}),y(i,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},a?r.d={set:i}:o.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i="Chart",s=arguments;return this[0]&&(n(s[0])&&(i=s[0],s=Array.prototype.slice.call(s,1)),t=s[0],t!==z&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new jt[i](t,s[1]),e=this),t===z&&(e=Ft[d(this[0],"data-highcharts-chart")])),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var s=at.removeEventListener?"removeEventListener":"detachEvent";at[s]&&t&&!t[s]&&(t[s]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,s,o){var a,r=e.Event(n),l="detached"+n;!_t&&s&&(delete s.layerX,delete s.layerY,delete s.returnValue),t(r,s),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=r[e];r[e]=function(){try{i.call(r)}catch(t){"preventDefault"===e&&(a=!0)}}}),e(i).trigger(r),i[l]&&(i[n]=i[l],i[l]=null),o&&!r.isDefaultPrevented()&&!a&&o(r)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===z&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var s=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),s.stop(),i.opacity!==z&&t.attr&&(i.opacity+="px"),s.animate(i,n)},stop:function(t){e(t).stop()}}}(rt.jQuery);var Rt=rt.HighchartsAdapter,Ht=Rt||{};Rt&&Rt.init.call(Rt,U);var Zt=Ht.adapterRun,Gt=Ht.getScript,Ut=Ht.inArray,Wt=Ht.each,qt=Ht.grep,Xt=Ht.offset,Yt=Ht.map,Vt=Ht.addEvent,Qt=Ht.removeEvent,Kt=Ht.fireEvent,Jt=Ht.washMouseEvent,te=Ht.animate,ee=Ht.stop,Ht={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};H={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.0/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.0/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Ht,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:At,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:St?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ie=H.plotOptions,Rt=ie.line;M();var ne=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,se=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,oe=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ae=function(t){var n,s,o=[];return function(t){t&&t.stops?s=Yt(t.stops,function(t){return ae(t[1])}):(n=ne.exec(t))?o=[i(n[1]),i(n[2]),i(n[3]),parseFloat(n[4],10)]:(n=se.exec(t))?o=[i(n[1],16),i(n[2],16),i(n[3],16),1]:(n=oe.exec(t))&&(o=[i(n[1]),i(n[2]),i(n[3]),1])}(t),{get:function(i){var n;return s?(n=e(t),n.stops=[].concat(n.stops),Wt(s,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=o&&!isNaN(o[0])?"rgb"===i?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===i?o[3]:"rgba("+o.join(",")+")":t,n},brighten:function(t){if(s)Wt(s,function(e){e.brighten(t)});else if(a(t)&&0!==t){var e;for(e=0;e<3;e++)o[e]+=i(255*t),o[e]<0&&(o[e]=0),o[e]>255&&(o[e]=255)}return this},rgba:o,setOpacity:function(t){return o[3]=t,this}}};F.prototype={init:function(t,e){this.element="span"===e?g(e):at.createElementNS(Tt,e),this.renderer=t},opacity:1,animate:function(t,i,n){i=p(i,G,!0),ee(this),i?(i=e(i,{}),n&&(i.complete=n),te(this,t,i)):(this.attr(t),n&&n())},colorGradient:function(t,i,n){var s,a,r,l,h,d,u,p,f,g,m=this.renderer,v=[];if(t.linearGradient?a="linearGradient":t.radialGradient&&(a="radialGradient"),a){r=t[a],l=m.gradients,d=t.stops,f=n.radialReference,o(r)&&(t[a]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&f&&!c(r.gradientUnits)&&(r=e(r,{cx:f[0]-f[2]/2+r.cx*f[2],cy:f[1]-f[2]/2+r.cy*f[2],r:r.r*f[2],gradientUnits:"userSpaceOnUse"}));for(g in r)"id"!==g&&v.push(g,r[g]);for(g in d)v.push(d[g]);v=v.join(","),l[v]?t=l[v].attr("id"):(r.id=t="highcharts-"+Lt++,l[v]=h=m.createElement(a).attr(r).add(m.defs),h.stops=[],Wt(d,function(t){0===t[1].indexOf("rgba")?(s=ae(t[1]),u=s.get("rgb"),p=s.get("a")):(u=t[1],p=1),t=m.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":p}).add(h),h.stops.push(t)})),n.setAttribute(i,"url("+m.url+"#"+t+")")}},attr:function(t,e){var i,n,s,o,a=this.element,r=this;if("string"==typeof t&&e!==z&&(i=t,t={},t[i]=e),"string"==typeof t)r=(this[t+"Getter"]||this._defaultGetter).call(this,t,a);else{for(i in t)n=t[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(s||(this.symbolAttr(t),s=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return r},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?ut(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=d(e,"class")||"";return i.indexOf(t)===-1&&d(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Wt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ot)},crisp:function(t){var e,i,n={},s=t.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;i=ht(s)%2/2,t.x=ct(t.x||this.x||0)+i,t.y=ct(t.y||this.y||0)+i,t.width=ct((t.width||this.width||0)-2*i),t.height=ct((t.height||this.height||0)-2*i),t.strokeWidth=s;for(e in t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(e){var n,s,o=this.styles,a={},r=this.element,l="";if(n=!o,e&&e.color&&(e.fill=e.color),o)for(s in e)e[s]!==o[s]&&(a[s]=e[s],n=!0);if(n){if(n=this.textWidth=e&&e.width&&"text"===r.nodeName.toLowerCase()&&i(e.width),o&&(e=t(o,a)),this.styles=e,n&&(It||!At&&this.renderer.forExport)&&delete e.width,_t&&!At)f(this.element,e);else{o=function(t,e){return"-"+e.toLowerCase()};for(s in e)l+=s.replace(/([A-Z])/g,o)+":"+e[s]+";";d(r,"style",l)}n&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return j&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(yt.indexOf("Android")===-1||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,o=this.rotation,a=this.element;s&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],s?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(c(i)||c(n))&&t.push("scale("+p(i,1)+" "+p(n,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,o,a,r,l={};return o=this.renderer,a=o.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=s=i||"renderer",h(a,this),a.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=p(i,o[s],o),s=t.align,o=t.verticalAlign,a=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"!==s&&"center"!==s||(a+=(i.width-(t.width||0))/{right:1,center:2}[s]),l[e?"translateX":"x"]=ht(a),"bottom"!==o&&"middle"!==o||(r+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),l[e?"translateY":"y"]=ht(r),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var e,i,n=this.bBox,s=this.renderer,o=this.rotation;e=this.element;var a=this.styles,r=o*bt;i=this.textStr;var l;if((""===i||Nt.test(i))&&(l="num."+i.toString().length+(a?"|"+a.fontSize+"|"+a.fontFamily:"")),l&&(n=s.cache[l]),!n){if(e.namespaceURI===Tt||s.forExport){try{n=e.getBBox?t({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight}}catch(h){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();s.isSVG&&(e=n.width,i=n.height,_t&&a&&"11px"===a.fontSize&&"16.9"===i.toPrecision(3)&&(n.height=i=14),o&&(n.width=ft(i*mt(r))+ft(e*gt(r)),n.height=ft(i*gt(r))+ft(e*mt(r)))),this.bBox=n,l&&(s.cache[l]=n)}return n},show:function(t){return t&&this.element.namespaceURI===Tt?(this.element.removeAttribute("visibility"),this):this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,n,s=this.renderer,o=t||s,a=o.element||s.box,r=this.element,l=this.zIndex;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&s.buildText(this),l&&(o.handleZ=!0,l=i(l)),o.handleZ)for(t=a.childNodes,e=0;e<t.length;e++)if(s=t[e],o=d(s,"zIndex"),s!==r&&(i(o)>l||!c(l)&&c(o))){a.insertBefore(r,s),n=!0;break}return n||a.appendChild(r),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},s=i.shadows,o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,ee(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),s&&Wt(s,function(t){i.safeRemoveChild(t)});o&&0===o.div.childNodes.length;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;i.alignTo&&h(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,s,o,a,r,l,h=[],c=this.element;if(t){for(a=p(t.width,3),r=(t.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")",n=1;n<=a;n++)s=c.cloneNode(0),o=2*a+1-2*n,d(s,{isShadow:"true",stroke:t.color||"black","stroke-opacity":r*n,"stroke-width":o,transform:"translate"+l,fill:Ot}),i&&(d(s,"height",ut(d(s,"height")-o,0)),s.cutHeight=o),e?e.element.appendChild(s):c.parentNode.insertBefore(s,c),h.push(s);this.shadows=h}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=p(this[t],this.element?this.element.getAttribute(t):null,0),/^[0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=i(t[e])*this.element.getAttribute("stroke-width");t=t.join(","),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},"stroke-widthSetter":function(t,e,i){0===t&&(t=1e-5),this.strokeWidth=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=at.createElementNS(Tt,"title"),this.element.appendChild(e)),e.textContent=t},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},zIndexSetter:function(t,e,i){i.setAttribute(e,t),this[e]=t},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},F.prototype.yGetter=F.prototype.xGetter,F.prototype.translateXSetter=F.prototype.translateYSetter=F.prototype.rotationSetter=F.prototype.verticalAlignSetter=F.prototype.scaleXSetter=F.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0};var re=function(){this.init.apply(this,arguments)};re.prototype={Element:F,init:function(t,e,i,n,s){var o,a=location,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));o=n.element,t.appendChild(o),t.innerHTML.indexOf("xmlns")===-1&&d(o,"xmlns",Tt),this.isSVG=!0,this.box=o,this.boxWrapper=n,this.alignedObjects=[],this.url=(kt||Ct)&&at.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",
this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highcharts 4.0.0")),this.defs=this.createElement("defs").add(),this.forExport=s,this.gradients={},this.cache={},this.setSize(e,i,!1);var r;kt&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){f(t,{left:0,top:0}),r=t.getBoundingClientRect(),f(t,{left:dt(r.left)-r.left+"px",top:dt(r.top)-r.top+"px"})},e(),Vt(rt,"resize",e))},getStyle:function(e){return this.style=t({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),A(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&Qt(rt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e,n,s=t.element,o=this,a=o.forExport,r=p(t.textStr,"").toString(),l=r.indexOf("<")!==-1,h=s.childNodes,c=d(s,"x"),u=t.styles,g=t.textWidth,m=u&&u.lineHeight,v=h.length,b=function(t){return m?i(m):o.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:u&&u.fontSize||o.style.fontSize||12).h};v--;)s.removeChild(h[v]);l||r.indexOf(" ")!==-1?(e=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,g&&!t.added&&this.box.appendChild(s),r=l?r.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[r],""===r[r.length-1]&&r.pop(),Wt(r,function(i,r){var l,h=0,i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=i.split("|||"),Wt(l,function(i){if(""!==i||1===l.length){var p,m={},v=at.createElementNS(Tt,"tspan");if(e.test(i)&&(p=i.match(e)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(v,"style",p)),n.test(i)&&!a&&(d(v,"onclick",'location.href="'+i.match(n)[1]+'"'),f(v,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==i&&(v.appendChild(at.createTextNode(i)),h?m.dx=0:r&&null!==c&&(m.x=c),d(v,m),!h&&r&&(!At&&a&&f(v,{display:"block"}),d(v,"dy",b(v),Ct&&v.offsetHeight)),s.appendChild(v),h++,g))for(var y,x,i=i.replace(/([^\^])-/g,"$1- ").split(" "),m=i.length>1&&"nowrap"!==u.whiteSpace,_=t._clipHeight,w=[],C=b(),k=1;m&&(i.length||w.length);)delete t.bBox,y=t.getBBox(),x=y.width,!At&&o.forExport&&(x=o.measureSpanWidth(v.firstChild.data,t.styles)),y=x>g,y&&1!==i.length?(v.removeChild(v.firstChild),w.unshift(i.pop())):(i=w,w=[],i.length&&(k++,_&&k*C>_?(i=["..."],t.attr("title",t.textStr)):(v=at.createElementNS(Tt,"tspan"),d(v,{dy:C,x:c}),p&&d(v,"style",p),s.appendChild(v),x>g&&(g=x)))),i.length&&v.appendChild(at.createTextNode(i.join(" ").replace(/- /g,"-")))}})})):s.appendChild(at.createTextNode(r))},button:function(i,n,s,o,a,r,l,h,c){var d,u,p,f,g,m,v=this.label(i,n,s,c,null,null,null,null,"button"),b=0,i={x1:0,y1:0,x2:0,y2:1},a=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a);return p=a.style,delete a.style,r=e(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),f=r.style,delete r.style,l=e(a,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),g=l.style,delete l.style,h=e(a,{style:{color:"#CCC"}},h),m=h.style,delete h.style,Vt(v.element,_t?"mouseover":"mouseenter",function(){3!==b&&v.attr(r).css(f)}),Vt(v.element,_t?"mouseout":"mouseleave",function(){3!==b&&(d=[a,r,l][b],u=[p,f,g][b],v.attr(d).css(u))}),v.setState=function(t){(v.state=b=t)?2===t?v.attr(l).css(g):3===t&&v.attr(h).css(m):v.attr(a).css(p)},v.on("click",function(){3!==b&&o.call(v)}).attr(a).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ht(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ht(t[2])+e%2/2),t},path:function(e){var i={fill:Ot};return o(e)?i.d=e:s(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){return t=s(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=function(t){this.element.setAttribute("cx",t)},e.ySetter=function(t){this.element.setAttribute("cy",t)},e.attr(t)},arc:function(t,e,i,n,o,a){return s(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,a=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:a||0}),t.r=i,t},rect:function(t,e,i,n,o,a){var o=s(t)?t.r:o,r=this.createElement("rect"),t=s(t)?t:t===z?{}:{x:t,y:e,width:ut(i,0),height:ut(n,0)};return a!==z&&(t.strokeWidth=a,t=r.crisp(t)),o&&(t.r=o),r.rSetter=function(t){d(this.element,{rx:t,ry:t})},r.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;for(this.width=t,this.height=e,this.boxWrapper[p(i,!0)?"animate":"attr"]({width:t,height:e});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,i,n,s,o){var a={preserveAspectRatio:Ot};return arguments.length>1&&t(a,{x:i,y:n,width:s,height:o}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("hc-svg-href",e),a},symbol:function(e,i,n,s,o,a){var r,l,h,c=this.symbols[e],c=c&&c(ht(i),ht(n),s,o,a),d=/^url\((.*?)\)$/;return c?(r=this.path(c),t(r,{symbolName:e,x:i,y:n,width:s,height:o}),a&&t(r,a)):d.test(e)&&(h=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ht((s-e[0])/2),ht((o-e[1])/2)))},l=e.match(d)[1],e=Pt[l],r=this.image(l).attr({x:i,y:n}),r.isImg=!0,e?h(r,e):(r.attr({width:0,height:0}),g("img",{onload:function(){h(r,Pt[l]=[this.width,this.height])},src:l}))),r},symbols:{circle:function(t,e,i,n){var s=.166*i;return["M",t+i/2,e,"C",t+i+s,e,t+i+s,e+n,t+i/2,e+n,"C",t-s,e+n,t-s,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var o=s.start,i=s.r||i||n,a=s.end-.001,n=s.innerR,r=s.open,l=gt(o),h=mt(o),c=gt(a),a=mt(a),s=s.end-o<vt?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,s,1,t+i*c,e+i*a,r?"M":"L",t+n*c,e+n*a,"A",n,n,0,s,0,t+n*l,e+n*h,r?"":"Z"]},callout:function(t,e,i,n,s){var o=pt(s&&s.r||0,i,n),a=o+6,r=s&&s.anchorX,l=s&&s.anchorY,s=ht(s.strokeWidth||0)%2/2;return t+=s,e+=s,s=["M",t+o,e,"L",t+i-o,e,"C",t+i,e,t+i,e,t+i,e+o,"L",t+i,e+n-o,"C",t+i,e+n,t+i,e+n,t+i-o,e+n,"L",t+o,e+n,"C",t,e+n,t,e+n,t,e+n-o,"L",t,e+o,"C",t,e,t,e,t+o,e],r&&r>i&&l>e+a&&l<e+n-a?s.splice(13,3,"L",t+i,l-6,t+i+6,l,t+i,l+6,t+i,e+n-o):r&&r<0&&l>e+a&&l<e+n-a?s.splice(33,3,"L",t,l+6,t-6,l,t,l-6,t,e+o):l&&l>n&&r>t+a&&r<t+i-a?s.splice(23,3,"L",r+6,e+n,r,e+n+6,r-6,e+n,t+o,e+n):l&&l<0&&r>t+a&&r<t+i-a&&s.splice(3,3,"L",r-6,e,r,e-6,r+6,e,i-o,e),s}},clipRect:function(t,e,i,n){var s="highcharts-"+Lt++,o=this.createElement("clipPath").attr({id:s}).add(this.defs),t=this.rect(t,e,i,n,0).add(o);return t.id=s,t.clipPath=o,t},text:function(t,e,i,n){var s=It||!At&&this.forExport,o={};return n&&!this.forExport?this.html(t,e,i):(o.x=Math.round(e||0),i&&(o.y=Math.round(i)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),s&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,s,o=i.childNodes;for(s=1;s<o.length;s++)n=o[s],n.getAttribute("x")===i.getAttribute("x")&&n.setAttribute("x",t);i.setAttribute(e,t)}),t)},fontMetrics:function(t){var t=t||this.style.fontSize,t=/px/.test(t)?i(t):/em/.test(t)?12*parseFloat(t):12,t=t<24?t+4:ht(1.2*t),e=ht(.8*t);return{h:t,b:e}},label:function(i,n,s,o,a,r,l,h,d){function u(){var e,i;e=S.element.style,m=(void 0===v||void 0===b||k.styles.textAlign)&&S.textStr&&S.getBBox(),k.width=(v||m.width||0)+2*A+$,k.height=(b||m.height||0)+2*A,_=A+C.fontMetrics(e&&e.fontSize).b,w&&(g||(e=ht(-T*A),i=h?-_:0,k.box=g=o?C.symbol(o,e,i,k.width,k.height,P):C.rect(e,i,k.width,k.height,0,P[zt]),g.attr("fill",Ot).add(k)),g.isImg||g.attr(t({width:ht(k.width),height:ht(k.height)},P)),P=null)}function p(){var t,e=k.styles,e=e&&e.textAlign,i=$+A*(1-T);t=h?0:_,c(v)&&m&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(v-m.width)),i===S.x&&t===S.y||(S.attr("x",i),t!==z&&S.attr("y",t)),S.x=i,S.y=t}function f(t,e){g?g.attr(t,e):P[t]=e}var g,m,v,b,y,x,_,w,C=this,k=C.g(d),S=C.text("",0,0,l).attr({zIndex:1}),T=0,A=3,$=0,I=0,P={};k.onAdd=function(){S.add(k),k.attr({text:i||"",x:n,y:s}),g&&c(a)&&k.attr({anchorX:a,anchorY:r})},k.widthSetter=function(t){v=t},k.heightSetter=function(t){b=t},k.paddingSetter=function(t){c(t)&&t!==A&&(A=t,p())},k.paddingLeftSetter=function(t){c(t)&&t!==$&&($=t,p())},k.alignSetter=function(t){T={left:0,center:.5,right:1}[t]},k.textSetter=function(t){t!==z&&S.textSetter(t),u(),p()},k["stroke-widthSetter"]=function(t,e){t&&(w=!0),I=t%2/2,f(e,t)},k.strokeSetter=k.fillSetter=k.rSetter=function(t,e){"fill"===e&&t&&(w=!0),f(e,t)},k.anchorXSetter=function(t,e){a=t,f(e,t+I-y)},k.anchorYSetter=function(t,e){r=t,f(e,t-x)},k.xSetter=function(t){k.x=t,T&&(t-=T*((v||m.width)+A)),y=ht(t),k.attr("translateX",y)},k.ySetter=function(t){x=k.y=ht(t),k.attr("translateY",x)};var L=k.css;return t(k,{css:function(t){if(t){var i={},t=e(t);Wt("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(e){t[e]!==z&&(i[e]=t[e],delete t[e])}),S.css(i)}return L.call(k,t)},getBBox:function(){return{width:m.width+2*A,height:m.height+2*A,x:m.x-A,y:m.y-A}},shadow:function(t){return g&&g.shadow(t),k},destroy:function(){Qt(k.element,"mouseenter"),Qt(k.element,"mouseleave"),S&&(S=S.destroy()),g&&(g=g.destroy()),F.prototype.destroy.call(k),k=C=u=p=f=null}})}},B=re,t(F.prototype,{htmlCss:function(e){var i=this.element;return(i=e&&"SPAN"===i.tagName&&e.width)&&(delete e.width,this.textWidth=i,this.updateTransform()),this.styles=t(this.styles,e),f(this.element,e),this},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||("text"===t.nodeName&&(t.style.position="absolute"),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,o=this.x||0,a=this.y||0,r=this.textAlign||"left",l={left:0,center:.5,right:1}[r],h=this.shadows;if(f(e,{marginLeft:n,marginTop:s}),h&&Wt(h,function(t){f(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&Wt(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var d,u=this.rotation,g=i(this.textWidth),m=[u,r,e.innerHTML,this.textWidth].join(",");m!==this.cTT&&(d=t.fontMetrics(e.style.fontSize).b,c(u)&&this.setSpanRotation(u,l,d),h=p(this.elemWidth,e.offsetWidth),h>g&&/[ \-]/.test(e.textContent||e.innerText)&&(f(e,{width:g+"px",display:"block",whiteSpace:"normal"}),h=g),this.getSpanCorrection(h,d,l,u,r)),f(e,{left:o+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),Ct&&(d=e.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},s=_t?"-ms-transform":Ct?"-webkit-transform":kt?"MozTransform":xt?"-o-transform":"";n[s]=n.transform="rotate("+t+"deg)",n[s+(kt?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",f(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),t(re.prototype,{html:function(e,i,n){var s=this.createElement("span"),o=s.element,a=s.renderer;return s.textSetter=function(t){t!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=t},s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform()},s.attr({text:e,x:ht(i),y:ht(n)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.css=s.htmlCss,a.isSVG&&(s.add=function(e){var i,n=a.box.parentNode,r=[];if(this.parentGroup=e){if(i=e.div,!i){for(;e;)r.push(e),e=e.parentGroup;Wt(r.reverse(),function(e){var s;i=e.div=e.div||g(Et,{className:d(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},i||n),s=i.style,t(e,{translateXSetter:function(t,i){s.left=t+"px",e[i]=t,e.doTransform=!0},translateYSetter:function(t,i){s.top=t+"px",e[i]=t,e.doTransform=!0},visibilitySetter:function(t,e){s[e]=t}})})}}else i=n;return i.appendChild(o),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}});var le;if(!At&&!It){jt.VMLElement=le={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],s=e===Et;("shape"===e||s)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",s?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=s||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=g(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,n=t?t.element||t:n;return t&&t.inverted&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:F.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=gt(t*bt),i=mt(t*bt);f(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Ot})},getSpanCorrection:function(t,e,i,n,s){var o,a=n?gt(n*bt):1,r=n?mt(n*bt):0,l=p(this.elemHeight,this.element.offsetHeight);this.xCorr=a<0&&-t,this.yCorr=r<0&&-l,o=a*r<0,this.xCorr+=r*e*(o?1-i:i),this.yCorr-=a*e*(n?o?i:1-i:1),s&&"left"!==s&&(this.xCorr-=t*i*(a<0?-1:1),n&&(this.yCorr-=l*i*(r<0?-1:1)),f(this.element,{textAlign:s}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)a(t[e])?i[e]=ht(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,h(e,i),e.push(i),i.destroyClip=function(){h(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:wt?"inherit":"rect(auto)"}),i.css(t)},css:F.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&$(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),F.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=rt.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n,t=t.split(/[ ,]/);return n=t.length,9!==n&&11!==n||(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var s,o,a,r,l,h,c,d=[],u=this.element,f=this.renderer,m=u.style,v=u.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(h=p(t.width,3),c=(t.opacity||.15)/h,s=1;s<=3;s++)r=2*h+1-2*s,n&&(l=this.cutOffPath(v.value,r+.5)),a=['<shape isShadow="true" strokeweight="',r,'" filled="false" path="',l,'" coordsize="10 10" style="',u.style.cssText,'" />'],o=g(f.prepVML(a),null,{left:i(m.left)+p(t.offsetX,1),top:i(m.top)+p(t.offsetY,1)}),n&&(o.cutOff=r+1),a=['<stroke color="',t.color||"black",'" opacity="',c*s,'"/>'],g(f.prepVML(a),null,null,o),e?e.element.appendChild(o):u.parentNode.insertBefore(o,u),d.push(o);this.shadows=d}return this},updateShadows:Mt,setAttr:function(t,e){wt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||g(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows,t=t||[];if(this.d=t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled=t!==Ot,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},opacitySetter:Mt,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-ht(mt(t*bt)+1)+"px",i.top=ht(gt(t*bt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,a(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Wt(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,wt||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},le=m(F,le),le.prototype.ySetter=le.prototype.widthSetter=le.prototype.heightSetter=le.prototype.xSetter;var he={Element:le,isIE8:yt.indexOf("MSIE 8.0")>-1,init:function(e,i,n,s){var o;if(this.alignedObjects=[],s=this.createElement(Et).css(t(this.getStyle(s),{position:"relative"})),o=s.element,e.appendChild(s.element),this.isVML=!0,this.box=o,this.boxWrapper=s,this.cache={},this.setSize(i,n,!1),!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(a){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,o){var a=this.createElement(),r=s(e);return t(a,{members:[],left:(r?e.x:e)+1,top:(r?e.y:i)+1,width:(r?e.width:n)-1,height:(r?e.height:o)-1,getCSS:function(e){var i=e.element,n=i.nodeName,e=e.inverted,s=this.top-("shape"===n?i.offsetTop:0),o=this.left,i=o+this.width,a=s+this.height,s={clip:"rect("+ht(e?o:s)+"px,"+ht(e?a:i)+"px,"+ht(e?i:a)+"px,"+ht(e?s:o)+"px)"};return!e&&wt&&"DIV"===n&&t(s,{width:i+"px",height:a+"px"}),s},updateClipping:function(){Wt(a.members,function(t){t.element&&t.css(a.getCSS(t))})}})},color:function(t,e,i,n){var s,o,a,r=this,l=/^rgba/,h=Ot;if(t&&t.linearGradient?a="gradient":t&&t.radialGradient&&(a="pattern"),a){var c,d,u,p,f,m,v,b,y=t.linearGradient||t.radialGradient,x="",t=t.stops,_=[],w=function(){o=['<fill colors="'+_.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',a,'" ',x,'focus="100%" method="any" />'],g(r.prepVML(o),null,null,e)};if(u=t[0],b=t[t.length-1],u[0]>0&&t.unshift([0,u[1]]),b[0]<1&&t.push([1,b[1]]),Wt(t,function(t,e){l.test(t[1])?(s=ae(t[1]),c=s.get("rgb"),d=s.get("a")):(c=t[1],d=1),_.push(100*t[0]+"% "+c),e?(f=d,m=c):(p=d,v=c)}),"fill"===i)if("gradient"===a)i=y.x1||y[0]||0,t=y.y1||y[1]||0,u=y.x2||y[2]||0,y=y.y2||y[3]||0,x='angle="'+(90-180*lt.atan((y-t)/(u-i))/vt)+'"',w();else{var C,h=y.r,k=2*h,S=2*h,T=y.cx,A=y.cy,$=e.radialReference,h=function(){$&&(C=n.getBBox(),T+=($[0]-C.x)/C.width-.5,A+=($[1]-C.y)/C.height-.5,k*=$[2]/C.width,S*=$[2]/C.height),x='src="'+H.global.VMLRadialGradientURL+'" size="'+k+","+S+'" origin="0.5,0.5" position="'+T+","+A+'" color2="'+v+'" ',w()};n.added?h():n.onAdd=h,h=m}else h=c}else l.test(t)&&"IMG"!==e.tagName?(s=ae(t),o=["<",i,' opacity="',s.get("a"),'"/>'],g(this.prepVML(o),null,null,e),h=s.get("rgb")):(h=e.getElementsByTagName(i),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:re.prototype.html,path:function(e){var i={coordsize:"10 10"};return o(e)?i.d=e:s(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return s(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Et).attr(e)},image:function(t,e,i,n,s){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:s}),o},createElement:function(t){return"rect"===t?this.symbol(t):re.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this,s=e.style,o="IMG"===t.tagName&&t.style;f(t,{flip:"x",left:i(s.width)-(o?i(o.top):1),top:i(s.height)-(o?i(o.left):1),rotation:-90}),Wt(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,s){var o=s.start,a=s.end,r=s.r||i||n,i=s.innerR,n=gt(o),l=mt(o),h=gt(a),c=mt(a);return a-o===0?["x"]:(o=["wa",t-r,e-r,t+r,e+r,t+r*n,e+r*l,t+r*h,e+r*c],s.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*n,e+i*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,s){return s&&(i=n=2*s.r),s&&s.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,s){return re.prototype.symbols[c(s)&&s.r?"callout":"square"].call(0,t,e,i,n,s)}}};jt.VMLRenderer=le=function(){this.init.apply(this,arguments)},le.prototype=e(re.prototype,he),B=le}re.prototype.measureSpanWidth=function(t,e){var i,n=at.createElement("span");return i=at.createTextNode(t),n.appendChild(i),f(n,e),this.box.appendChild(n),i=n.offsetWidth,$(n),i};var ce;It&&(jt.CanVGRenderer=le=function(){Tt="http://www.w3.org/1999/xhtml"},le.prototype.symbols={},ce=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&Gt(n,t),e.push(i)}}}(),B=le),D.prototype={addLabel:function(){var e,i=this.axis,n=i.options,s=i.chart,o=i.horiz,r=i.categories,h=i.names,d=this.pos,u=n.labels,f=i.tickPositions,o=o&&r&&!u.step&&!u.staggerLines&&!u.rotation&&s.plotWidth/f.length||!o&&(s.margin[3]||.33*s.chartWidth),g=d===f[0],m=d===f[f.length-1],h=r?p(r[d],h[d],d):d,r=this.label,v=f.info;i.isDatetimeAxis&&v&&(e=n.dateTimeLabelFormats[v.higherRanks[d]||v.unitName]),this.isFirst=g,this.isLast=m,n=i.labelFormatter.call({axis:i,chart:s,isFirst:g,isLast:m,dateTimeLabelFormat:e,value:i.isLog?P(l(h)):h}),d=o&&{width:ut(1,ht(o-2*(u.padding||10)))+"px"},d=t(d,u.style),c(r)?r&&r.attr({text:n}).css(d):(e={align:i.labelAlign},a(u.rotation)&&(e.rotation=u.rotation),o&&u.ellipsis&&(e._clipHeight=i.len/f.length),this.label=c(n)&&u.enabled?s.renderer.text(n,0,0,u.useHTML).attr(e).css(d).add(i.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,i=e.horiz,n=e.options.labels,t=i?t.width:t.height,e=i?n.x-t*{left:0,center:.5,right:1}[e.labelAlign]:0;return[e,i?t+e:t]},handleOverflow:function(t,e){var i,n,s,o=!0,a=this.axis,r=this.isFirst,l=this.isLast,h=a.horiz?e.x:e.y,c=a.reversed,d=a.tickPositions,u=this.getLabelSides(),p=u[0],u=u[1],f=this.label.line||0;if(i=a.labelEdge,n=a.justifyLabels&&(r||l),i[f]===z||h+p>i[f]?i[f]=h+u:n||(o=!1),n){i=(n=a.justifyToPlot)?a.pos:0,n=n?i+a.len:a.chart.chartWidth;do t+=r?1:-1,s=a.ticks[d[t]];while(d[t]&&(!s||s.label.line!==f));a=s&&s.label.xy&&s.label.xy.x+s.getLabelSides()[r?0:1],r&&!c||l&&c?h+p<i&&(h=i-p,s&&h+u>a&&(o=!1)):h+u>n&&(h=n-u,s&&h+p<a&&(o=!1)),e.x=h}return o},getPosition:function(t,e,i,n){var s=this.axis,o=s.chart,a=n&&o.oldChartHeight||o.chartHeight;return{x:t?s.translate(e+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&o.oldChartWidth||o.chartWidth)-s.right-s.left:0),y:t?a-s.bottom+s.offset-(s.opposite?s.height:0):a-s.translate(e+i,null,null,n)-s.transB}},getLabelPosition:function(t,e,i,n,s,o,a,r){var l=this.axis,h=l.transA,d=l.reversed,u=l.staggerLines,p=l.chart.renderer.fontMetrics(s.style.fontSize).b,f=s.rotation,t=t+s.x-(o&&n?o*h*(d?-1:1):0),e=e+s.y-(o&&!n?o*h*(d?1:-1):0);return f&&2===l.side&&(e-=p-p*gt(f*bt)),!c(s.y)&&!f&&(e+=p-i.getBBox().height/2),u&&(i.line=a/(r||1)%u,e+=i.line*(l.labelOffset/u)),{x:t,y:e}},getMarkPath:function(t,e,i,n,s,o){return o.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},render:function(t,e,i){var n=this.axis,s=n.options,o=n.chart.renderer,a=n.horiz,r=this.type,l=this.label,h=this.pos,c=s.labels,d=this.gridLine,u=r?r+"Grid":"grid",f=r?r+"Tick":"tick",g=s[u+"LineWidth"],m=s[u+"LineColor"],v=s[u+"LineDashStyle"],b=s[f+"Length"],u=s[f+"Width"]||0,y=s[f+"Color"],x=s[f+"Position"],f=this.mark,_=c.step,w=!0,C=n.tickmarkOffset,k=this.getPosition(a,h,C,e),S=k.x,k=k.y,T=a&&S===n.pos+n.len||!a&&k===n.pos?-1:1;this.isActive=!0,g&&(h=n.getPlotLinePath(h+C,g*T,e,!0),d===z&&(d={stroke:m,"stroke-width":g},v&&(d.dashstyle=v),r||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=g?o.path(h).attr(d).add(n.gridGroup):null),!e&&d&&h&&d[this.isNew?"attr":"animate"]({d:h,opacity:i})),u&&b&&("inside"===x&&(b=-b),n.opposite&&(b=-b),r=this.getMarkPath(S,k,b,u*T,a,o),f?f.animate({d:r,opacity:i}):this.mark=o.path(r).attr({stroke:y,"stroke-width":u,opacity:i}).add(n.axisGroup)),l&&!isNaN(S)&&(l.xy=k=this.getLabelPosition(S,k,l,a,c,C,t,_),this.isFirst&&!this.isLast&&!p(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(s.showLastLabel,1)?w=!1:!n.isRadial&&!c.step&&!c.rotation&&!e&&0!==i&&(w=this.handleOverflow(t,k)),_&&t%_&&(w=!1),w&&!isNaN(k.y)?(k.opacity=i,l[this.isNew?"attr":"animate"](k),this.isNew=!1):l.attr("y",-9999))},destroy:function(){A(this,this.axis)}},jt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},jt.PlotLineOrBand.prototype={render:function(){var t,i=this,n=i.axis,s=n.horiz,o=(n.pointRange||0)/2,a=i.options,l=a.label,h=i.label,d=a.width,u=a.to,f=a.from,g=c(f)&&c(u),m=a.value,v=a.dashStyle,b=i.svgElem,y=[],x=a.color,_=a.zIndex,w=a.events,C={},k=n.chart.renderer;if(n.isLog&&(f=r(f),u=r(u),m=r(m)),d)y=n.getPlotLinePath(m,d),C={stroke:x,"stroke-width":d},v&&(C.dashstyle=v);else{if(!g)return;f=ut(f,n.min-o),u=pt(u,n.max+o),y=n.getPlotBandPath(f,u,a),x&&(C.fill=x),a.borderWidth&&(C.stroke=a.borderColor,C["stroke-width"]=a.borderWidth)}if(c(_)&&(C.zIndex=_),b)y?b.animate({d:y},null,b.onGetPath):(b.hide(),b.onGetPath=function(){b.show()},h&&(i.label=h=h.destroy()));else if(y&&y.length&&(i.svgElem=b=k.path(y).attr(C).add(),w))for(t in o=function(t){b.on(t,function(e){w[t].apply(i,[e])})},w)o(t);return l&&c(l.text)&&y&&y.length&&n.width>0&&n.height>0?(l=e({align:s&&g&&"center",x:s?!g&&4:10,verticalAlign:!s&&g&&"middle",y:s?g?16:10:g?6:-4,rotation:s&&!g&&90},l),h||(C={align:l.textAlign||l.align,rotation:l.rotation},c(_)&&(C.zIndex=_),i.label=h=k.text(l.text,0,0,l.useHTML).attr(C).css(l.style).add()),n=[y[1],y[4],p(y[6],y[1])],y=[y[2],y[5],p(y[7],y[2])],s=S(n),g=S(y),h.align(l,!1,{x:s,y:g,width:T(n)-s,height:T(y)-g}),h.show()):h&&h.hide(),i},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,A(this)}},E.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ht,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Ht.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=this.options,s=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=n.reversed,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===s,this.names=[],this.isLog="logarithmic"===s,this.isDatetimeAxis="datetime"===s,this.isLinked=c(n.linkedTo),this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=p(n.crosshair,u(t.options.tooltip.crosshairs)[i?0:1],!1);var o,n=this.options.events;Ut(this,t.axes)===-1&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===z&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in n)Vt(this,o,n[o]);this.isLog&&(this.val2lin=r,this.lin2val=l)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(H[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,s=this.dateTimeLabelFormat,o=H.lang.numericSymbols,a=o&&o.length,r=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(r)t=x(r,this);else if(n)t=i;else if(s)t=Z(s,i);else if(a&&e>=1e3)for(;a--&&t===z;)n=Math.pow(1e3,a+1),e>=n&&null!==o[a]&&(t=v(i/n,-1)+o[a]);return t===z&&(t=i>=1e4?v(i,0):v(i,-1,z,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.buildStacks&&t.buildStacks(),Wt(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var s;t.hasVisibleSeries=!0,t.isLog&&n<=0&&(n=null),t.isXAxis?(n=i.xData,n.length&&(t.dataMin=pt(p(t.dataMin,n[0]),S(n)),t.dataMax=ut(p(t.dataMax,n[0]),T(n)))):(i.getExtremes(),s=i.dataMax,i=i.dataMin,c(i)&&c(s)&&(t.dataMin=pt(p(t.dataMin,i),i),t.dataMax=ut(p(t.dataMax,s),s)),c(n)&&(t.dataMin>=n?(t.dataMin=n,t.ignoreMinPadding=!0):t.dataMax<n&&(t.dataMax=n,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,s,o){var r=1,l=0,h=n?this.oldTransA:this.transA,n=n?this.oldMin:this.min,c=this.minPixelPadding,s=(this.options.ordinal||this.isLog&&s)&&this.lin2val;return h||(h=this.transA),i&&(r*=-1,l=this.len),this.reversed&&(r*=-1,l-=r*(this.sector||this.len)),e?(t=t*r+l,t-=c,t=t/h+n,s&&(t=this.lin2val(t))):(s&&(t=this.val2lin(t)),"between"===o&&(o=.5),t=r*(t-n)*h+l+r*c+(a(o)?h*o*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,s){var o,a,r,l=this.chart,h=this.left,c=this.top,d=i&&l.oldChartHeight||l.chartHeight,u=i&&l.oldChartWidth||l.chartWidth;return o=this.transB,s=p(s,this.translate(t,null,null,i)),t=i=ht(s+o),o=a=ht(d-s-o),isNaN(s)?r=!0:this.horiz?(o=c,a=d-this.bottom,(t<h||t>h+this.width)&&(r=!0)):(t=h,i=u-this.right,(o<c||o>c+this.height)&&(r=!0)),r&&!n?null:l.renderer.crispLine(["M",t,o,"L",i,a],e||1)},getLinearTickPositions:function(t,e,i){var n,s=P(ct(e/t)*t),o=P(dt(i/t)*t),r=[];if(e===i&&a(e))return[e];for(e=s;e<=o&&(r.push(e),e=P(e+t),e!==n);)n=e;return r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,s=[];if(this.isLog)for(t=i.length,e=1;e<t;e++)s=s.concat(this.getLogTickPositions(n,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)s=s.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),this.min,this.max,e.startOfWeek)),s[0]<this.min&&s.shift();else for(i=this.min+(i[0]-this.min)%n;i<=this.max;i+=n)s.push(i);
return s},adjustForMinRange:function(){var t,e,i,n,s,o,a=this.options,r=this.min,l=this.max,h=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===z&&!this.isLog&&(c(a.min)||c(a.max)?this.minRange=null:(Wt(this.series,function(t){for(s=t.xData,i=o=t.xIncrement?1:s.length-1;i>0;i--)n=s[i]-s[i-1],(e===z||n<e)&&(e=n)}),this.minRange=pt(5*e,this.dataMax-this.dataMin))),l-r<this.minRange){var d=this.minRange;t=(d-l+r)/2,t=[r-t,p(a.min,r-t)],h&&(t[2]=this.dataMin),r=T(t),l=[r+d,p(a.max,r+d)],h&&(l[2]=this.dataMax),l=S(l),l-r<d&&(t[0]=l-d,t[1]=p(a.min,l-d),r=T(t))}this.min=r,this.max=l},setAxisTranslation:function(t){var e,i=this,s=i.max-i.min,o=i.axisPointRange||0,a=0,r=0,l=i.linkedParent,h=!!i.categories,d=i.transA;(i.isXAxis||h||o)&&(l?(a=l.minPointOffset,r=l.pointRangePadding):Wt(i.series,function(t){var l=h?1:i.isXAxis?t.pointRange:i.axisPointRange||0,d=t.options.pointPlacement,u=t.closestPointRange;l>s&&(l=0),o=ut(o,l),a=ut(a,n(d)?0:l/2),r=ut(r,"on"===d?0:l),!t.noSharedTooltip&&c(u)&&(e=c(e)?pt(e,u):u)}),l=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=a*=l,i.pointRangePadding=r*=l,i.pointRange=pt(o,s),i.closestPointRange=e),t&&(i.oldTransA=d),i.translationSlope=i.transA=d=i.len/(s+r||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=d*a},setTickPositions:function(t){var e,i=this,n=i.chart,s=i.options,o=i.isLog,l=i.isDatetimeAxis,h=i.isXAxis,d=i.isLinked,u=i.options.tickPositioner,f=s.maxPadding,g=s.minPadding,m=s.tickInterval,v=s.minTickInterval,b=s.tickPixelInterval,y=i.categories;d?(i.linkedParent=n[i.coll][s.linkedTo],n=i.linkedParent.getExtremes(),i.min=p(n.min,n.dataMin),i.max=p(n.max,n.dataMax),s.type!==i.linkedParent.options.type&&I(11,1)):(i.min=p(i.userMin,s.min,i.dataMin),i.max=p(i.userMax,s.max,i.dataMax)),o&&(!t&&pt(i.min,p(i.dataMin,i.min))<=0&&I(10,1),i.min=P(r(i.min)),i.max=P(r(i.max))),i.range&&c(i.max)&&(i.userMin=i.min=ut(i.min,i.max-i.range),i.userMax=i.max,i.range=null),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),y||i.axisPointRange||i.usePercentage||d||!c(i.min)||!c(i.max)||!(n=i.max-i.min)||(c(s.min)||c(i.userMin)||!g||!(i.dataMin<0)&&i.ignoreMinPadding||(i.min-=n*g),c(s.max)||c(i.userMax)||!f||!(i.dataMax>0)&&i.ignoreMaxPadding||(i.max+=n*f)),a(s.floor)&&(i.min=ut(i.min,s.floor)),a(s.ceiling)&&(i.max=pt(i.max,s.ceiling)),i.min===i.max||void 0===i.min||void 0===i.max?i.tickInterval=1:d&&!m&&b===i.linkedParent.options.tickPixelInterval?i.tickInterval=i.linkedParent.tickInterval:(i.tickInterval=p(m,y?1:(i.max-i.min)*b/ut(i.len,b)),!c(m)&&i.len<b&&!this.isRadial&&!this.isLog&&!y&&s.startOnTick&&s.endOnTick&&(e=!0,i.tickInterval/=4)),h&&!t&&Wt(i.series,function(t){t.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&(i.tickInterval=ut(i.pointRange,i.tickInterval)),!m&&i.tickInterval<v&&(i.tickInterval=v),l||o||m||(i.tickInterval=w(i.tickInterval,null,_(i.tickInterval),s)),i.minorTickInterval="auto"===s.minorTickInterval&&i.tickInterval?i.tickInterval/5:s.minorTickInterval,i.tickPositions=t=s.tickPositions?[].concat(s.tickPositions):u&&u.apply(i,[i.min,i.max]),t||(!i.ordinalPositions&&(i.max-i.min)/i.tickInterval>ut(2*i.len,200)&&I(19,!0),t=l?i.getTimeTicks(i.normalizeTimeTickInterval(i.tickInterval,s.units),i.min,i.max,s.startOfWeek,i.ordinalPositions,i.closestPointRange,!0):o?i.getLogTickPositions(i.tickInterval,i.min,i.max):i.getLinearTickPositions(i.tickInterval,i.min,i.max),e&&t.splice(1,t.length-2),i.tickPositions=t),d||(o=t[0],l=t[t.length-1],d=i.minPointOffset||0,s.startOnTick?i.min=o:i.min-d>o&&t.shift(),s.endOnTick?i.max=l:i.max+d<l&&t.pop(),1===t.length&&(s=ft(i.max)>1e13?1:.001,i.min-=s,i.max+=s))},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this._maxTicksKey,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==z){var n=this.tickAmount,s=e.length;if(this.tickAmount=t=i[t],s<t){for(;e.length<t;)e.push(P(e[e.length-1]+this.tickInterval));this.transA*=(s-1)/(t-1),this.max=e[e.length-1]}c(n)&&t!==n&&(this.isDirty=!0)}},setScale:function(){var t,e,i,n,s=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,Wt(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in s)for(e in s[t])s[t][e].total=null,s[t][e].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(s=this.stacks=this.oldStacks);for(t in s)for(e in s[t])s[t][e].cum=s[t][e].total}this.setMaxTicks()},setExtremes:function(e,i,n,s,o){var a=this,r=a.chart,n=p(n,!0),o=t(o,{min:e,max:i});Kt(a,"setExtremes",o,function(){a.userMin=e,a.userMax=i,a.eventArgs=o,a.isDirtyExtremes=!0,n&&r.redraw(s)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,s=this.options;return this.allowZoomOutside||(c(i)&&t<=pt(i,p(s.min,i))&&(t=z),c(n)&&e>=ut(n,p(s.max,n))&&(e=z)),this.displayBtn=t!==z||e!==z,this.setExtremes(t,e,!1,z,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,s=p(e.width,t.plotWidth-i+(e.offsetRight||0)),o=p(e.height,t.plotHeight),a=p(e.top,t.plotTop),e=p(e.left,t.plotLeft+i),i=/%$/;i.test(o)&&(o=parseInt(o,10)/100*t.plotHeight),i.test(a)&&(a=parseInt(a,10)/100*t.plotHeight+t.plotTop),this.left=e,this.top=a,this.width=s,this.height=o,this.bottom=t.chartHeight-o-a,this.right=t.chartWidth-s-e,this.len=ut(n?s:o,0),this.pos=n?e:a},getExtremes:function(){var t=this.isLog;return{min:t?P(l(this.min)):this.min,max:t?P(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?l(this.min):this.min,e=e?l(this.max):this.max;return i>t||null===t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(p(t,0)-90*this.side+720)%360,t>15&&t<165?"right":t>195&&t<345?"left":"center"},getOffset:function(){var t,e,i,n,s,o,a,r=this,l=r.chart,h=l.renderer,d=r.options,u=r.tickPositions,f=r.ticks,g=r.horiz,m=r.side,v=l.inverted?[1,0,3,2][m]:m,b=0,y=0,x=d.title,_=d.labels,w=0,C=l.axisOffset,k=l.clipOffset,S=[-1,1,1,-1][m],T=1,A=p(_.maxStaggerLines,5),$=2===m?h.fontMetrics(_.style.fontSize).b:0;if(r.hasData=t=r.hasVisibleSeries||c(r.min)&&c(r.max)&&!!u,r.showAxis=l=t||p(d.showEmpty,!0),r.staggerLines=r.horiz&&_.staggerLines,r.axisGroup||(r.gridGroup=h.g("grid").attr({zIndex:d.gridZIndex||1}).add(),r.axisGroup=h.g("axis").attr({zIndex:d.zIndex||2}).add(),r.labelGroup=h.g("axis-labels").attr({zIndex:_.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add()),t||r.isLinked){if(r.labelAlign=p(_.align||r.autoLabelAlign(_.rotation)),Wt(u,function(t){f[t]?f[t].addLabel():f[t]=new D(r,t)}),r.horiz&&!r.staggerLines&&A&&!_.rotation){for(i=r.reversed?[].concat(u).reverse():u;T<A;){for(t=[],n=!1,_=0;_<i.length;_++)s=i[_],o=(o=f[s].label&&f[s].label.getBBox())?o.width:0,a=_%T,o&&(s=r.translate(s),t[a]!==z&&s<t[a]&&(n=!0),t[a]=s+o);if(!n)break;T++}T>1&&(r.staggerLines=T)}Wt(u,function(t){0!==m&&2!==m&&{1:"left",3:"right"}[m]!==r.labelAlign||(w=ut(f[t].getLabelSize(),w))}),r.staggerLines&&(w*=r.staggerLines,r.labelOffset=w)}else for(i in f)f[i].destroy(),delete f[i];x&&x.text&&x.enabled!==!1&&(r.axisTitle||(r.axisTitle=h.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(x.style).add(r.axisGroup),r.axisTitle.isNew=!0),l&&(b=r.axisTitle.getBBox()[g?"height":"width"],y=p(x.margin,g?5:10),e=x.offset),r.axisTitle[l?"show":"hide"]()),r.offset=S*p(d.offset,C[m]),r.axisTitleMargin=p(e,w+y+(w&&S*d.labels[g?"y":"x"]-$)),C[m]=ut(C[m],r.axisTitleMargin+b+S*r.offset),k[v]=ut(k[v],2*ct(d.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,o=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",s?this.left:o,s?n:this.top,"L",s?e.chartWidth-this.right:o,s?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,s=this.len,o=this.options.title,a=t?e:n,r=this.opposite,l=this.offset,h=i(o.style.fontSize||12),s={low:a+(t?0:s),middle:a+s/2,high:a+(t?s:0)}[o.align],e=(t?n+this.height:e)+(t?1:-1)*(r?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?s:e+(r?this.width:0)+l+(o.x||0),y:t?e-(r?this.height:0)+l:s+(o.y||0)}},render:function(){var t,e,i,n=this,s=n.horiz,o=n.reversed,a=n.chart,r=a.renderer,h=n.options,d=n.isLog,u=n.isLinked,p=n.tickPositions,f=n.axisTitle,g=n.ticks,m=n.minorTicks,v=n.alternateBands,b=h.stackLabels,y=h.alternateGridColor,x=n.tickmarkOffset,_=h.lineWidth,w=a.hasRendered&&c(n.oldMin)&&!isNaN(n.oldMin),C=n.hasData,k=n.showAxis,S=h.labels.overflow,T=n.justifyLabels=s&&S!==!1;n.labelEdge.length=0,n.justifyToPlot="justify"===S,Wt([g,m,v],function(t){for(var e in t)t[e].isActive=!1}),(C||u)&&(n.minorTickInterval&&!n.categories&&Wt(n.getMinorTickPositions(),function(t){m[t]||(m[t]=new D(n,t,"minor")),w&&m[t].isNew&&m[t].render(null,!0),m[t].render(null,!1,1)}),p.length&&(t=p.slice(),(s&&o||!s&&!o)&&t.reverse(),T&&(t=t.slice(1).concat([t[0]])),Wt(t,function(e,i){T&&(i=i===t.length-1?0:i+1),(!u||e>=n.min&&e<=n.max)&&(g[e]||(g[e]=new D(n,e)),w&&g[e].isNew&&g[e].render(i,!0,.1),g[e].render(i,!1,1))}),x&&0===n.min&&(g[-1]||(g[-1]=new D(n,(-1),null,(!0))),g[-1].render(-1))),y&&Wt(p,function(t,s){s%2===0&&t<n.max&&(v[t]||(v[t]=new jt.PlotLineOrBand(n)),e=t+x,i=p[s+1]!==z?p[s+1]+x:n.max,v[t].options={from:d?l(e):e,to:d?l(i):i,color:y},v[t].render(),v[t].isActive=!0)}),n._addedPlotLB||(Wt((h.plotLines||[]).concat(h.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),Wt([g,m,v],function(t){var e,i,n=[],s=G?G.duration||500:0,o=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==v&&a.hasRendered&&s?s&&setTimeout(o,s):o()}),_&&(s=n.getLinePath(_),n.axisLine?n.axisLine.animate({d:s}):n.axisLine=r.path(s).attr({stroke:h.lineColor,"stroke-width":_,zIndex:7}).add(n.axisGroup),n.axisLine[k?"show":"hide"]()),f&&k&&(f[f.isNew?"attr":"animate"](n.getTitlePosition()),f.isNew=!1),b&&b.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){var t=this.chart.pointer;t&&t.reset(!0),this.render(),Wt(this.plotLinesAndBands,function(t){t.render()}),Wt(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,n=i.stacks,s=i.plotLinesAndBands;t||Qt(i);for(e in n)A(n[e]),n[e]=null;for(Wt([i.ticks,i.minorTicks,i.alternateBands],function(t){A(t)}),t=s.length;t--;)s[t].destroy();Wt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair)if((c(e)||!p(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var i,n=this.crosshair,s=n.animation;p(n.snap,!0)?c(e)&&(i=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:p(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,i),null===i?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[s?"animate":"attr"]({d:i},s):(s={"stroke-width":n.width||1,stroke:n.color||"#C0C0C0",zIndex:n.zIndex||2},n.dashStyle&&(s.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(s).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},t(E.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new jt.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();Wt([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&h(e,e[s])})}}),E.prototype.getTimeTicks=function(e,i,n,s){var o,a=[],r={},l=H.global.useUTC,h=new Date(i-X),d=e.unitRange,u=e.count;if(c(i)){d>=W.second&&(h.setMilliseconds(0),h.setSeconds(d>=W.minute?0:u*ct(h.getSeconds()/u))),d>=W.minute&&h[et](d>=W.hour?0:u*ct(h[Y]()/u)),d>=W.hour&&h[it](d>=W.day?0:u*ct(h[V]()/u)),d>=W.day&&h[nt](d>=W.month?1:u*ct(h[K]()/u)),d>=W.month&&(h[st](d>=W.year?0:u*ct(h[J]()/u)),o=h[tt]()),d>=W.year&&(o-=o%u,h[ot](o)),d===W.week&&h[nt](h[K]()-h[Q]()+p(s,1)),i=1,X&&(h=new Date(h.getTime()+X)),o=h[tt]();for(var s=h.getTime(),f=h[J](),g=h[K](),m=l?X:(864e5+6e4*h.getTimezoneOffset())%864e5;s<n;)a.push(s),d===W.year?s=q(o+i*u,0):d===W.month?s=q(o,f+i*u):l||d!==W.day&&d!==W.week?s+=d*u:s=q(o,f,g+i*u*(d===W.day?1:7)),i++;a.push(s),Wt(qt(a,function(t){return d<=W.hour&&t%W.day===m}),function(t){r[t]="day"})}return a.info=t(e,{higherRanks:r,totalRange:d*u}),a},E.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],s=n[n.length-1],o=W[s[0]],a=s[1];for(i=0;i<n.length&&(s=n[i],o=W[s[0]],a=s[1],!(n[i+1]&&t<=(o*a[a.length-1]+W[n[i+1][0]])/2));i++);return o===W.year&&t<5*o&&(a=[1,2,5]),n=w(t/o,a,"year"===s[0]?ut(_(t/o),1):1),{unitRange:o,count:n,unitName:s[0]}},E.prototype.getLogTickPositions=function(t,e,i,n){var s=this.options,o=this.len,a=[];if(n||(this._minorAutoInterval=null),t>=.5)t=ht(t),a=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var h,c,d,u,f,o=ct(e),s=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<i+1&&!f;o++)for(c=s.length,h=0;h<c&&!f;h++)d=r(l(o)*s[h]),d>e&&(!n||u<=i)&&a.push(u),u>i&&(f=!0),u=d;else e=l(e),i=l(i),t=s[n?"minorTickInterval":"tickInterval"],t=p("auto"===t?null:t,this._minorAutoInterval,(i-e)*(s.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),t=w(t,null,_(t)),a=Yt(this.getLinearTickPositions(t,e,i),r),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),a};var de=jt.Tooltip=function(){this.init.apply(this,arguments)};de.prototype={init:function(t,e){var n=e.borderWidth,s=e.style,o=i(s.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(s).css({padding:0}).add().attr({y:-9999}),It||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,s){var o=this,a=o.now,r=o.options.animation!==!1&&!o.isHidden,l=o.followPointer||o.len>1;t(a,{x:r?(2*a.x+e)/3:e,y:r?(a.y+i)/2:i,anchorX:l?z:r?(2*a.anchorX+n)/3:n,anchorY:l?z:r?(a.anchorY+s)/2:s}),o.label.attr(a),r&&(ft(e-a.x)>1||ft(i-a.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,n,s)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},p(this.options.hideDelay,500)),t&&Wt(t,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var i,n,s=this.chart,o=s.inverted,a=s.plotTop,r=0,l=0,t=u(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===z&&(e=s.pointer.normalize(e)),i=[e.chartX-s.plotLeft,e.chartY-a]),i||(Wt(t,function(t){n=t.series.yAxis,r+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&n?n.top-a:0)}),r/=t.length,l/=t.length,i=[o?s.plotWidth-l:r,this.shared&&!o&&t.length>1&&e?e.chartY-a:o?s.plotHeight-r:l]),Yt(i,ht)},getPosition:function(t,e,i){var n,s=this.chart,o=this.distance,a={},r=["y",s.chartHeight,e,i.plotY+s.plotTop],l=["x",s.chartWidth,t,i.plotX+s.plotLeft],h=i.ttBelow||s.inverted&&!i.negative||!s.inverted&&i.negative,c=function(t,e,i,n){var s=i<n-o,e=n+o+i<e,i=n-o-i;if(n+=o,h&&e)a[t]=n;else if(!h&&s)a[t]=i;else if(s)a[t]=i;else{if(!e)return!1;a[t]=n}},d=function(t,e,i,n){return!(n<o||n>e-o)&&void(a[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2)},u=function(t){var e=r;r=l,l=e,n=t},p=function(){c.apply(0,r)!==!1?d.apply(0,l)===!1&&!n&&(u(!0),p()):n?a.x=a.y=0:(u(!0),p())};return(s.inverted||this.len>1)&&u(),p(),a},defaultFormatter:function(t){var e,i=this.points||u(this),n=i[0].series;return e=[t.tooltipHeaderFormatter(i[0])],Wt(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,s,o=this.chart,a=this.label,r=this.options,l={},h=[];s=r.formatter||this.defaultFormatter;var c,l=o.hoverPoints,d=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,n=this.getAnchor(t,e),i=n[0],n=n[1],!d||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(o.hoverPoints=t,l&&Wt(l,function(t){t.setState()}),Wt(t,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),l={x:t[0].category,y:t[0].y},l.points=h,this.len=h.length,t=t[0]),s=s.call(l,this),l=t.series,this.distance=p(l.tooltipOptions.distance,16),s===!1?this.hide():(this.isHidden&&(ee(a),a.attr("opacity",1).show()),a.attr({text:s}),c=r.borderColor||t.color||l.color||"#606060",a.attr({stroke:c}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow}),this.isHidden=!1),Kt(o,"tooltipRefresh",{text:s,x:i+o.plotLeft,y:n+o.plotTop,borderColor:c})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ht(i.x),ht(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},tooltipHeaderFormatter:function(t){var e,i=t.series,n=i.tooltipOptions,s=n.dateTimeLabelFormats,o=n.xDateFormat,r=i.xAxis,l=r&&"datetime"===r.options.type&&a(t.key),n=n.headerFormat,r=r&&r.closestPointRange;if(l&&!o){if(r){for(e in W)if(W[e]>=r||W[e]<=W.day&&t.key%W[e]>0){o=s[e];break}}else o=s.day;o=o||s.year}return l&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),x(n,{point:t,series:i})}};var ue;j=at.documentElement.ontouchstart!==z;var pe=jt.Pointer=function(t,e){this.init(t,e)};if(pe.prototype={init:function(t,e){var i,n=e.chart,s=n.events,o=It?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=i&&!n||o&&n,this.zoomVert=o&&!n||i&&n,this.hasZoom=i||o,this.runChartClick=s&&!!s.click,this.pinchDown=[],this.lastValidTouch={},jt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new de(t,e.tooltip),this.followTouchMove=e.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(e,i){var n,s,e=e||window.event,e=Jt(e);return e.target||(e.target=e.srcElement),s=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,i||(this.chartPosition=i=Xt(this.chart.container)),s.pageX===z?(n=ut(e.x,e.clientX-i.left),s=e.y):(n=s.pageX-i.left,s=s.pageY-i.top),t(e,{chartX:ht(n),chartY:ht(s)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Wt(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,s,o=this.chart,a=o.series,r=o.tooltip,l=o.hoverPoint,h=o.hoverSeries,c=o.chartWidth,d=this.getIndex(t);if(r&&this.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(i=[],n=a.length,s=0;s<n;s++)a[s].visible&&a[s].options.enableMouseTracking!==!1&&!a[s].noSharedTooltip&&a[s].singularTooltips!==!0&&a[s].tooltipPoints.length&&(e=a[s].tooltipPoints[d])&&e.series&&(e._dist=ft(d-e.clientX),c=pt(c,e._dist),i.push(e));for(n=i.length;n--;)i[n]._dist>c&&i.splice(n,1);i.length&&i[0].clientX!==this.hoverX&&(r.refresh(i,t),this.hoverX=i[0].clientX)}a=h&&h.tooltipOptions.followPointer,h&&h.tracker&&!a?(e=h.tooltipPoints[d])&&e!==l&&e.onMouseOver(t):r&&a&&!r.isHidden&&(h=r.getAnchor([{}],t),r.updatePosition({plotX:h[0],plotY:h[1]})),r&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(t){Ft[ue]&&Ft[ue].pointer.onDocumentMouseMove(t)},Vt(at,"mousemove",this._onDocumentMouseMove)),Wt(o.axes,function(i){i.drawCrosshair(t,p(e,l))})},reset:function(t){var e=this.chart,i=e.hoverSeries,n=e.hoverPoint,s=e.tooltip,o=s&&s.shared?e.hoverPoints:n;(t=t&&s&&o)&&u(o)[0].plotX===z&&(t=!1),t?(s.refresh(o),n&&n.setState(n.state,!0)):(n&&n.onMouseOut(),i&&i.onMouseOut(),s&&s.hide(),this._onDocumentMouseMove&&(Qt(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Wt(e.axes,function(t){t.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;Wt(n.series,function(s){i=t||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(e?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,s=t.chartX,o=t.chartY,a=this.zoomHor,r=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,d=i.plotHeight,u=this.mouseDownX,p=this.mouseDownY;s<l?s=l:s>l+c&&(s=l+c),o<h?o=h:o>h+d&&(o=h+d),this.hasDragged=Math.sqrt(Math.pow(u-s,2)+Math.pow(p-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(u-l,p-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,h,a?1:c,r?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&a&&(s-=u,this.selectionMarker.attr({width:ft(s),x:(s>0?0:s)+u})),this.selectionMarker&&r&&(s=o-p,this.selectionMarker.attr({height:ft(s),y:(s>0?0:s)+p})),e&&!this.selectionMarker&&n.panning&&i.pan(t,n.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},e=this.selectionMarker,a=e.attr?e.attr("x"):e.x,r=e.attr?e.attr("y"):e.y,l=e.attr?e.attr("width"):e.width,h=e.attr?e.attr("height"):e.height;(this.hasDragged||n)&&(Wt(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?a:r),e=t.toValue(e?a+l:r+h);!isNaN(i)&&!isNaN(e)&&(o[t.coll].push({axis:t,min:pt(i,e),max:ut(i,e)}),s=!0)}}),s&&Kt(i,"selection",o,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Ft[ue]&&Ft[ue].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries,t=this.normalize(t,i);i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Ft[ue];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;ue=e.index,t=this.normalize(t),"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=d(t,"class")){if(i.indexOf(e)!==-1)return!0;if(i.indexOf("highcharts-container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=(t=t.relatedTarget||t.toElement)&&t.point&&t.point.series;!e||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||i===e||e.onMouseOut()},onContainerClick:function(e){var i,n,s,o=this.chart,a=o.hoverPoint,r=o.plotLeft,l=o.plotTop,h=o.inverted,e=this.normalize(e);e.cancelBubble=!0,o.cancelClick||(a&&this.inClass(e.target,"highcharts-tracker")?(i=this.chartPosition,n=a.plotX,s=a.plotY,t(a,{pageX:i.left+r+(h?o.plotWidth-s:n),pageY:i.top+l+(h?o.plotHeight-n:s)}),Kt(a.series,"click",t(e,{point:a})),o.hoverPoint&&a.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-r,e.chartY-l)&&Kt(o,"click",e)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},Vt(e,"mouseleave",t.onContainerMouseLeave),1===Dt&&Vt(at,"mouseup",t.onDocumentMouseUp),j&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Dt&&Vt(at,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;Qt(this.chart.container,"mouseleave",this.onContainerMouseLeave),Dt||(Qt(at,"mouseup",this.onDocumentMouseUp),Qt(at,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},t(jt.Pointer.prototype,{pinchTranslate:function(t,e,i,n,s,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,s,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,s,o)},pinchTranslateDirection:function(t,e,i,n,s,o,a,r){var l,h,c,d=this.chart,u=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=d["plot"+(t?"Left":"Top")],v=r||1,b=d.inverted,y=d.bounds[t?"h":"v"],x=1===e.length,_=e[0][f],w=i[0][f],C=!x&&e[1][f],k=!x&&i[1][f],i=function(){!x&&ft(_-C)>20&&(v=r||ft(w-k)/ft(_-C)),h=(m-w)/v+_,l=d["plot"+(t?"Width":"Height")]/v};i(),e=h,e<y.min?(e=y.min,c=!0):e+l>y.max&&(e=y.max-l,c=!0),c?(w-=.8*(w-a[u][0]),x||(k-=.8*(k-a[u][1])),i()):a[u]=[w,k],b||(o[u]=h-m,o[g]=l),o=b?1/v:v,s[g]=l,s[u]=e,n[b?t?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=o*m+(w-o*_)},pinch:function(e){var i=this,n=i.chart,s=i.pinchDown,o=i.followTouchMove,a=e.touches,r=a.length,l=i.lastValidTouch,h=i.hasZoom,c=i.selectionMarker,d={},u=1===r&&(i.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||n.runChartClick),p={};(h||o)&&!u&&e.preventDefault(),Yt(a,function(t){return i.normalize(t)}),"touchstart"===e.type?(Wt(a,function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[s[0].chartX,s[1]&&s[1].chartX],l.y=[s[0].chartY,s[1]&&s[1].chartY],Wt(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,s=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),a=pt(s,o),s=ut(s,o);e.min=pt(t.pos,a-i),e.max=ut(t.pos+t.len,s+i)}})):s.length&&(c||(i.selectionMarker=c=t({destroy:Mt},n.plotBox)),i.pinchTranslate(s,a,d,c,p,l),i.hasPinched=h,i.scaleGroups(d,p),!h&&o&&1===r&&this.runPointActions(i.normalize(e)))},onContainerTouchStart:function(t){var e=this.chart;ue=e.index,1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){Ft[ue]&&Ft[ue].pointer.drop(t)}}),rt.PointerEvent||rt.MSPointerEvent){var fe={},ge=!!rt.PointerEvent,me=function(){var t,e=[];e.item=function(t){return this[t]};for(t in fe)fe.hasOwnProperty(t)&&e.push({pageX:fe[t].pageX,pageY:fe[t].pageY,target:fe[t].target});return e},ve=function(t,e,i,n){t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Ft[ue]||(n(t),n=Ft[ue].pointer,n[e]({type:i,target:t.currentTarget,preventDefault:Mt,touches:me()}))};t(pe.prototype,{onContainerPointerDown:function(t){ve(t,"onContainerTouchStart","touchstart",function(t){fe[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){ve(t,"onContainerTouchMove","touchmove",function(t){fe[t.pointerId]={pageX:t.pageX,pageY:t.pageY},fe[t.pointerId].target||(fe[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){ve(t,"onContainerTouchEnd","touchend",function(t){delete fe[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,ge?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,ge?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(at,ge?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),y(pe.prototype,"init",function(t,e,i){t.call(this,e,i),(this.hasZoom||this.followTouchMove)&&f(e.container,{"-ms-touch-action":Ot,"touch-action":Ot})}),y(pe.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Vt)}),y(pe.prototype,"destroy",function(t){this.batchMSEvents(Qt),t.call(this)})}var be=jt.Legend=function(t,e){this.init(t,e)};be.prototype={init:function(t,n){var s=this,o=n.itemStyle,a=p(n.padding,8),r=n.itemMarginTop||0;this.options=n,n.enabled&&(s.baseline=i(o.fontSize)+3+r,s.itemStyle=o,s.itemHiddenStyle=e(o,n.itemHiddenStyle),s.itemMarginTop=r,s.padding=a,s.initialItemX=a,s.initialItemY=a-5,s.maxItemWidth=0,s.chart=t,s.itemHeight=0,s.lastLineHeight=0,s.symbolWidth=p(n.symbolWidth,16),s.pages=[],s.render(),Vt(s.chart,"endResize",function(){s.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,s=t.legendItem,o=t.legendLine,a=t.legendSymbol,r=this.itemHiddenStyle.color,n=e?n.itemStyle.color:r,l=e?t.legendColor||t.color||"#CCC":r,r=t.options&&t.options.marker,h={fill:l};if(s&&s.css({fill:n,color:n}),o&&o.attr({stroke:l}),a){if(r&&a.isMarker)for(i in h.stroke=l,r=t.convertAttribs(r))s=r[i],s!==z&&(h[i]=s);a.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,s=n[0],n=n[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?s:this.legendWidth-s-2*i-4,n),o&&(o.x=s,o.y=n)},destroyItem:function(t){var e=t.checkbox;Wt(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&$(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,Wt(this.allItems,function(s){var o,a=s.checkbox;a&&(o=e+a.y+(t||0)+3,f(a,{left:i.translateX+s.legendItemWidth+a.x-20+"px",top:o+"px",display:o>e-6&&o<e+n-6?"":Ot}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(t){var i=this.chart,n=i.renderer,s=this.options,o="horizontal"===s.layout,a=this.symbolWidth,r=s.symbolPadding,l=this.itemStyle,h=this.itemHiddenStyle,c=this.padding,d=o?p(s.itemDistance,20):0,u=!s.rtl,f=s.width,g=s.itemMarginBottom||0,m=this.itemMarginTop,v=this.initialItemX,b=t.legendItem,y=t.series&&t.series.drawLegendSymbol?t.series:t,_=y.options,_=this.createCheckboxForItem&&_&&_.showCheckbox,w=s.useHTML;
b||(t.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),y.drawLegendSymbol(this,t),t.legendItem=b=n.text(s.labelFormat?x(s.labelFormat,t):s.labelFormatter.call(t),u?a+r:-r,this.baseline,w).css(e(t.visible?l:h)).attr({align:u?"left":"right",zIndex:2}).add(t.legendGroup),this.setItemEvents&&this.setItemEvents(t,b,w,l,h),this.colorizeItem(t,t.visible),_&&this.createCheckboxForItem(t)),n=b.getBBox(),a=t.legendItemWidth=s.itemWidth||t.legendItemWidth||a+r+n.width+d+(_?20:0),this.itemHeight=r=ht(t.legendItemHeight||n.height),o&&this.itemX-v+a>(f||i.chartWidth-2*c-v-s.x)&&(this.itemX=v,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=ut(this.maxItemWidth,a),this.lastItemY=m+this.itemY+g,this.lastLineHeight=ut(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=a:(this.itemY+=m+r+g,this.lastLineHeight=r),this.offsetWidth=f||ut((o?this.itemX-v-d:a)+c,this.offsetWidth)},getAllItems:function(){var t=[];return Wt(this.chart.series,function(e){var i=e.options;p(i.showInLegend,!c(i.linkedTo)&&z,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},render:function(){var e,i,n,s,o=this,a=o.chart,r=a.renderer,l=o.group,h=o.box,c=o.options,d=o.padding,u=c.borderWidth,p=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=r.g("legend").attr({zIndex:7}).add(),o.contentGroup=r.g().attr({zIndex:1}).add(l),o.scrollGroup=r.g().add(o.contentGroup)),o.renderTitle(),e=o.getAllItems(),k(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,Wt(e,function(t){o.renderItem(t)}),n=c.width||o.offsetWidth,s=o.lastItemY+o.lastLineHeight+o.titleHeight,s=o.handleOverflow(s),(u||p)&&(n+=d,s+=d,h?n>0&&s>0&&(h[h.isNew?"attr":"animate"](h.crisp({width:n,height:s})),h.isNew=!1):(o.box=h=r.rect(0,0,n,s,c.borderRadius,u||0).attr({stroke:c.borderColor,"stroke-width":u||0,fill:p||Ot}).add(l).shadow(c.shadow),h.isNew=!0),h[i?"show":"hide"]()),o.legendWidth=n,o.legendHeight=s,Wt(e,function(t){o.positionItem(t)}),i&&l.align(t({width:n,height:s},c),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,s=this.chart,o=s.renderer,a=this.options,r=a.y,r=s.spacingBox.height+("top"===a.verticalAlign?-r:r)-this.padding,l=a.maxHeight,h=this.clipRect,c=a.navigation,d=p(c.animation,!0),u=c.arrowSize||12,f=this.nav,g=this.pages,m=this.allItems;return"horizontal"===a.layout&&(r/=2),l&&(r=pt(r,l)),g.length=0,t>r&&!a.useHTML?(this.clipHeight=e=r-20-this.titleHeight-this.padding,this.currentPage=p(this.currentPage,1),this.fullHeight=t,Wt(m,function(t,n){var s=t._legendItemPos[1],o=ht(t.legendItem.getBBox().height),a=g.length;(!a||s-g[a-1]>e&&(i||s)!==g[a-1])&&(g.push(i||s),a++),n===m.length-1&&s+o-g[a-1]>e&&g.push(s),s!==i&&(i=s)}),h||(h=n.clipRect=o.clipRect(0,this.padding,9999,0),n.contentGroup.clip(h)),h.attr({height:e}),f||(this.nav=f=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,u,u).on("click",function(){n.scroll(-1,d)}).add(f),this.pager=o.text("",15,10).css(c.style).add(f),this.down=o.symbol("triangle-down",0,0,u,u).on("click",function(){n.scroll(1,d)}).add(f)),n.scroll(0),t=r):f&&(h.attr({height:s.chartHeight}),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,s=this.currentPage+t,o=this.clipHeight,a=this.options.navigation,r=a.activeColor,a=a.inactiveColor,l=this.pager,h=this.padding;s>n&&(s=n),s>0&&(e!==z&&L(e,this.chart),this.nav.attr({translateX:h,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===s?a:r}).css({cursor:1===s?"default":"pointer"}),l.attr({text:s+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===n?a:r}).css({cursor:s===n?"default":"pointer"}),i=-i[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=s,this.positionCheckboxes(i))}},Ht=jt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker;e=t.symbolWidth;var s,o=this.chart.renderer,a=this.legendGroup,t=t.baseline-ht(.3*o.fontMetrics(t.options.itemStyle.fontSize).b);i.lineWidth&&(s={"stroke-width":i.lineWidth},i.dashStyle&&(s.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",e,t]).attr(s).add(a)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=e=o.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(a),e.isMarker=!0)}},(/Trident\/7\.0/.test(yt)||kt)&&y(be.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)}),O.prototype={init:function(t,i){var n,s=t.series;t.series=null,n=e(H,t),n.series=t.series=s,this.userOptions=t,s=n.chart,this.margin=this.splashArray("margin",s),this.spacing=this.splashArray("spacing",s);var o=s.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var a,r=this;if(r.index=Ft.length,Ft.push(r),Dt++,s.reflow!==!1&&Vt(r,"load",function(){r.initReflow()}),o)for(a in o)Vt(r,a,o[a]);r.xAxis=[],r.yAxis=[],r.animation=!It&&p(s.animation,!0),r.pointCount=0,r.counters=new C,r.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Bt[t.type||e.type||e.defaultSeriesType])||I(17,!0),e=new e,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Wt(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i,n,s=this.axes,o=this.series,a=this.pointer,r=this.legend,l=this.isDirtyLegend,h=this.isDirtyBox,c=o.length,d=c,u=this.renderer,p=u.isHidden(),f=[];for(L(e,this),p&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=o[d],e.options.stacking&&(i=!0,e.isDirty)){n=!0;break}if(n)for(d=c;d--;)e=o[d],e.options.stacking&&(e.isDirty=!0);Wt(o,function(t){t.isDirty&&"point"===t.options.legendType&&(l=!0)}),l&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),i&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,Wt(s,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),Wt(s,function(t){t.isDirty&&(h=!0)}),Wt(s,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,f.push(function(){Kt(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(h||i)&&e.redraw()})),h&&this.drawChartBox(),Wt(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset(!0),u.draw(),Kt(this,"redraw"),p&&this.cloneRenderTo(!0),Wt(f,function(t){t.call()})},get:function(t){var e,i,n=this.axes,s=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=u(e.xAxis||{}),e=e.yAxis=u(e.yAxis||{});Wt(i,function(t,e){t.index=e,t.isX=!0}),Wt(e,function(t,e){t.index=e}),i=i.concat(e),Wt(i,function(e){new E(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return Wt(this.series,function(e){t=t.concat(qt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return qt(this.series,function(t){return t.selected})},getStacks:function(){var t=this;Wt(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Wt(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+p(e.options.stack,""))})},setTitle:function(t,i,n){var s,o,a=this,r=a.options;o=r.title=e(r.title,t),s=r.subtitle=e(r.subtitle,i),r=s,Wt([["title",t,o],["subtitle",i,r]],function(t){var e=t[0],i=a[e],n=t[1],t=t[2];i&&n&&(a[e]=i=i.destroy()),t&&t.text&&!i&&(a[e]=a.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),a.layOutTitles(n)},layOutTitles:function(e){var i=0,n=this.title,s=this.subtitle,o=this.options,a=o.title,o=o.subtitle,r=this.spacingBox.width-44;!n||(n.css({width:(a.width||r)+"px"}).align(t({y:15},a),!1,"spacingBox"),a.floating||a.verticalAlign)||(i=n.getBBox().height),s&&(s.css({width:(o.width||r)+"px"}).align(t({y:i+a.margin},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(i=dt(i+s.getBBox().height))),n=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&p(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;c(e)||(this.containerWidth=Zt(i,"width")),c(t)||(this.containerHeight=Zt(i,"height")),this.chartWidth=ut(0,e||this.containerWidth||600),this.chartHeight=ut(0,p(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),$(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),at.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,s,o,a,r=this.options.chart;this.renderTo=e=r.renderTo,a="highcharts-"+Lt++,n(e)&&(this.renderTo=e=at.getElementById(e)),e||I(13,!0),s=i(d(e,"data-highcharts-chart")),!isNaN(s)&&Ft[s]&&Ft[s].hasRendered&&Ft[s].destroy(),d(e,"data-highcharts-chart",this.index),e.innerHTML="",!r.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=e=g(Et,{className:"highcharts-container"+(r.className?" "+r.className:""),id:a},t({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=r.forExport?new re(e,s,o,r.style,(!0)):new B(e,s,o,r.style),It&&this.renderer.create(this,e,s,o)},getMargins:function(){var t,e=this.spacing,i=this.legend,n=this.margin,s=this.options.legend,o=p(s.margin,20),a=s.x,r=s.y,l=s.align,h=s.verticalAlign,d=this.titleOffset;this.resetMargins(),t=this.axisOffset,d&&!c(n[0])&&(this.plotTop=ut(this.plotTop,d+this.options.title.margin+e[0])),i.display&&!s.floating&&("right"===l?c(n[1])||(this.marginRight=ut(this.marginRight,i.legendWidth-a+o+e[1])):"left"===l?c(n[3])||(this.plotLeft=ut(this.plotLeft,i.legendWidth+a+o+e[3])):"top"===h?c(n[0])||(this.plotTop=ut(this.plotTop,i.legendHeight+r+o+e[0])):"bottom"!==h||c(n[2])||(this.marginBottom=ut(this.marginBottom,i.legendHeight-r+o+e[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Wt(this.axes,function(t){t.getOffset()}),c(n[3])||(this.plotLeft+=t[3]),c(n[0])||(this.plotTop+=t[0]),c(n[2])||(this.marginBottom+=t[2]),c(n[1])||(this.marginRight+=t[1]),this.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,s=i.width||Zt(n,"width"),o=i.height||Zt(n,"height"),i=t?t.target:rt,n=function(){e.container&&(e.setSize(s,o,!1),e.hasUserSize=null)};e.hasUserSize||!s||!o||i!==rt&&i!==at||(s===e.containerWidth&&o===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(n,100):n()),e.containerWidth=s,e.containerHeight=o)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};Vt(rt,"resize",e),Vt(t,"destroy",function(){Qt(rt,"resize",e)})},setSize:function(t,e,i){var n,s,o,a=this;a.isResizing+=1,o=function(){a&&Kt(a,"endResize",null,function(){a.isResizing-=1})},L(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(t)&&(a.chartWidth=n=ut(0,ht(t)),a.hasUserSize=!!n),c(e)&&(a.chartHeight=s=ut(0,ht(e))),(G?te:f)(a.container,{width:n+"px",height:s+"px"},G),a.setChartSize(!0),a.renderer.setSize(n,s,i),a.maxTicks=null,Wt(a.axes,function(t){t.isDirty=!0,t.setScale()}),Wt(a.series,function(t){t.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,Kt(a,"resize"),G===!1?o():setTimeout(o,G&&G.duration||500)},setChartSize:function(t){var e,i,n,s,o=this.inverted,a=this.renderer,r=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=ht(this.plotLeft),this.plotTop=i=ht(this.plotTop),this.plotWidth=n=ut(0,ht(r-e-this.marginRight)),this.plotHeight=s=ut(0,ht(l-i-this.marginBottom)),this.plotSizeX=o?s:n,this.plotSizeY=o?n:s,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:c[3],y:c[0],width:r-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=a.plotBox={x:e,y:i,width:n,height:s},r=2*ct(this.plotBorderWidth/2),o=dt(ut(r,d[3])/2),a=dt(ut(r,d[0])/2),this.clipBox={x:o,y:a,width:ct(this.plotSizeX-ut(r,d[1])/2-o),height:ct(this.plotSizeY-ut(r,d[2])/2-a)},t||Wt(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.spacing,e=this.margin;this.plotTop=p(e[0],t[0]),this.marginRight=p(e[1],t[1]),this.marginBottom=p(e[2],t[2]),this.plotLeft=p(e[3],t[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,s=this.chartHeight,o=this.chartBackground,a=this.plotBackground,r=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,u=e.plotBackgroundImage,p=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,b=this.plotBox,y=this.clipRect,x=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(o?o.animate(o.crisp({width:n-t,height:s-t})):(o={fill:c||Ot},h&&(o.stroke=e.borderColor,o["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,n-t,s-t,e.borderRadius,h).attr(o).addClass("highcharts-background").add().shadow(e.shadow))),d&&(a?a.animate(b):this.plotBackground=i.rect(f,g,m,v,0).attr({fill:d}).add().shadow(e.plotShadow)),u&&(l?l.animate(b):this.plotBGImage=i.image(u,f,g,m,v).add()),y?y.animate({width:x.width,height:x.height}):this.clipRect=i.clipRect(x),p&&(r?r.animate(r.crisp({x:f,y:g,width:m,height:v})):this.plotBorder=i.rect(f,g,m,v,0,-p).attr({stroke:e.plotBorderColor,"stroke-width":p,fill:Ot,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,s=n.options.chart,o=n.options.series;Wt(["inverted","angular","polar"],function(a){for(t=Bt[s.type||s.defaultSeriesType],i=n[a]||s[a]||t&&t.prototype[a],e=o&&o.length;!i&&e--;)(t=Bt[o[e].type])&&t.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var t=this,e=t.series;Wt(e,function(t){t.linkedSeries.length=0}),Wt(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},renderSeries:function(){Wt(this.series,function(t){t.translate(),t.setTooltipPoints&&t.setTooltipPoints(),t.render()})},render:function(){var e,n=this,s=n.axes,o=n.renderer,a=n.options,r=a.labels,l=a.credits;n.setTitle(),n.legend=new be(n,a.legend),n.getStacks(),Wt(s,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,Wt(s,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&Wt(s,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),n.renderSeries(),r.items&&Wt(r.items,function(e){var s=t(r.style,e.style),a=i(s.left)+n.plotLeft,l=i(s.top)+n.plotTop+12;delete s.left,delete s.top,o.text(e.html,a,l).attr({zIndex:2}).css(s).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=o.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,s=e.container,o=s&&s.parentNode;for(Kt(e,"destroy"),Ft[e.index]=z,Dt--,e.renderTo.removeAttribute("data-highcharts-chart"),Qt(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();Wt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),s&&(s.innerHTML="",Qt(s),o&&$(s));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!(!At&&rt==rt.top&&"complete"!==at.readyState||It&&!rt.canvg)||(It?ce.push(function(){t.firstRender()},t.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",t.firstRender),"complete"===at.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Kt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Wt(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Kt(t,"beforeRender"),jt.Pointer&&(t.pointer=new pe(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),Wt(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Kt(t,"load"))},splashArray:function(t,e){var i=e[t],i=s(i)?i:[i,i,i,i];return[p(e[t+"Top"],i[0]),p(e[t+"Right"],i[1]),p(e[t+"Bottom"],i[2]),p(e[t+"Left"],i[3])]}},O.prototype.callbacks=[],le=jt.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,s=this.chart,o=2*(n.slicedOffset||0),a=s.plotWidth-2*o,r=s.plotHeight-2*o,s=n.center,n=[p(s[0],"50%"),p(s[1],"50%"),n.size||"100%",n.innerSize||0],l=pt(a,r);return Yt(n,function(n,s){return e=/%$/.test(n),t=s<2||2===s&&e,(e?[a,r,l,l][s]*i(n)/100:n)+(t?o:0)})}};var ye=function(){};ye.prototype={init:function(t,e,i){return this.series=t,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(e,i){var n=this.series,s=n.pointValKey,e=ye.prototype.optionsToObject.call(this,e);return t(this,e),this.options=this.options?t(this.options,e):e,s&&(this.y=this[s]),this.x===z&&n&&(this.x=i===z?n.autoIncrement():i),this},optionsToObject:function(t){var e={},i=this.series,n=i.pointArrayMap||["y"],s=n.length,a=0,r=0;if("number"==typeof t||null===t)e[n[0]]=t;else if(o(t))for(t.length>s&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),a++);r<s;)e[n[r++]]=t[a++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),h(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Qt(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=p(i.valueDecimals,""),s=i.valuePrefix||"",o=i.valueSuffix||"";return Wt(e.pointArrayMap||["y"],function(e){e="{point."+e,(s||o)&&(t=t.replace(e+"}",s+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")}),x(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Kt(this,t,e,i)}};var xe=function(){};xe.prototype={isCartesian:!0,type:"line",pointClass:ye,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,i){var n,s,o=this,a=e.series,r=function(t,e){return p(t.options.index,t._i)-p(e.options.index,e._i)};o.chart=e,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),t(o,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),It&&(i.animation=!1),s=i.events;for(n in s)Vt(o,n,s[n]);(s&&s.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),Wt(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(i.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),a.push(o),o._i=a.length-1,k(a,r),this.yAxis&&k(this.yAxis.series,r),Wt(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;Wt(e.axisTypes||[],function(s){Wt(n[s],function(n){t=n.options,(i[s]===t.index||i[s]!==z&&i[s]===t.id||i[s]===z&&0===t.index)&&(n.series.push(e),e[s]=n,n.isDirty=!0)}),!e[s]&&e.optionalAxis!==s&&I(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments;Wt(i.parallelArrays,"number"==typeof e?function(n){var s="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=s}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=p(e,t.pointStart,0);return this.pointInterval=p(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,i=[],n=this.points,s=n.length;if(s)if(this.options.connectNulls){for(t=s;t--;)null===n[t].y&&n.splice(t,1);n.length&&(i=[n])}else Wt(n,function(t,o){null===t.y?(o>e+1&&i.push(n.slice(e+1,o)),e=o):o===s-1&&i.push(n.slice(e+1,o+1))});this.segments=i},setOptions:function(t){var i=this.chart,n=i.options.plotOptions,i=i.userOptions||{},s=i.plotOptions||{},o=n[this.type];return this.userOptions=t,n=e(o,n.series,t),this.tooltipOptions=e(H.tooltip,H.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,t.tooltip),null===o.marker&&delete n.marker,n},getColor:function(){var t,e=this.options,i=this.userOptions,n=this.chart.options.colors,s=this.chart.counters;t=e.color||ie[this.type].color,t||e.colorByPoint||(c(i._colorIndex)?e=i._colorIndex:(i._colorIndex=s.color,e=s.color++),t=n[e]),this.color=t,s.wrapColor(n.length)},getSymbol:function(){var t=this.userOptions,e=this.options.marker,i=this.chart,n=i.options.symbols,i=i.counters;this.symbol=e.symbol,this.symbol||(c(t._symbolIndex)?t=t._symbolIndex:(t._symbolIndex=i.symbol,t=i.symbol++),this.symbol=n[t]),/^url/.test(this.symbol)&&(e.radius=0),i.wrapSymbol(n.length)},drawLegendSymbol:Ht.drawLineMarker,setData:function(t,e,i,s){var r,l=this,h=l.points,c=h&&h.length||0,d=l.options,u=l.chart,f=null,g=l.xAxis,m=g&&!!g.categories,v=l.tooltipPoints,b=d.turboThreshold,y=this.xData,x=this.yData,_=(r=l.pointArrayMap)&&r.length,t=t||[];if(r=t.length,e=p(e,!0),s===!1||!r||c!==r||l.cropped||l.hasGroupedData){if(l.xIncrement=null,l.pointRange=m?1:d.pointRange,l.colorCounter=0,Wt(this.parallelArrays,function(t){l[t+"Data"].length=0}),b&&r>b){for(i=0;null===f&&i<r;)f=t[i],i++;if(a(f)){for(m=p(d.pointStart,0),d=p(d.pointInterval,1),i=0;i<r;i++)y[i]=m,x[i]=t[i],m+=d;l.xIncrement=m}else if(o(f))if(_)for(i=0;i<r;i++)d=t[i],y[i]=d[0],x[i]=d.slice(1,_+1);else for(i=0;i<r;i++)d=t[i],y[i]=d[0],x[i]=d[1];else I(12)}else for(i=0;i<r;i++)t[i]!==z&&(d={series:l},l.pointClass.prototype.applyOptions.apply(d,[t[i]]),l.updateParallelArrays(d,i),m&&d.name)&&(g.names[d.x]=d.name);for(n(x[0])&&I(14,!0),l.data=[],l.options.data=t,i=c;i--;)h[i]&&h[i].destroy&&h[i].destroy();v&&(v.length=0),g&&(g.minRange=g.userMinRange),l.isDirty=l.isDirtyData=u.isDirtyBox=!0,i=!1}else Wt(t,function(t,e){h[e].update(t,!1)});e&&u.redraw(i)},processData:function(t){var e,i=this.xData,n=this.yData,s=i.length;e=0;var o,a,r,l,h=this.xAxis,c=this.options,d=c.cropThreshold,u=0,p=this.isCartesian;if(p&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(p&&this.sorted&&(!d||s>d||this.forceCrop)&&(r=h.min,l=h.max,i[s-1]<r||i[0]>l?(i=[],n=[]):(i[0]<r||i[s-1]>l)&&(e=this.cropData(this.xData,this.yData,r,l),i=e.xData,n=e.yData,e=e.start,o=!0,u=i.length)),s=i.length-1;s>=0;s--)t=i[s]-i[s-1],!o&&i[s]>r&&i[s]<l&&u++,t>0&&(a===z||t<a)?a=t:t<0&&this.requireSorting&&I(15);this.cropped=o,this.cropStart=e,this.processedXData=i,this.processedYData=n,this.activePointCount=u,null===c.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(t,e,i,n){var s,o=t.length,a=0,r=o,l=p(this.cropShoulder,1);for(s=0;s<o;s++)if(t[s]>=i){a=ut(0,s-l);break}for(;s<o;s++)if(t[s]>n){r=s+l;break}return{xData:t.slice(a,r),yData:e.slice(a,r),start:a,end:r}},generatePoints:function(){var t,e,i,n,s=this.options.data,o=this.data,a=this.processedXData,r=this.processedYData,l=this.pointClass,h=a.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=s.length,o=this.data=o),n=0;n<h;n++)e=c+n,d?p[n]=(new l).init(this,[a[n]].concat(u(r[n]))):(o[e]?i=o[e]:s[e]!==z&&(o[e]=i=(new l).init(this,s[e],a[n])),p[n]=i);if(o&&(h!==(t=o.length)||d))for(n=0;n<t;n++)n===c&&!d&&(n+=h),o[n]&&(o[n].destroyElements(),o[n].plotX=z);this.data=o,this.points=p},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,s=[],o=0;e=this.xAxis.getExtremes();var a,r,l,h,c=e.min,d=e.max,t=t||this.stackedYData||this.processedYData;for(e=t.length,h=0;h<e;h++)if(r=n[h],l=t[h],a=null!==l&&l!==z&&(!i.isLog||l.length||l>0),r=this.getExtremesFromAll||this.cropped||(n[h+1]||r)>=c&&(n[h-1]||r)<=d,a&&r)if(a=l.length)for(;a--;)null!==l[a]&&(s[o++]=l[a]);else s[o++]=l;this.dataMin=p(void 0,S(s)),this.dataMax=p(void 0,T(s))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t=this.options,e=t.stacking,i=this.xAxis,n=i.categories,s=this.yAxis,o=this.points,r=o.length,l=!!this.modifyValue,h=t.pointPlacement,d="between"===h||a(h),u=t.threshold,t=0;t<r;t++){var f=o[t],g=f.x,m=f.y,v=f.low,b=e&&s.stacks[(this.negStacks&&m<u?"-":"")+this.stackKey];s.isLog&&m<=0&&(f.y=m=null),f.plotX=i.translate(g,0,0,0,1,h,"flags"===this.type),e&&this.visible&&b&&b[g]&&(b=b[g],m=b.points[this.index+","+t],v=m[0],m=m[1],0===v&&(v=p(u,s.min)),s.isLog&&v<=0&&(v=null),f.total=f.stackTotal=b.total,f.percentage=b.total&&f.y/b.total*100,f.stackY=m,b.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=c(v)?s.translate(v,0,1,0,1):null,l&&(m=this.modifyValue(m,f)),f.plotY="number"==typeof m&&m!==1/0?s.translate(m,0,1,0,1):z,f.clientX=d?i.translate(g,0,0,0,1):f.plotX,f.negative=f.y<(u||0),f.category=n&&n[f.x]!==z?n[f.x]:f.x}this.getSegments()},animate:function(e){var i,n=this.chart,o=n.renderer;i=this.options.animation;var a,r=this.clipBox||n.clipBox,l=n.inverted;i&&!s(i)&&(i=ie[this.type].animation),a=["_sharedClip",i.duration,i.easing,r.height].join(","),e?(e=n[a],i=n[a+"m"],e||(n[a]=e=o.clipRect(t(r,{width:0})),n[a+"m"]=i=o.clipRect(-99,l?-n.plotLeft:-n.plotTop,99,l?n.chartWidth:n.chartHeight)),this.group.clip(e),this.markerGroup.clip(i),this.sharedClipKey=a):((e=n[a])&&e.animate({width:n.plotSizeX},i),n[a+"m"]&&n[a+"m"].animate({width:n.plotSizeX+99},i),this.animate=null)},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group,n=this.clipBox;i&&this.options.clip!==!1&&(e&&n||i.clip(n?t.renderer.clipRect(n):t.clipRect),this.markerGroup.clip()),Kt(this,"afterAnimate"),setTimeout(function(){e&&t[e]&&(n||(t[e]=t[e].destroy()),t[e+"m"]&&(t[e+"m"]=t[e+"m"].destroy()))},100)},drawPoints:function(){var e,i,n,s,o,a,r,l,h,c=this.points,d=this.chart;i=this.options.marker;var u,f=this.pointAttr[""],g=this.markerGroup,m=p(i.enabled,this.activePointCount<.5*this.xAxis.len/i.radius);if(i.enabled!==!1||this._hasPointMarkers)for(s=c.length;s--;)o=c[s],i=ct(o.plotX),n=o.plotY,h=o.graphic,r=o.marker||{},e=m&&r.enabled===z||r.enabled,u=d.isInsidePlot(ht(i),n,d.inverted),e&&n!==z&&!isNaN(n)&&null!==o.y?(e=o.pointAttr[o.selected?"select":""]||f,a=e.r,r=p(r.symbol,this.symbol),l=0===r.indexOf("url"),h?h[u?"show":"hide"](!0).animate(t({x:i-a,y:n-a},h.symbolName?{width:2*a,height:2*a}:{})):u&&(a>0||l)&&(o.graphic=d.renderer.symbol(r,i-a,n-a,2*a,2*a).attr(e).add(g))):h&&(o.graphic=h.destroy())},convertAttribs:function(t,e,i,n){var s,o,a=this.pointAttrToOptions,r={},t=t||{},e=e||{},i=i||{},n=n||{};for(s in a)o=a[s],r[s]=p(t[o],e[s],i[s],n[s]);return r},getAttribs:function(){var e,i=this,n=i.options,s=ie[i.type].marker?n.marker:n,o=s.states,a=o.hover,r=i.color;e={stroke:r,fill:r};var l,h,d=i.points||[],u=[],p=i.pointAttrToOptions;h=i.hasPointSpecificOptions;var f=n.negativeColor,g=s.lineColor,m=s.fillColor;l=n.turboThreshold;var v;if(n.marker?(a.radius=a.radius||s.radius+2,a.lineWidth=a.lineWidth||s.lineWidth+1):a.color=a.color||ae(a.color||r).brighten(a.brightness).get(),u[""]=i.convertAttribs(s,e),Wt(["hover","select"],function(t){u[t]=i.convertAttribs(o[t],u[""])}),i.pointAttr=u,r=d.length,!l||r<l||h)for(;r--;){if(l=d[r],(s=l.options&&l.options.marker||l.options)&&s.enabled===!1&&(s.radius=0),l.negative&&f&&(l.color=l.fillColor=f),h=n.colorByPoint||l.color,l.options)for(v in p)c(s[p[v]])&&(h=!0);h?(s=s||{},h=[],o=s.states||{},e=o.hover=o.hover||{},n.marker||(e.color=e.color||!l.options.color&&a.color||ae(l.color).brighten(e.brightness||a.brightness).get()),e={color:l.color},m||(e.fillColor=l.color),g||(e.lineColor=l.color),h[""]=i.convertAttribs(t(e,s),u[""]),h.hover=i.convertAttribs(o.hover,u.hover,h[""]),h.select=i.convertAttribs(o.select,u.select,h[""])):h=u,l.pointAttr=h}},destroy:function(){var t,e,i,n,s,o=this,a=o.chart,r=/AppleWebKit\/533/.test(yt),l=o.data||[];for(Kt(o,"destroy"),Qt(o),Wt(o.axisTypes||[],function(t){(s=o[t])&&(h(s.series,o),s.isDirty=s.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();o.points=null,clearTimeout(o.animationTimeout),Wt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){o[e]&&(t=r&&"group"===e?"hide":"destroy",o[e][t]())}),a.hoverSeries===o&&(a.hoverSeries=null),h(a.series,o);for(n in o)delete o[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return Wt(t,function(s,o){var a,r=s.plotX,l=s.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,s,o)):(i.push(o?"L":"M"),n&&o&&(a=t[o-1],"right"===n?i.push(a.plotX,l):"center"===n?i.push((a.plotX+r)/2,a.plotY,(a.plotX+r)/2,l):i.push(r,a.plotY)),i.push(s.plotX,s.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return Wt(e.segments,function(s){t=e.getSegmentPath(s),s.length>1?i=i.concat(t):n.push(s[0])}),e.singlePoints=n,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,s=e.dashStyle,o="square"!==e.linecap,a=this.getGraphPath(),r=e.negativeColor;r&&i.push(["graphNeg",r]),Wt(i,function(i,r){var l=i[0],h=t[l];h?(ee(h),h.animate({d:a})):n&&a.length&&(h={stroke:i[1],"stroke-width":n,fill:Ot,zIndex:1},s?h.dashstyle=s:o&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(a).attr(h).add(t.group).shadow(!r&&e.shadow))})},clipNeg:function(){var t,e=this.options,i=this.chart,n=i.renderer,s=e.negativeColor||e.negativeFillColor,o=this.graph,a=this.area,r=this.posClip,l=this.negClip;t=i.chartWidth;var h=i.chartHeight,c=ut(t,h),d=this.yAxis;s&&(o||a)&&(s=ht(d.toPixels(e.threshold||0,!0)),s<0&&(c-=s),e={x:0,y:0,width:c,height:s},c={x:0,y:s,width:c,height:c},i.inverted&&(e.height=c.y=i.plotWidth-s,n.isVML&&(e={x:i.plotWidth-s-i.plotLeft,y:0,width:t,height:h},c={x:s+i.plotLeft-t,y:0,width:i.plotLeft+s,height:t})),d.reversed?(i=c,t=e):(i=e,t=c),r?(r.animate(i),l.animate(t)):(this.posClip=r=n.clipRect(i),this.negClip=l=n.clipRect(t),o&&this.graphNeg&&(o.clip(r),
this.graphNeg.clip(l)),a&&(a.clip(r),this.areaNeg.clip(l))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Wt(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(Vt(i,"resize",t),Vt(e,"destroy",function(){Qt(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,s){var o=this[t],a=!o;return a&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(s)),o[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,s=(t=n.animation)&&!!e.animate&&i.renderer.isSVG&&p(t.duration,500)||0,o=e.visible?"visible":"hidden",a=n.zIndex,r=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",o,a,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,a,l),s&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip!==!1&&!e.sharedClipKey&&!r&&t.clip(i.clipRect),s&&e.animate(),r||(s?e.animationTimeout=setTimeout(function(){e.afterAnimate()},s):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,n=this.xAxis,s=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:p(n&&n.left,t.plotLeft),translateY:p(s&&s.top,t.plotTop)})),this.translate(),this.setTooltipPoints&&this.setTooltipPoints(!0),this.render(),e&&Kt(this,"updatedData")}},N.prototype={destroy:function(){A(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?x(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,s=n.inverted,o=this.isNegative,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=ft(a-i),r=n.xAxis[0].translate(this.x)+t,l=n.plotHeight,o={x:s?o?a:a-i:r,y:s?l-r-e:o?l-a-i:l-a,width:s?i:e,height:s?e:i};(s=this.label)&&(s.align(this.alignOptions,null,o),o=s.alignAttr,s[this.options.crop===!1||n.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},E.prototype.buildStacks=function(){var t=this.series,e=p(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},E.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,s=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(i.plotLeft,i.plotTop);for(t in s)for(e in i=s[t])i[e].render(o)},xe.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,s,o,a=this.processedXData,r=this.processedYData,l=[],h=r.length,c=this.options,d=c.threshold,u=c.stack,c=c.stacking,p=this.stackKey,f="-"+p,g=this.negStacks,m=this.yAxis,v=m.stacks,b=m.oldStacks;for(n=0;n<h;n++)s=a[n],o=r[n],i=this.index+","+n,e=(t=g&&o<d)?f:p,v[e]||(v[e]={}),v[e][s]||(b[e]&&b[e][s]?(v[e][s]=b[e][s],v[e][s].total=null):v[e][s]=new N(m,m.options.stackLabels,t,s,u)),e=v[e][s],e.points[i]=[e.cum||0],"percent"===c?(t=t?p:f,g&&v[t]&&v[t][s]?(t=v[t][s],e.total=t.total=ut(t.total,e.total)+ft(o)||0):e.total=P(e.total+(ft(o)||0))):e.total=P(e.total+(o||0)),e.cum=(e.cum||0)+(o||0),e.points[i].push(e.cum),l[n]=e.cum;"percent"===c&&(m.usePercentage=!0),this.stackedYData=l,m.oldStacks={}}},xe.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;Wt([e,"-"+e],function(e){for(var s,o,a,r=n.length;r--;)o=n[r],s=(a=i[e]&&i[e][o])&&a.points[t.index+","+r],(o=s)&&(a=a.total?100/a.total:0,o[0]=P(o[0]*a),o[1]=P(o[1]*a),t.stackedYData[r]=o[1])})},t(O.prototype,{addSeries:function(t,e,i){var n,s=this;return t&&(e=p(e,!0),Kt(s,"addSeries",{options:t},function(){n=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),e&&s.redraw(i)})),n},addAxis:function(t,i,n,s){var o=i?"xAxis":"yAxis",a=this.options;new E(this,e(t,{index:this[o].length,isX:i})),a[o]=u(a[o]||{}),a[o].push(t),p(n,!0)&&this.redraw(s)},showLoading:function(e){var i=this.options,n=this.loadingDiv,s=i.loading;n||(this.loadingDiv=n=g(Et,{className:"highcharts-loading"},t(s.style,{zIndex:10,display:Ot}),this.container),this.loadingSpan=g("span",null,s.labelStyle,n)),this.loadingSpan.innerHTML=e||i.lang.loading,this.loadingShown||(f(n,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),te(n,{opacity:s.style.opacity},{duration:s.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&te(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Ot})}}),this.loadingShown=!1}}),t(ye.prototype,{update:function(t,e,i){var n,o=this,a=o.series,r=o.graphic,l=a.data,h=a.chart,c=a.options,e=p(e,!0);o.firePointEvent("update",{options:t},function(){o.applyOptions(t),s(t)&&(a.getAttribs(),r&&(t&&t.marker&&t.marker.symbol?o.graphic=r.destroy():r.attr(o.pointAttr[o.state||""])),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy())),n=Ut(o,l),a.updateParallelArrays(o,n),c.data[n]=o.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===c.legendType&&h.legend.destroyItem(o),e&&h.redraw(i)})},remove:function(t,e){var i,n=this,s=n.series,o=s.points,a=s.chart,r=s.data;L(e,a),t=p(t,!0),n.firePointEvent("remove",null,function(){i=Ut(n,r),r.length===o.length&&o.splice(i,1),r.splice(i,1),s.options.data.splice(i,1),s.updateParallelArrays(n,"splice",i,1),n.destroy(),s.isDirty=!0,s.isDirtyData=!0,t&&a.redraw()})}}),t(xe.prototype,{addPoint:function(t,e,i,n){var s,o=this.options,a=this.data,r=this.graph,l=this.area,h=this.chart,c=this.xAxis&&this.xAxis.names,d=r&&r.shift||0,u=o.data,f=this.xData;if(L(n,h),i&&Wt([r,l,this.graphNeg,this.areaNeg],function(t){t&&(t.shift=d+1)}),l&&(l.isArea=!0),e=p(e,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[t]),r=n.x,l=f.length,this.requireSorting&&r<f[l-1])for(s=!0;l&&f[l-1]>r;)l--;this.updateParallelArrays(n,"splice",l,0,0),this.updateParallelArrays(n,l),c&&(c[r]=n.name),u.splice(l,0,t),s&&(this.data.splice(l,0,null),this.processData()),"point"===o.legendType&&this.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),this.updateParallelArrays(n,"shift"),u.shift())),this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),h.redraw())},remove:function(t,e){var i=this,n=i.chart,t=p(t,!0);i.isRemoving||(i.isRemoving=!0,Kt(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(i,n){var s,o=this.chart,a=this.type,r=Bt[a].prototype,i=e(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1);for(s in r)r.hasOwnProperty(s)&&(this[s]=z);t(this,Bt[i.type||a].prototype),this.init(o,i),p(n,!0)&&o.redraw(!1)}}),t(E.prototype,{update:function(i,n){var s=this.chart,i=s.options[this.coll][this.options.index]=e(this.userOptions,i);this.destroy(!0),this._addedPlotLB=z,this.init(s,t(i,{events:z})),s.isDirtyBox=!0,p(n,!0)&&s.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,s=n.length;s--;)n[s]&&n[s].remove(!1);h(e.axes,this),h(e[i],this),e.options[i].splice(this.options.index,1),Wt(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,p(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}}),he=m(xe),Bt.line=he,ie.area=e(Rt,{threshold:0});var _e=m(xe,{type:"area",getSegments:function(){var t,e,i,n,s,o=[],a=[],r=[],l=this.xAxis,h=this.yAxis,c=h.stacks[this.stackKey],d={},u=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<u.length;n++)d[u[n].x]=u[n];for(s in c)null!==c[s].total&&r.push(+s);r.sort(function(t,e){return t-e}),Wt(r,function(n){(!p||d[n]&&null!==d[n].y)&&(d[n]?a.push(d[n]):(t=l.translate(n),i=c[n].percent?c[n].total?100*c[n].cum/c[n].total:0:c[n].cum,e=h.toPixels(i,!0),a.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Mt})))}),a.length&&o.push(a)}else xe.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i=xe.prototype.getSegmentPath.call(this,t),n=[].concat(i),s=this.options;e=i.length;var o,a=this.yAxis.getThreshold(s.threshold);if(3===e&&n.push("L",i[1],i[2]),s.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)o=p(t[e].yBottom,a),e<t.length-1&&s.step&&n.push(t[e+1].plotX,o),n.push(t[e].plotX,o);else this.closeSegment(n,t,a);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e,i){t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],xe.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,s=i.negativeFillColor,o=[["area",this.color,i.fillColor]];(n||s)&&o.push(["areaNeg",n,s]),Wt(o,function(n){var s=n[0],o=t[s];o?o.animate({d:e}):t[s]=t.chart.renderer.path(e).attr({fill:p(n[2],ae(n[1]).setOpacity(p(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Ht.drawRectangle});Bt.area=_e,ie.spline=e(Rt),he=m(xe,{type:"spline",getPointSpline:function(t,e,i){var n,s,o,a,r=e.plotX,l=e.plotY,h=t[i-1],c=t[i+1];if(h&&c){t=h.plotY,o=c.plotX;var d,c=c.plotY;n=(1.5*r+h.plotX)/2.5,s=(1.5*l+t)/2.5,o=(1.5*r+o)/2.5,a=(1.5*l+c)/2.5,d=(a-s)*(o-r)/(o-n)+l-a,s+=d,a+=d,s>t&&s>l?(s=ut(t,l),a=2*l-s):s<t&&s<l&&(s=pt(t,l),a=2*l-s),a>c&&a>l?(a=ut(c,l),s=2*l-a):a<c&&a<l&&(a=pt(c,l),s=2*l-a),e.rightContX=o,e.rightContY=a}return i?(e=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||r,s||l,r,l],h.rightContX=h.rightContY=null):e=["M",r,l],e}}),Bt.spline=he,ie.areaspline=e(ie.area),_e=_e.prototype,he=m(he,{type:"areaspline",closedStacks:!0,getSegmentPath:_e.getSegmentPath,closeSegment:_e.closeSegment,drawGraph:_e.drawGraph,drawLegendSymbol:Ht.drawRectangle}),Bt.areaspline=he,ie.column=e(Rt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),he=m(xe,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){xe.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Wt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,s=i.xAxis,o=i.yAxis,a=s.reversed,r={},l=0;n.grouping===!1?l=1:Wt(i.chart.series,function(n){var s=n.options,a=n.yAxis;n.type===i.type&&n.visible&&o.len===a.len&&o.pos===a.pos&&(s.stacking?(t=n.stackKey,r[t]===z&&(r[t]=l++),e=r[t]):s.grouping!==!1&&(e=l++),n.columnIndex=e)});var s=pt(ft(s.transA)*(s.ordinalSlope||n.pointRange||s.closestPointRange||s.tickInterval||1),s.len),h=s*n.groupPadding,d=(s-2*h)/l,u=n.pointWidth,n=c(u)?(d-u)/2:d*n.pointPadding,u=p(u,d-2*n);return i.columnMetrics={width:u,offset:n+(h+((a?l-(i.columnIndex||0):i.columnIndex)||0)*d-s/2)*(a?-1:1)}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=p(i.borderWidth,t.activePointCount>.5*t.xAxis.len?0:1),s=t.yAxis,o=t.translatedThreshold=s.getThreshold(i.threshold),a=p(i.minPointLength,5),i=t.getColumnMetrics(),r=i.width,l=t.barW=dt(ut(r,1+2*n)),h=t.pointXOffset=i.offset,c=-(n%2?.5:0),d=n%2?.5:1;e.renderer.isVML&&e.inverted&&(d+=1),xe.prototype.translate.apply(t),Wt(t.points,function(i){var n,u=p(i.yBottom,o),f=pt(ut(-999-u,i.plotY),s.len+999+u),g=i.plotX+h,m=l,v=pt(f,u);n=ut(f,u)-v,ft(n)<a&&a&&(n=a,v=ht(ft(v-o)>a?u-a:o-(s.translate(i.y,0,1,0,1)<=o?a:0))),i.barX=g,i.pointWidth=r,i.tooltipPos=e.inverted?[s.len-f,t.xAxis.len-g-m/2]:[g+m/2,f],u=ft(g)<.5,m=ht(g+m)+c,g=ht(g)+c,m-=g,f=ft(v)<.5,n=ht(v+n)+d,v=ht(v)+d,n-=v,u&&(g+=1,m-=1),f&&(v-=1,n+=1),i.shapeType="rect",i.shapeArgs={x:g,y:v,width:m,height:n}})},getSymbol:Mt,drawLegendSymbol:Ht.drawRectangle,drawGraph:Mt,drawPoints:function(){var t,i,n,s=this,o=this.chart,a=s.options,r=o.renderer,l=a.animationLimit||250;Wt(s.points,function(h){var d=h.plotY,u=h.graphic;d===z||isNaN(d)||null===h.y?u&&(h.graphic=u.destroy()):(t=h.shapeArgs,n=c(s.borderWidth)?{"stroke-width":s.borderWidth}:{},i=h.pointAttr[h.selected?"select":""]||s.pointAttr[""],u?(ee(u),u.attr(n)[o.pointCount<l?"animate":"attr"](e(t))):h.graphic=r[h.shapeType](t).attr(i).attr(n).add(s.group).shadow(a.shadow,null,a.stacking&&!a.borderRadius))})},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,s={};At&&(t?(s.scaleY=.001,t=pt(e.pos+e.len,ut(e.pos,e.toPixels(i.threshold))),n?s.translateX=t-e.len:s.translateY=t,this.group.attr(s)):(s.scaleY=1,s[n?"translateX":"translateY"]=e.pos,this.group.animate(s,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Wt(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),xe.prototype.remove.apply(t,arguments)}}),Bt.column=he,ie.bar=e(ie.column),_e=m(he,{type:"bar",inverted:!0}),Bt.bar=_e,ie.scatter=e(Rt,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1}),_e=m(xe,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&xe.prototype.drawGraph.call(this)}}),Bt.scatter=_e,ie.pie=e(Rt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,format:"{point.name}"},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Rt={type:"pie",isCartesian:!1,pointClass:m(ye,{init:function(){ye.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),e=function(t){i.slice("select"===t.type)},Vt(i,"select",e),Vt(i,"unselect",e),i},setVisible:function(t){var e=this,i=e.series,n=i.chart;e.visible=e.options.visible=t=t===z?!e.visible:t,i.options.data[Ut(e,i.data)]=e.options,Wt(["graphic","dataLabel","connector","shadowGroup"],function(i){e[i]&&e[i][t?"show":"hide"](!0)}),e.legendItem&&n.legend.colorizeItem(e,t),!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,n.redraw())},slice:function(t,e,i){var n=this.series;L(i,n.chart),p(e,!0),this.sliced=this.options.sliced=t=c(t)?t:!this.sliced,n.options.data[Ut(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Mt,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Wt(i,function(t){var i=t.graphic,t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null)},setData:function(t,e,i,n){xe.prototype.setData.call(this,t,!1,i,n),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw(i)},generatePoints:function(){var t,e,i,n,s=0,o=this.options.ignoreHiddenPoint;for(xe.prototype.generatePoints.call(this),e=this.points,i=e.length,t=0;t<i;t++)n=e[t],s+=o&&!n.visible?0:n.y;for(this.total=s,t=0;t<i;t++)n=e[t],n.percentage=s>0?n.y/s*100:0,n.total=s},translate:function(t){this.generatePoints();var e,i,n,s,o,a=0,r=this.options,l=r.slicedOffset,h=l+r.borderWidth,c=r.startAngle||0,d=this.startAngleRad=vt/180*(c-90),c=(this.endAngleRad=vt/180*(p(r.endAngle,c+360)-90))-d,u=this.points,f=r.dataLabels.distance,r=r.ignoreHiddenPoint,g=u.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=lt.asin(pt((e-t[1])/(t[2]/2+f),1)),t[0]+(i?-1:1)*gt(n)*(t[2]/2+f)},s=0;s<g;s++)o=u[s],e=d+a*c,r&&!o.visible||(a+=o.percentage/100),i=d+a*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ht(1e3*e)/1e3,end:ht(1e3*i)/1e3},n=(i+e)/2,n>1.5*vt?n-=2*vt:n<-vt/2&&(n+=2*vt),o.slicedTranslation={translateX:ht(gt(n)*l),translateY:ht(mt(n)*l)},e=gt(n)*t[2]/2,i=mt(n)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=n<-vt/2||n>vt/2?1:0,o.angle=n,h=pt(h,f/2),o.labelPos=[t[0]+e+gt(n)*f,t[1]+i+mt(n)*f,t[0]+e+gt(n)*h,t[1]+i+mt(n)*h,t[0]+e,t[1]+i,f<0?"center":o.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var e,i,n,s,o=this,a=o.chart.renderer,r=o.options.shadow;r&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),Wt(o.points,function(l){i=l.graphic,s=l.shapeArgs,n=l.shadowGroup,r&&!n&&(n=l.shadowGroup=a.g("shadow").add(o.shadowGroup)),e=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(s,e)):l.graphic=i=a[l.shapeType](s).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(r,n),void 0!==l.visible&&l.setVisible(l.visible)})},sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:Ht.drawRectangle,getCenter:le.getCenter,getSymbol:Mt},Rt=m(xe,Rt),Bt.pie=Rt,xe.prototype.drawDataLabels=function(){var i,n,s,o,a=this,r=a.options,l=r.cursor,h=r.dataLabels,d=a.points;(h.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(h),o=a.plotGroup("dataLabelsGroup","data-labels","hidden",h.zIndex||6),!a.hasRendered&&p(h.defer,!0)&&(o.attr({opacity:0}),Vt(a,"afterAnimate",function(){a.dataLabelsGroup.show()[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),n=h,Wt(d,function(r){var d,u,f,g=r.dataLabel,m=r.connector,v=!0;if(i=r.options&&r.options.dataLabels,d=p(i&&i.enabled,n.enabled),g&&!d)r.dataLabel=g.destroy();else if(d){if(h=e(n,i),d=h.rotation,u=r.getLabelConfig(),s=h.format?x(h.format,u):h.formatter.call(u,h),h.style.color=p(h.color,h.style.color,a.color,"black"),g)c(s)?(g.attr({text:s}),v=!1):(r.dataLabel=g=g.destroy(),m&&(r.connector=m.destroy()));else if(c(s)){g={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":h.borderWidth,r:h.borderRadius||0,rotation:d,padding:h.padding,zIndex:1};for(f in g)g[f]===z&&delete g[f];g=r.dataLabel=a.chart.renderer[d?"text":"label"](s,0,-999,null,null,null,h.useHTML).attr(g).css(t(h.style,l&&{cursor:l})).add(o).shadow(h.shadow)}g&&a.alignDataLabel(r,g,h,null,v)}}))},xe.prototype.alignDataLabel=function(e,i,n,s,o){var a=this.chart,r=a.inverted,l=p(e.plotX,-999),h=p(e.plotY,-999),c=i.getBBox();(e=this.visible&&(e.series.forceDL||a.isInsidePlot(l,ht(h),r)||s&&a.isInsidePlot(l,r?s.x+1:s.y+s.height-1,r)))&&(s=t({x:r?a.plotWidth-h:l,y:ht(r?a.plotHeight-l:h),width:0,height:0},s),t(n,{width:c.width,height:c.height}),n.rotation?(r={align:n.align,x:s.x+n.x+s.width/2,y:s.y+n.y+s.height/2},i[o?"attr":"animate"](r)):(i.align(n,null,s),r=i.alignAttr,"justify"===p(n.overflow,"justify")?this.justifyDataLabel(i,n,r,c,s,o):p(n.crop,!0)&&(e=a.isInsidePlot(r.x,r.y)&&a.isInsidePlot(r.x+c.width,r.y+c.height)))),e||(i.attr({y:-999}),i.placed=!1)},xe.prototype.justifyDataLabel=function(t,e,i,n,s,o){var a,r,l=this.chart,h=e.align,c=e.verticalAlign;a=i.x,a<0&&("right"===h?e.align="left":e.x=-a,r=!0),a=i.x+n.width,a>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-a,r=!0),a=i.y,a<0&&("bottom"===c?e.verticalAlign="top":e.y=-a,r=!0),a=i.y+n.height,a>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-a,r=!0),r&&(t.placed=!o,t.align(e,null,s))},Bt.pie&&(Bt.pie.prototype.drawDataLabels=function(){var t,e,i,n,s,o,a,r,l,h,c,d,u=this,f=u.data,g=u.chart,m=u.options.dataLabels,v=p(m.connectorPadding,10),b=p(m.connectorWidth,1),y=g.plotWidth,g=g.plotHeight,x=p(m.softConnector,!0),_=m.distance,w=u.center,C=w[2]/2,k=w[1],S=_>0,A=[[],[]],$=[0,0,0,0],I=function(t,e){return e.y-t.y};if(u.visible&&(m.enabled||u._hasPointLabels)){for(xe.prototype.drawDataLabels.apply(u),Wt(f,function(t){t.dataLabel&&t.visible&&A[t.half].push(t)}),c=0;!a&&f[c];)a=f[c]&&f[c].dataLabel&&(f[c].dataLabel.getBBox().height||21),c++;for(c=2;c--;){var P,f=[],L=[],M=A[c],F=M.length;if(u.sortByAngle(M,c-.5),_>0){for(d=k-C-_;d<=k+C+_;d+=a)f.push(d);if(s=f.length,F>s){for(t=[].concat(M),t.sort(I),d=F;d--;)t[d].rank=d;for(d=F;d--;)M[d].rank>=s&&M.splice(d,1);F=M.length}for(d=0;d<F;d++){t=M[d],o=t.labelPos,t=9999;var D,E;for(E=0;E<s;E++)D=ft(f[E]-o[1]),D<t&&(t=D,P=E);if(P<d&&null!==f[d])P=d;else for(s<F-d+P&&null!==f[d]&&(P=s-F+d);null===f[P];)P++;L.push({i:P,y:f[P]}),f[P]=null}L.sort(I)}for(d=0;d<F;d++)t=M[d],o=t.labelPos,n=t.dataLabel,h=t.visible===!1?"hidden":"visible",t=o[1],_>0?(s=L.pop(),P=s.i,l=s.y,(t>l&&null!==f[P+1]||t<l&&null!==f[P-1])&&(l=t)):l=t,r=m.justify?w[0]+(c?-1:1)*(C+_):u.getX(0===P||P===f.length-1?t:l,c),n._attr={visibility:h,align:o[6]},n._pos={x:r+m.x+({left:v,right:-v}[o[6]]||0),y:l+m.y-10},n.connX=r,n.connY=l,null===this.options.size&&(s=n.width,r-s<v?$[3]=ut(ht(s-r+v),$[3]):r+s>y-v&&($[1]=ut(ht(r+s-y+v),$[1])),l-a/2<0?$[0]=ut(ht(-l+a/2),$[0]):l+a/2>g&&($[2]=ut(ht(l+a/2-g),$[2])))}(0===T($)||this.verifyDataLabelOverflow($))&&(this.placeDataLabels(),S&&b&&Wt(this.points,function(t){e=t.connector,o=t.labelPos,(n=t.dataLabel)&&n._pos?(h=n._attr.visibility,r=n.connX,l=n.connY,i=x?["M",r+("left"===o[6]?5:-5),l,"C",r,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",r+("left"===o[6]?5:-5),l,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",h)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":b,stroke:m.connectorColor||t.color||"#606060",visibility:h}).add(u.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},Bt.pie.prototype.placeDataLabels=function(){Wt(this.points,function(t){var e,t=t.dataLabel;t&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},Bt.pie.prototype.alignDataLabel=Mt,Bt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,s=n.center,o=n=n.minSize||80;return null!==s[0]?o=ut(i[2]-ut(t[1],t[3]),n):(o=ut(i[2]-t[1]-t[3],n),i[0]+=(t[3]-t[1])/2),null!==s[1]?o=ut(pt(o,i[2]-ut(t[0],t[2])),n):(o=ut(pt(o,i[2]-t[0]-t[2]),n),i[1]+=(t[0]-t[2])/2),o<i[2]?(i[2]=o,this.translate(i),Wt(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Bt.column&&(Bt.column.prototype.alignDataLabel=function(t,i,n,s,o){var a=this.chart,r=a.inverted,l=t.dlBox||t.shapeArgs,h=t.below||t.plotY>p(this.translatedThreshold,a.plotSizeY),c=p(n.inside,!!this.options.stacking);l&&(s=e(l),r&&(s={x:a.plotWidth-s.y-s.height,y:a.plotHeight-s.x-s.width,width:s.height,height:s.width}),!c)&&(r?(s.x+=h?0:s.width,s.width=0):(s.y+=h?s.height:0,s.height=0)),n.align=p(n.align,!r||c?"center":h?"right":"left"),n.verticalAlign=p(n.verticalAlign,r||c?"middle":h?"top":"bottom"),xe.prototype.alignDataLabel.call(this,t,i,n,s,o)}),Rt=jt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,s=n&&{cursor:n},o=function(i){var n,s=i.target;for(e.hoverSeries!==t&&t.onMouseOver();s&&!n;)n=s.point,s=s.parentNode;n!==z&&n!==e.hoverPoint&&n.onMouseOver(i)};Wt(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Wt(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(s),j)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,s=[].concat(n?e.areaPath:e.graphPath),o=s.length,a=e.chart,r=a.pointer,l=a.renderer,h=a.options.tooltip.snap,c=e.tracker,d=i.cursor,u=d&&{cursor:d},d=e.singlePoints,p=function(){a.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(At?1e-4:.002)+")";if(o&&!n)for(t=o+1;t--;)"M"===s[t]&&s.splice(t+1,0,s[t+1]-h,s[t+2],"L"),(t&&"M"===s[t]||t===o)&&s.splice(t,0,"L",s[t-2]+h,s[t-1]);for(t=0;t<d.length;t++)o=d[t],s.push("M",o.plotX-h,o.plotY,"L",o.plotX+h,o.plotY);c?c.attr({d:s}):(e.tracker=l.path(s).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:Ot,"stroke-width":i.lineWidth+(n?0:2*h),zIndex:2}).add(e.group),Wt([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){r.onTrackerMouseOut(t)}).css(u),j&&t.on("touchstart",p)}))}},Bt.column&&(he.prototype.drawTracker=Rt.drawTrackerPoint),Bt.pie&&(Bt.pie.prototype.drawTracker=Rt.drawTrackerPoint),Bt.scatter&&(_e.prototype.drawTracker=Rt.drawTrackerPoint),Bt.gauge&&(Bt.gauge.prototype.drawTracker=Rt.drawTrackerPoint),t(be.prototype,{setItemEvents:function(t,e,i,n,s){var o=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:s),t.setState()}).on("click",function(e){var i=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Kt(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),Vt(t.checkbox,"click",function(e){Kt(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})}}),H.legend.itemStyle.cursor="pointer",t(O.prototype,{showResetZoom:function(){var t=this,e=H.lang,i=t.options.chart.resetZoomButton,n=i.theme,s=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;Kt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,o=!1;!t||t.resetSelection?Wt(this.axes,function(t){e=t.zoom()}):Wt(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,s=i.isXAxis;(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(o=!0))}),i=this.resetZoomButton,o&&!i?this.showResetZoom():!o&&s(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(p(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,s=n.hoverPoints;s&&Wt(s,function(t){t.setState()}),Wt("xy"===e?[1,0]:[1],function(e){var s=t[e?"chartX":"chartY"],o=n[e?"xAxis":"yAxis"][0],a=n[e?"mouseDownX":"mouseDownY"],r=(o.pointRange||0)/2,l=o.getExtremes(),h=o.toValue(a-s,!0)+r,a=o.toValue(a+n[e?"plotWidth":"plotHeight"]-s,!0)-r;o.series.length&&h>pt(l.dataMin,l.min)&&a<ut(l.dataMax,l.max)&&(o.setExtremes(h,a,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=s}),i&&n.redraw(!1),f(n.container,{cursor:"move"})}}),t(ye.prototype,{select:function(t,e){var i=this,n=i.series,s=n.chart,t=p(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[Ut(i,n.data)]=i.options,i.setState(t&&"select"),e||Wt(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Ut(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,i=e.chart,n=i.tooltip,s=i.hoverPoint;s&&s!==this&&s.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this,t),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&Ut(this,e)!==-1||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;this.events=i;for(t in i)Vt(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(i,n){var s,o=this.plotX,a=this.plotY,r=this.series,l=r.options.states,h=ie[r.type].marker&&r.options.marker,c=h&&!h.enabled,d=h&&h.states[i],u=d&&d.enabled===!1,p=r.stateMarkerGraphic,f=this.marker||{},g=r.chart,m=r.halo,i=i||"";s=this.pointAttr[i]||r.pointAttr[i],i===this.state&&!n||this.selected&&"select"!==i||l[i]&&l[i].enabled===!1||i&&(u||c&&d.enabled===!1)||i&&f.states&&f.states[i]&&f.states[i].enabled===!1||(this.graphic?(h=h&&this.graphic.symbolName&&s.r,this.graphic.attr(e(s,h?{x:o-h,y:a-h,width:2*h,height:2*h}:{})),p&&p.hide()):(i&&d&&(h=d.radius,f=f.symbol||r.symbol,p&&p.currentSymbol!==f&&(p=p.destroy()),p?p[n?"animate":"attr"]({x:o-h,y:a-h}):f&&(r.stateMarkerGraphic=p=g.renderer.symbol(f,o-h,a-h,2*h,2*h).attr(s).add(r.markerGroup),p.currentSymbol=f)),p&&p[i&&g.isInsidePlot(o,a,g.inverted)?"show":"hide"]()),(o=l[i]&&l[i].halo)&&o.size?(m||(r.halo=m=g.renderer.path().add(r.seriesGroup)),m.attr(t({fill:ae(this.color||r.color).setOpacity(o.opacity).get()},o.attributes))[n?"animate":"attr"]({d:this.haloPath(o.size)})):m&&m.attr({d:[]}),this.state=i)},haloPath:function(t){var e=this.series.chart;return e.renderer.symbols.circle(e.plotLeft+this.plotX-t,e.plotTop+this.plotY-t,2*t,2*t)}}),t(xe.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Kt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;n&&n.onMouseOut(),this&&t.events.mouseOut&&Kt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),e.hoverSeries=null},setState:function(t){var e=this.options,i=this.graph,n=this.graphNeg,s=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,s[t]&&s[t].enabled===!1||(t&&(e=s[t].lineWidth||e+1),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),n&&n.attr(t))))},setVisible:function(t,e){var i,n=this,s=n.chart,o=n.legendItem,a=s.options.chart.ignoreHiddenSeries,r=n.visible;i=(n.visible=t=n.userOptions.visible=t===z?!r:t)?"show":"hide",Wt(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),s.hoverSeries===n&&n.onMouseOut(),o&&s.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Wt(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Wt(n.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(s.isDirtyBox=!0),e!==!1&&s.redraw(),Kt(n,i)},setTooltipPoints:function(t){var e,i,n,s,o=[],a=this.xAxis,r=a&&a.getExtremes(),l=a?a.tooltipLen||a.len:this.chart.plotSizeX,h=[];if(this.options.enableMouseTracking!==!1&&!this.singularTooltips){for(t&&(this.tooltipPoints=null),Wt(this.segments||this.points,function(t){o=o.concat(t)}),a&&a.reversed&&(o=o.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(o),t=o.length,s=0;s<t;s++)if(a=o[s],e=a.x,e>=r.min&&e<=r.max)for(n=o[s+1],e=i===z?0:i+1,i=o[s+1]?pt(ut(0,ct((a.clientX+(n?n.wrappedClientX||n.clientX:l))/2)),l):l;e>=0&&e<=i;)h[e++]=a;this.tooltipPoints=h}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===z?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Kt(this,t?"select":"unselect")},drawTracker:Rt.drawTrackerGraph}),
t(jt,{Axis:E,Chart:O,Color:ae,Point:ye,Tick:D,Renderer:B,Series:xe,SVGElement:F,SVGRenderer:re,arrayMin:S,arrayMax:T,charts:Ft,dateFormat:Z,format:x,pathAnim:U,getOptions:function(){return H},hasBidiBug:$t,isTouchDevice:St,numberFormat:v,seriesTypes:Bt,setOptions:function(t){return H=e(!0,H,t),M(),H},addEvent:Vt,removeEvent:Qt,createElement:g,discardElement:$,css:f,each:Wt,extend:t,map:Yt,merge:e,pick:p,splat:u,extendClass:m,pInt:i,wrap:y,svg:At,canvas:It,vml:!At&&!It,product:"Highcharts",version:"4.0.0"})}(),function(t){var e={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:'<div class="icon icon-right-open icon-muted"></div>',buttonPrevHTML:'<div class="icon icon-left-open icon-muted"></div>',buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},i=!1;t(window).bind("load.jcarousel",function(){i=!0}),t.jcarousel=function(s,o){this.options=t.extend({},e,o||{}),this.locked=!1,this.autoStopped=!1,this.container=null,this.clip=null,this.list=null,this.buttonNext=null,this.buttonPrev=null,this.buttonNextState=null,this.buttonPrevState=null,o&&void 0!==o.rtl||(this.options.rtl="rtl"==(t(s).attr("dir")||t("html").attr("dir")||"").toLowerCase()),this.wh=this.options.vertical?"height":"width",this.lt=this.options.vertical?"top":this.options.rtl?"right":"left";for(var a="",r=s.className.split(" "),l=0;l<r.length;l++)if(r[l].indexOf("jcarousel-skin")!=-1){t(s).removeClass(r[l]),a=r[l];break}"UL"==s.nodeName.toUpperCase()||"OL"==s.nodeName.toUpperCase()?(this.list=t(s),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=t(s),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip")),0===this.clip.size()&&(this.clip=this.list.wrap("<div></div>").parent()),0===this.container.size()&&(this.container=this.clip.wrap("<div></div>").parent()),""!==a&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1&&this.container.wrap('<div class=" '+a+'"></div>'),this.buttonPrev=t(".jcarousel-prev",this.container),0===this.buttonPrev.size()&&null!==this.options.buttonPrevHTML&&(this.buttonPrev=t(this.options.buttonPrevHTML).appendTo(this.container)),this.buttonPrev.addClass(this.className("jcarousel-prev")),this.buttonNext=t(".jcarousel-next",this.container),0===this.buttonNext.size()&&null!==this.options.buttonNextHTML&&(this.buttonNext=t(this.options.buttonNextHTML).appendTo(this.container)),this.buttonNext.addClass(this.className("jcarousel-next")),this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"}),this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0),this.container.addClass(this.className("jcarousel-container")).css({position:"relative"}),!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var h=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,c=this.list.children("li"),d=this;if(c.size()>0){var u=0,p=this.options.offset;c.each(function(){d.format(this,p++),u+=d.dimension(this,h)}),this.list.css(this.wh,u+100+"px"),o&&void 0!==o.size||(this.options.size=c.size())}this.container.css("display","block"),this.buttonNext.css("display","block"),this.buttonPrev.css("display","block"),this.funcNext=function(){return d.next(),!1},this.funcPrev=function(){return d.prev(),!1},this.funcResize=function(){d.resizeTimer&&clearTimeout(d.resizeTimer),d.resizeTimer=setTimeout(function(){d.reload()},100)},null!==this.options.initCallback&&this.options.initCallback(this,"init"),!i&&n.isSafari()?(this.buttons(!1,!1),t(window).bind("load.jcarousel",function(){d.setup()})):this.setup()};var n=t.jcarousel;n.fn=n.prototype={jcarousel:"0.2.9"},n.fn.extend=n.extend=t.extend,n.fn.extend({setup:function(){if(this.first=null,this.last=null,this.prevFirst=null,this.prevLast=null,this.animating=!1,this.timer=null,this.resizeTimer=null,this.tail=null,this.inTail=!1,!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var e=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null,this.animate(e,!1),t(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize),null!==this.options.setupCallback&&this.options.setupCallback(this)}},reset:function(){this.list.empty(),this.list.css(this.lt,"0px"),this.list.css(this.wh,"10px"),null!==this.options.initCallback&&this.options.initCallback(this,"reset"),this.setup()},reload:function(){if(null!==this.tail&&this.inTail&&this.list.css(this.lt,n.intval(this.list.css(this.lt))+this.tail),this.tail=null,this.inTail=!1,null!==this.options.reloadCallback&&this.options.reloadCallback(this),null!==this.options.visible){var t=this,e=Math.ceil(this.clipping()/this.options.visible),i=0,s=0;this.list.children("li").each(function(n){i+=t.dimension(this,e),n+1<t.first&&(s=i)}),this.list.css(this.wh,i+"px"),this.list.css(this.lt,-s+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0,this.buttons()},unlock:function(){this.locked=!1,this.buttons()},size:function(t){return void 0!==t&&(this.options.size=t,this.locked||this.buttons()),this.options.size},has:function(t,e){void 0!==e&&e||(e=t),null!==this.options.size&&e>this.options.size&&(e=this.options.size);for(var i=t;i<=e;i++){var n=this.get(i);if(!n.length||n.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(e){return t(">.jcarousel-item-"+e,this.list)},add:function(e,i){var s=this.get(e),o=0,a=t(i);if(0===s.length){var r,l=n.intval(e);for(s=this.create(e);;)if(r=this.get(--l),l<=0||r.length){l<=0?this.list.prepend(s):r.after(s);break}}else o=this.dimension(s);"LI"==a.get(0).nodeName.toUpperCase()?(s.replaceWith(a),s=a):s.empty().append(i),this.format(s.removeClass(this.className("jcarousel-item-placeholder")),e);var h=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,c=this.dimension(s,h)-o;return e>0&&e<this.first&&this.list.css(this.lt,n.intval(this.list.css(this.lt))-c+"px"),this.list.css(this.wh,n.intval(this.list.css(this.wh))+c+"px"),s},remove:function(t){var e=this.get(t);if(e.length&&!(t>=this.first&&t<=this.last)){var i=this.dimension(e);t<this.first&&this.list.css(this.lt,n.intval(this.list.css(this.lt))+i+"px"),e.remove(),this.list.css(this.wh,n.intval(this.list.css(this.wh))-i+"px")}},next:function(){null===this.tail||this.inTail?this.scroll("both"!=this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||this.last!=this.options.size?this.first+this.options.scroll:1):this.scrollTail(!1)},prev:function(){null!==this.tail&&this.inTail?this.scrollTail(!0):this.scroll("both"!=this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||1!=this.first?this.first-this.options.scroll:this.options.size)},scrollTail:function(t){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var e=n.intval(this.list.css(this.lt));e=t?e+this.tail:e-this.tail,this.inTail=!t,this.prevFirst=this.first,this.prevLast=this.last,this.animate(e)}},scroll:function(t,e){this.locked||this.animating||(this.pauseAuto(),this.animate(this.pos(t),e))},pos:function(t,e){var i=n.intval(this.list.css(this.lt));if(this.locked||this.animating)return i;"circular"!=this.options.wrap&&(t=t<1?1:this.options.size&&t>this.options.size?this.options.size:t);for(var s,o=this.first>t,a="circular"!=this.options.wrap&&this.first<=1?1:this.first,r=o?this.get(a):this.get(this.last),l=o?a:a-1,h=null,c=0,d=!1,u=0;o?--l>=t:++l<t;)h=this.get(l),d=!h.length,0===h.length&&(h=this.create(l).addClass(this.className("jcarousel-item-placeholder")),r[o?"before":"after"](h),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(l<=0||l>this.options.size)&&(s=this.get(this.index(l)),s.length&&(h=this.add(l,s.clone(!0))))),r=h,u=this.dimension(h),d&&(c+=u),null!==this.first&&("circular"==this.options.wrap||l>=1&&(null===this.options.size||l<=this.options.size))&&(i=o?i+u:i-u);var p=this.clipping(),f=[],g=0,m=0;for(r=this.get(t-1),l=t;++g;){if(h=this.get(l),d=!h.length,0===h.length&&(h=this.create(l).addClass(this.className("jcarousel-item-placeholder")),0===r.length?this.list.prepend(h):r[o?"before":"after"](h),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(l<=0||l>this.options.size)&&(s=this.get(this.index(l)),s.length&&(h=this.add(l,s.clone(!0))))),r=h,u=this.dimension(h),0===u)throw new Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");if("circular"!=this.options.wrap&&null!==this.options.size&&l>this.options.size?f.push(h):d&&(c+=u),m+=u,m>=p)break;l++}for(var v=0;v<f.length;v++)f[v].remove();c>0&&(this.list.css(this.wh,this.dimension(this.list)+c+"px"),o&&(i-=c,this.list.css(this.lt,n.intval(this.list.css(this.lt))-c+"px")));var b=t+g-1;if("circular"!=this.options.wrap&&this.options.size&&b>this.options.size&&(b=this.options.size),l>b)for(g=0,l=b,m=0;++g&&(h=this.get(l--),h.length)&&(m+=this.dimension(h),!(m>=p)););var y=b-g+1;if("circular"!=this.options.wrap&&y<1&&(y=1),this.inTail&&o&&(i+=this.tail,this.inTail=!1),this.tail=null,"circular"!=this.options.wrap&&b==this.options.size&&b-g+1>=1){var x=n.intval(this.get(b).css(this.options.vertical?"marginBottom":"marginRight"));m-x>p&&(this.tail=m-p-x)}for(e&&t===this.options.size&&this.tail&&(i-=this.tail,this.inTail=!0);t-- >y;)i+=this.dimension(this.get(t));return this.prevFirst=this.first,this.prevLast=this.last,this.first=y,this.last=b,i},animate:function(e,i){if(!this.locked&&!this.animating){this.animating=!0;var n=this,s=function(){if(n.animating=!1,0===e&&n.list.css(n.lt,0),!n.autoStopped&&("circular"==n.options.wrap||"both"==n.options.wrap||"last"==n.options.wrap||null===n.options.size||n.last<n.options.size||n.last==n.options.size&&null!==n.tail&&!n.inTail)&&n.startAuto(),n.buttons(),n.notify("onAfterAnimation"),"circular"==n.options.wrap&&null!==n.options.size)for(var t=n.prevFirst;t<=n.prevLast;t++)null===t||t>=n.first&&t<=n.last||!(t<1||t>n.options.size)||n.remove(t)};if(this.notify("onBeforeAnimation"),this.options.animation&&i!==!1){var o=this.options.vertical?{top:e}:this.options.rtl?{right:e}:{left:e},a={duration:this.options.animation,easing:this.options.easing,complete:s};t.isFunction(this.options.animationStepCallback)&&(a.step=this.options.animationStepCallback),this.list.animate(o,a)}else this.list.css(this.lt,e+"px"),s()}},startAuto:function(t){if(void 0!==t&&(this.options.auto=t),0===this.options.auto)return this.stopAuto();if(null===this.timer){this.autoStopped=!1;var e=this;this.timer=window.setTimeout(function(){e.next()},1e3*this.options.auto)}},stopAuto:function(){this.pauseAuto(),this.autoStopped=!0},pauseAuto:function(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},buttons:function(t,e){null==t&&(t=!this.locked&&0!==this.options.size&&(this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||this.last<this.options.size),this.locked||this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||!(this.last>=this.options.size)||(t=null!==this.tail&&!this.inTail)),null==e&&(e=!this.locked&&0!==this.options.size&&(this.options.wrap&&"last"!=this.options.wrap||this.first>1),this.locked||this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||1!=this.first||(e=null!==this.tail&&this.inTail));var i=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),t&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[t?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",!t),null!==this.options.buttonNextCallback&&this.buttonNext.data("jcarouselstate")!=t&&this.buttonNext.each(function(){i.options.buttonNextCallback(i,this,t)}).data("jcarouselstate",t)):null!==this.options.buttonNextCallback&&this.buttonNextState!=t&&this.options.buttonNextCallback(i,null,t),this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),e&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[e?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",!e),null!==this.options.buttonPrevCallback&&this.buttonPrev.data("jcarouselstate")!=e&&this.buttonPrev.each(function(){i.options.buttonPrevCallback(i,this,e)}).data("jcarouselstate",e)):null!==this.options.buttonPrevCallback&&this.buttonPrevState!=e&&this.options.buttonPrevCallback(i,null,e),this.buttonNextState=t,this.buttonPrevState=e},notify:function(t){var e=null===this.prevFirst?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",t,e),this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",t,e,this.first),this.callback("itemFirstOutCallback",t,e,this.prevFirst)),this.prevLast!==this.last&&(this.callback("itemLastInCallback",t,e,this.last),this.callback("itemLastOutCallback",t,e,this.prevLast)),this.callback("itemVisibleInCallback",t,e,this.first,this.last,this.prevFirst,this.prevLast),this.callback("itemVisibleOutCallback",t,e,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(e,i,n,s,o,a,r){if(null!=this.options[e]&&("object"==typeof this.options[e]||"onAfterAnimation"==i)){var l="object"==typeof this.options[e]?this.options[e][i]:this.options[e];if(t.isFunction(l)){var h=this;if(void 0===s)l(h,n,i);else if(void 0===o)this.get(s).each(function(){l(h,this,s,n,i)});else for(var c=function(t){h.get(t).each(function(){l(h,this,t,n,i)})},d=s;d<=o;d++)null===d||d>=a&&d<=r||c(d)}}},create:function(t){return this.format("<li></li>",t)},format:function(e,i){e=t(e);for(var n=e.get(0).className.split(" "),s=0;s<n.length;s++)n[s].indexOf("jcarousel-")!=-1&&e.removeClass(n[s]);return e.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+i)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",i),e},className:function(t){return t+" "+t+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(e,i){var s=t(e);if(null==i)return this.options.vertical?s.innerHeight()+n.intval(s.css("margin-top"))+n.intval(s.css("margin-bottom"))+n.intval(s.css("border-top-width"))+n.intval(s.css("border-bottom-width"))||n.intval(this.options.itemFallbackDimension):s.innerWidth()+n.intval(s.css("margin-left"))+n.intval(s.css("margin-right"))+n.intval(s.css("border-left-width"))+n.intval(s.css("border-right-width"))||n.intval(this.options.itemFallbackDimension);var o=this.options.vertical?i-n.intval(s.css("marginTop"))-n.intval(s.css("marginBottom")):i-n.intval(s.css("marginLeft"))-n.intval(s.css("marginRight"));return t(s).css(this.wh,o+"px"),this.dimension(s)},clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-n.intval(this.clip.css("borderTopWidth"))-n.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-n.intval(this.clip.css("borderLeftWidth"))-n.intval(this.clip.css("borderRightWidth"))},index:function(t,e){return null==e&&(e=this.options.size),Math.round(((t-1)/e-Math.floor((t-1)/e))*e)+1}}),n.extend({defaults:function(i){return t.extend(e,i||{})},intval:function(t){return t=parseInt(t,10),isNaN(t)?0:t},windowLoaded:function(){i=!0},isSafari:function(){var t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||[],i=e[1]||"";return"webkit"===i}}),t.fn.jcarousel=function(e){if("string"==typeof e){var i=t(this).data("jcarousel"),s=Array.prototype.slice.call(arguments,1);return i[e].apply(i,s)}return this.each(function(){var i=t(this).data("jcarousel");i?(e&&t.extend(i.options,e),i.reload()):t(this).data("jcarousel",new n(this,e))})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function n(){var n;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),!1)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i;return t(this[0]).is("form")?e=this.validate().form():(e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e})),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n,s,o,a,r,l,h=this[0];if(e)switch(n=t.data(h.form,"validator").settings,s=n.rules,o=t.validator.staticRules(h),e){case"add":t.extend(o,t.validator.normalizeRule(i)),delete o.messages,s[h.name]=o,i.messages&&(n.messages[h.name]=t.extend(n.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=o[i],delete o[i],"required"===i&&t(h).removeAttr("aria-required")}),l):(delete s[h.name],o)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(h),t.validator.attributeRules(h),t.validator.dataRules(h),t.validator.staticRules(h)),h),a.required&&(r=a.required,delete a.required,a=t.extend({required:r},a),t(h).attr("aria-required","true")),a.remote&&(r=a.remote,delete a.remote,a=t.extend(a,{remote:r})),a}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,""),s=i.settings;s[n]&&!this.is(s.ignore)&&s[n].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),n=this.validationTargetFor(i),s=!0;return this.lastElement=n,void 0===n?delete this.invalid[i.name]:(this.prepareElement(n),this.currentElements=t(n),s=this.check(n)!==!1,s?delete this.invalid[n.name]:this.invalid[n.name]=!0),t(e).attr("aria-invalid",!s),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),s},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in i||!e.objectLength(t(this).rules()))&&(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n=t(e),s=e.type;return"radio"===s||"checkbox"===s?t("input[name='"+e.name+"']:checked").val():"number"===s&&"undefined"!=typeof e.validity?!e.validity.badInput&&n.val():(i=n.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,s,o=t(e).rules(),a=t.map(o,function(t,e){return e}).length,r=!1,l=this.elementValue(e);for(n in o){s={method:n,parameters:o[n]};try{if(i=t.validator.methods[n].call(this,l,e,s.parameters),"dependency-mismatch"===i&&1===a){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,s),!1}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",h),h}}if(!r)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var n=this.defaultMessage(e,i.method),s=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,i.parameters,e):s.test(n)&&(n=t.validator.format(n.replace(s,"{$1}"),i.parameters)),this.errorList.push({message:n,element:e,method:i.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,s,o,a=this.errorsFor(e),r=this.idOrName(e),l=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(a=t("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(i||""),n=a,this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),a.is("label")?a.attr("for",r):0===a.parents("label[for='"+r+"']").length&&(o=a.attr("id"),l?l.match(new RegExp("\b"+o+"\b"))||(l+=" "+o):l=o,t(e).attr("aria-describedby",l),s=this.groups[e.name],s&&t.each(this.groups,function(e,i){i===s&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var i=this.idOrName(e),n=t(e).attr("aria-describedby"),s="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(s=s+", #"+n.replace(/\s+/g,", #")),this.errors().filter(s)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i,n,s={},o=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=o.attr(i),/min|max/.test(i)&&(null===a||/number|range|text/.test(a))&&(n=Number(n)),n||0===n?s[i]=n:a===i&&"range"!==a&&(s[i]=!0);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var i,n,s={},o=t(e);for(i in t.validator.methods)n=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==n&&(s[i]=n);return s},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){
if(s===!1)return void delete e[n];if(s.param||s.depends){var o=!0;switch(typeof s.depends){case"string":o=!!t(s.depends,i.form).length;break;case"function":o=s.depends.call(i,i)}o?e[n]=void 0===s.param||s.param:delete e[n]}}),t.each(e,function(n,s){e[n]=t.isFunction(s)?s(i):s}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=t(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,s=0,o=0,a=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),o=parseInt(n,10),a&&(o*=2)>9&&(o-=9),s+=o,a=!a;return s%10===0},minlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=n},maxlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s<=n},rangelength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=n[0]&&s<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,n){var s=t(n);return this.settings.onfocusout&&s.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===s.val()},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var s,o,a=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,n="string"==typeof n&&{url:n}||n,a.old===e?a.valid:(a.old=e,s=this,this.startRequest(i),o={},o[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:s.currentForm,success:function(n){var o,r,l,h=n===!0||"true"===n;s.settings.messages[i.name].remote=a.originalMessage,h?(l=s.formSubmitted,s.prepareElement(i),s.formSubmitted=l,s.successList.push(i),delete s.invalid[i.name],s.showErrors()):(o={},r=n||s.defaultMessage(i,"remote"),o[i.name]=a.message=t.isFunction(r)?r(e):r,s.invalid[i.name]=!0,s.showErrors(o)),a.valid=h,s.stopRequest(i,h)}},n)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var s=t.port;"abort"===t.mode&&(i[s]&&i[s].abort(),i[s]=n)}):(e=t.ajax,t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,o=("port"in n?n:t.ajaxSettings).port;return"abort"===s?(i[o]&&i[o].abort(),i[o]=e.apply(this,arguments),i[o]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var s=t(i.target);if(s.is(e))return n.apply(s,arguments)})}})}),$(".validate").each(function(t,e){$(e).validate({errorPlacement:function(t,e){t.appendTo(e.parent())},invalidHandler:function(t,e){var i=$(e.currentForm).attr("name")||"Fixme ("+window.location.pathname+")";$.each(e.invalid,function(t,e){dataLayer.push({event:"GAEvent",eventCategory:"Form validate: "+i,eventAction:t,eventLabel:e})})},submitHandler:function(t){this.beenSubmitted||(this.beenSubmitted=!0,t.submit())}})}),$(".validate-relevant-agents").validate({errorPlacement:function(t,e){"branch_id"==e.attr("name")?t.appendTo($(".relevant-select")):t.appendTo(e.parent())},submitHandler:function(t){this.beenSubmitted||(this.beenSubmitted=!0,t.submit())}}),function(t){t.fn.caret=function(t,e){if(0!=this.length){if("number"==typeof t)return e="number"==typeof e?e:t,this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(t,e);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select()}});if(this[0].setSelectionRange)t=this[0].selectionStart,e=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var i=document.selection.createRange();t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length}return{begin:t,end:e}}}}(jQuery),jQuery.validator.addMethod("zdigits",function(t,e,i){return this.optional(e)||/^\d+$/.test(t)},"Please enter only digits."),jQuery.validator.addMethod("zfloat",function(t,e,i){return this.optional(e)||/^(?:\d+|\d{1,3}(?:\d{3})+)(?:\.\d+)?$/.test(t)},"Please enter only digits."),jQuery.validator.addMethod("maxprice",function(t,e,i){return this.optional(e)||t.replace(/,/g,"")<=i},jQuery.validator.format("Please enter a valid number.")),jQuery.validator.addMethod("minprice",function(t,e,i){return this.optional(e)||t.replace(/,/g,"")>=i},function(t,e){if(e.value){if(0==e.value)return"Please enter a valid number.";var i="",n=e.value.replace(/\D+/g,"");switch(n.length){case 1:i="00000";break;case 2:i="0000";break;case 3:i="000";break;case 4:i="00"}return"Please enter a valid number, i.e. "+formatThousands(n+i)+"."}}),jQuery.validator.addMethod("zarea",function(t,e,i){var n=$("#external_size_measure_acres");return null!=n.attr("checked")?this.optional(e)||/^(?:\d+|\d{1,3}(?:\d{3})+)(?:\.\d+)?$/.test(t):this.optional(e)||/^\d+$/.test(t)},function(t,e){var i=$("#external_size_measure_acres");return null!=i.attr("checked")?"Please enter as decimals, e.g. 0.25 or 1.5.":"Please enter only digits."}),jQuery.validator.addMethod("postcode",function(t,e,i){return this.optional(e)||/^[A-Z]{1,2}[0-9][0-9A-Z]? *[0-9][A-Z]{2}$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format('Please enter a valid postcode, e.g. "G46 7LA".')),jQuery.validator.addMethod("partialpostcode",function(t,e,i){return this.optional(e)||/^[A-Z]{1,2}[0-9][0-9A-Z]? *([0-9][A-Z]{2})?$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format('Please enter a valid postcode, e.g. "G46" or "G46 7LA".')),jQuery.validator.addMethod("outcode",function(t,e,i){return this.optional(e)||/^[A-Z]{1,2}[0-9][0-9A-Z]?$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format('Please enter a valid outcode, e.g. "G46".')),jQuery.validator.addMethod("incode",function(t,e,i){return this.optional(e)||/^[0-9][A-Z]{2}$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format('Please enter a valid incode, e.g. "7LA".')),jQuery.validator.addMethod("generalpostcode",function(t,e,i){return this.optional(e)||/^[\s\S]{2,12}$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format("Please enter a valid postcode.")),jQuery.validator.addMethod("telephone",function(t,e,i){return this.optional(e)||/^\+?(\d|\s|[-().,\/\\])*\d(\d|\s|[-().,\/\\])*\s*([-().,\/\\]*(EXTENSION|EXT|X)*\s*[0-9]+[-().,\/\\]*)?$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format("Please enter a valid telephone number.")),jQuery.validator.addMethod("telephonesimple",function(t,e,i){return this.optional(e)||/^(\d|\s|[-+()])*(\d(\d|\s|[-+()])*){7,}$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format("Please enter a valid telephone number.")),jQuery.validator.addMethod("fullname",function(t,e,i){return this.optional(e)||/^([-\.'[a-zA-Z\u0081-\uFFFF]*\s+)*(([a-zA-Z\u0081-\uFFFF]*[-'])*[a-zA-Z\u0081-\uFFFF]{2,}([-'][a-zA-Z\u0081-\uFFFF]*)*\s+)+([-\.'a-zA-Z\u0081-\uFFFF]*\s+)*([a-zA-Z\u0081-\uFFFF]*[-'])*[a-zA-Z\u0081-\uFFFF]{2,}([-'][a-zA-Z\u0081-\uFFFF]*)*(,?\s+[-\.'a-zA-Z\u0081-\uFFFF]*)*$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format("Please enter a full name.")),jQuery.validator.addMethod("alphaonly",function(t,e,i){return this.optional(e)||/.[a-zA-Z]+$/.test(jQuery.trim(t).toUpperCase())},jQuery.validator.format("Please enter only letters or spaces.")),jQuery.validator.addMethod("photo",function(t,e,i){return this.optional(e)||t.match(/\.(jpe?g|png|gif|bmp|tiff?)$/i)},jQuery.validator.format("Please upload a photo in JPEG, PNG, GIF, BMP or TIFF format.")),jQuery.validator.addMethod("ddmmyyyy",function(t,e,i){var n=!1;if(t){var s=t.split("/");n=3==s.length&&!isNaN(Date.parse(s[2]+"/"+s[1]+"/"+s[0]))}else this.optional(e)&&(n=!0);return n},jQuery.validator.format("Date must of the format DD/MM/YYYY")),String.prototype.reverse=function(){for(var t="",e=this.length;e>0;)t+=this.substring(e-1,e),e--;return t},function(t){var e,i,n,s,o,a,r,l,h,c,d,u,p,f=0,g={},m=[],v=0,b={},y=[],x=null,_=new Image,w=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,C=/[^\.]\.(swf)\s*$/i,k=1,S=0,T="",A=!1,$=t.extend(t("<div/>")[0],{prop:0}),I=!1,P=I&&void 0===window.XMLHttpRequest,L=function(){i.hide(),_.onerror=_.onload=null,x&&x.abort(),e.empty()},M=function(){return!1===g.onError(m,f,g)?(i.hide(),void(A=!1)):(g.titleShow=!1,g.width="auto",g.height="auto",e.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),void D())},F=function(){var n,s,o,r,l,h,c=m[f];if(L(),g=t.extend({},t.fn.fancybox.defaults,"undefined"==typeof t(c).data("fancybox")?g:t(c).data("fancybox")),h=g.onStart(m,f,g),h===!1)return void(A=!1);if("object"==typeof h&&(g=t.extend(g,h)),o=g.title||(c.nodeName?t(c).attr("title"):c.title)||"",c.nodeName&&!g.orig&&(g.orig=t(c).children("img:first").length?t(c).children("img:first"):t(c)),""===o&&g.orig&&g.titleFromAlt&&(o=g.orig.attr("alt")),n=g.href||(c.nodeName?t(c).attr("href"):c.href)||null,(/^(?:javascript)/i.test(n)||"#"==n)&&(n=null),g.type?(s=g.type,n||(n=g.content)):g.content?s="html":n&&(s=n.match(w)?"image":n.match(C)?"swf":t(c).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax"),!s)return void M();switch("inline"==s&&(c=n.substr(n.indexOf("#")),s=t(c).length>0?"inline":"ajax"),g.type=s,g.href=n,g.title=o,g.autoDimensions&&("html"==g.type||"inline"==g.type||"ajax"==g.type?(g.width="auto",g.height="auto"):g.autoDimensions=!1),g.modal&&(g.overlayShow=!0,g.hideOnOverlayClick=!1,g.hideOnContentClick=!1,g.enableEscapeButton=!1,g.showCloseButton=!1),g.padding=parseInt(g.padding,10),g.margin=parseInt(g.margin,10),e.css("padding",g.padding+g.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(a.children())}),s){case"html":e.html(g.content),D();break;case"inline":if(t(c).parent().is("#fancybox-content")===!0)return void(A=!1);t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(c)).bind("fancybox-cleanup",function(){t(this).replaceWith(a.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(e.children())}),t(c).appendTo(e),D();break;case"image":A=!1,t.fancybox.showActivity(),_=new Image,_.onerror=function(){M()},_.onload=function(){A=!0,_.onerror=_.onload=null,E()},_.src=n;break;case"swf":g.scrolling="no",r='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+g.width+'" height="'+g.height+'"><param name="movie" value="'+n+'"></param>',l="",t.each(g.swf,function(t,e){r+='<param name="'+t+'" value="'+e+'"></param>',l+=" "+t+'="'+e+'"'}),r+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+g.width+'" height="'+g.height+'"'+l+"></embed></object>",e.html(r),D();break;case"ajax":A=!1,t.fancybox.showActivity(),g.ajax.win=g.ajax.success,x=t.ajax(t.extend({},g.ajax,{url:n,data:g.ajax.data||{},error:function(t,e,i){t.status>0&&M()},success:function(t,s,o){var a="object"==typeof o?o:x;if(200==a.status){if("function"==typeof g.ajax.win){if(h=g.ajax.win(n,t,s,o),h===!1)return void i.hide();"string"!=typeof h&&"object"!=typeof h||(t=h)}e.html(t),D()}}}));break;case"iframe":O()}},D=function(){var i=g.width,n=g.height;i=i.toString().indexOf("%")>-1?parseInt((t(window).width()-2*g.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",n=n.toString().indexOf("%")>-1?parseInt((t(window).height()-2*g.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",e.wrapInner('<div style="width:'+i+";height:"+n+";overflow: "+("auto"==g.scrolling?"auto":"yes"==g.scrolling?"scroll":"hidden")+';position:relative;"></div>'),g.width=e.width(),g.height=e.height(),O()},E=function(){g.width=_.width,g.height=_.height,t("<img />").attr({id:"fancybox-img",src:_.src,alt:g.title}).appendTo(e),O()},O=function(){var o,d;return i.hide(),s.is(":visible")&&!1===b.onCleanup(y,v,b)?(t.event.trigger("fancybox-cancel"),void(A=!1)):(A=!0,t(a.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),s.is(":visible")&&"outside"!==b.titlePosition&&s.css("height",s.height()),y=m,v=f,b=g,b.overlayShow?(n.css({"background-color":b.overlayColor,opacity:b.overlayOpacity,cursor:b.hideOnOverlayClick?"pointer":"auto",height:t(document).height()}),n.is(":visible")||(P&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),p=G(),z(),s.is(":visible")?(t(r.add(h).add(c)).hide(),o=s.position(),u={top:o.top,left:o.left,width:s.width(),height:s.height()},d=u.width==p.width&&u.height==p.height,void a.fadeTo(b.changeFade,.3,function(){var i=function(){a.html(e.contents()).fadeTo(b.changeFade,1,j)};t.event.trigger("fancybox-change"),a.empty().removeAttr("filter").css({"border-width":b.padding,width:p.width-2*b.padding,height:g.autoDimensions?"auto":p.height-S-2*b.padding}),d?i():($.prop=0,t($).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:H,complete:i}))})):(s.removeAttr("style"),a.css("border-width",b.padding),"elastic"==b.transitionIn?(u=W(),a.html(e.contents()),s.show(),b.opacity&&(p.opacity=0),$.prop=0,void t($).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:H,complete:j})):("inside"==b.titlePosition&&S>0&&l.show(),a.css({width:p.width-2*b.padding,height:g.autoDimensions?"auto":p.height-S-2*b.padding}).html(e.contents()),void s.css(p).fadeIn("none"==b.transitionIn?0:b.speedIn,j))))},N=function(t){return!(!t||!t.length)&&("float"==b.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+b.titlePosition+'">'+t+"</div>")},z=function(){if(T=b.title||"",S=0,l.empty().removeAttr("style").removeClass(),b.titleShow===!1)return void l.hide();if(T=t.isFunction(b.titleFormat)?b.titleFormat(T,y,v,b):N(T),!T||""===T)return void l.hide();switch(l.addClass("fancybox-title-"+b.titlePosition).html(T).appendTo("body").show(),b.titlePosition){case"inside":l.css({width:p.width-2*b.padding,marginLeft:b.padding,marginRight:b.padding}),S=l.outerHeight(!0),l.appendTo(o),p.height+=S;break;case"over":l.css({marginLeft:b.padding,width:p.width-2*b.padding,bottom:b.padding}).appendTo(o);break;case"float":l.css("left",parseInt((l.width()-p.width-40)/2,10)*-1).appendTo(s);break;default:l.css({width:p.width-2*b.padding,paddingLeft:b.padding,paddingRight:b.padding}).appendTo(s)}l.hide()},B=function(){return(b.enableEscapeButton||b.enableKeyboardNav)&&t(document).bind("keydown.fb",function(e){27==e.keyCode&&b.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37!=e.keyCode&&39!=e.keyCode||!b.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),t.fancybox[37==e.keyCode?"prev":"next"]())}),b.showNavArrows?((b.cyclic&&y.length>1||0!==v)&&h.show(),void((b.cyclic&&y.length>1||v!=y.length-1)&&c.show())):(h.hide(),void c.hide())},j=function(){t.support.opacity||(a.get(0).style.removeAttribute("filter"),s.get(0).style.removeAttribute("filter")),g.autoDimensions&&a.css("height","auto"),s.css("height","auto"),T&&T.length&&l.show(),b.showCloseButton&&r.show(),B(),b.hideOnContentClick&&a.bind("click",t.fancybox.close),b.hideOnOverlayClick&&n.bind("click",t.fancybox.close),t(window).bind("resize.fb",t.fancybox.resize),b.centerOnScroll&&t(window).bind("scroll.fb",t.fancybox.center),"iframe"==b.type&&t('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(navigator.userAgent.match(/msie [6]/i)?'allowtransparency="true""':"")+' scrolling="'+g.scrolling+'" src="'+b.href+'"></iframe>').appendTo(a),s.show(),A=!1,t.fancybox.center(),b.onComplete(y,v,b),R()},R=function(){var t,e;y.length-1>v&&(t=y[v+1].href,"undefined"!=typeof t&&t.match(w)&&(e=new Image,e.src=t)),v>0&&(t=y[v-1].href,"undefined"!=typeof t&&t.match(w)&&(e=new Image,e.src=t))},H=function(t){var e={width:parseInt(u.width+(p.width-u.width)*t,10),height:parseInt(u.height+(p.height-u.height)*t,10),top:parseInt(u.top+(p.top-u.top)*t,10),left:parseInt(u.left+(p.left-u.left)*t,10)};"undefined"!=typeof p.opacity&&(e.opacity=t<.5?.5:t),s.css(e),a.css({width:e.width-2*b.padding,height:e.height-S*t-2*b.padding})},Z=function(){return[t(window).width()-2*b.margin,t(window).height()-2*b.margin,t(document).scrollLeft()+b.margin,t(document).scrollTop()+b.margin]},G=function(){var t,e=Z(),i={},n=b.autoScale,s=2*b.padding;return b.width.toString().indexOf("%")>-1?i.width=parseInt(e[0]*parseFloat(b.width)/100,10):i.width=b.width+s,b.height.toString().indexOf("%")>-1?i.height=parseInt(e[1]*parseFloat(b.height)/100,10):i.height=b.height+s,n&&(i.width>e[0]||i.height>e[1])&&("image"==g.type||"swf"==g.type?(t=b.width/b.height,i.width>e[0]&&(i.width=e[0],i.height=parseInt((i.width-s)/t+s,10)),i.height>e[1]&&(i.height=e[1],i.width=parseInt((i.height-s)*t+s,10))):(i.width=Math.min(i.width,e[0]),i.height=Math.min(i.height,e[1]))),i.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-i.height-40)),10),i.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-i.width-40)),10),i},U=function(t){var e=t.offset();return e.top+=parseInt(t.css("paddingTop"),10)||0,e.left+=parseInt(t.css("paddingLeft"),10)||0,e.top+=parseInt(t.css("border-top-width"),10)||0,e.left+=parseInt(t.css("border-left-width"),10)||0,e.width=t.width(),e.height=t.height(),e},W=function(){var e,i,n=!!g.orig&&t(g.orig),s={};return n&&n.length?(e=U(n),s={width:e.width+2*b.padding,height:e.height+2*b.padding,top:e.top-b.padding-20,left:e.left-b.padding-20}):(i=Z(),s={width:2*b.padding,height:2*b.padding,top:parseInt(i[3]+.5*i[1],10),left:parseInt(i[2]+.5*i[0],10)}),s},q=function(){return i.is(":visible")?(t("div",i).css("top",k*-40+"px"),void(k=(k+1)%12)):void clearInterval(d)};t.fn.fancybox=function(e){return t(this).length?(t(this).data("fancybox",t.extend({},e,{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!A){A=!0,t(this).blur(),m=[],f=0;var i=t(this).attr("rel")||"";!i||""==i||i.match(/(nofollow|noopener|noreferrer)/)?m.push(this):(m=t("a[rel="+i+"], area[rel="+i+"]"),f=m.index(this)),F()}}),this):this},t.fancybox=function(e){var i;if(!A){if(A=!0,i="undefined"!=typeof arguments[1]?arguments[1]:{},m=[],f=parseInt(i.index,10)||0,t.isArray(e)){for(var n=0,s=e.length;n<s;n++)"object"==typeof e[n]?t(e[n]).data("fancybox",t.extend({},i,e[n])):e[n]=t({}).data("fancybox",t.extend({content:e[n]},i));m=jQuery.merge(m,e)}else"object"==typeof e?t(e).data("fancybox",t.extend({},i,e)):e=t({}).data("fancybox",t.extend({content:e},i)),m.push(e);(f>m.length||f<0)&&(f=0),F()}},t.fancybox.showActivity=function(){clearInterval(d),i.show(),d=setInterval(q,66)},t.fancybox.hideActivity=function(){i.hide()},t.fancybox.next=function(){return t.fancybox.pos(v+1)},t.fancybox.prev=function(){return t.fancybox.pos(v-1)},t.fancybox.pos=function(t){A||(t=parseInt(t),m=y,t>-1&&t<y.length?(f=t,F()):b.cyclic&&y.length>1&&(f=t>=y.length?0:y.length-1,F()))},t.fancybox.cancel=function(){A||(A=!0,t.event.trigger("fancybox-cancel"),L(),g.onCancel(m,f,g),A=!1)},t.fancybox.close=function(){function e(){n.fadeOut("fast"),l.empty().hide(),s.hide(),t.event.trigger("fancybox-cleanup"),a.empty(),b.onClosed(y,v,b),y=g=[],v=f=0,b=g={},A=!1}if(!A&&!s.is(":hidden")){if(A=!0,b&&!1===b.onCleanup(y,v,b))return void(A=!1);if(L(),t(r.add(h).add(c)).hide(),t(a.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),a.find("iframe").attr("src",P&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==b.titlePosition&&l.empty(),s.stop(),"elastic"==b.transitionOut){u=W();var i=s.position();p={top:i.top,left:i.left,width:s.width(),height:s.height()},b.opacity&&(p.opacity=1),l.empty().hide(),$.prop=1,t($).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,step:H,complete:e})}else s.fadeOut("none"==b.transitionOut?0:b.speedOut,e)}},t.fancybox.resize=function(){n.is(":visible")&&n.css("height",t(document).height()),t.fancybox.center(!0)},t.fancybox.center=function(){var t,e;A||(e=arguments[0]===!0?1:0,t=Z(),!e&&(s.width()>t[0]||s.height()>t[1])||s.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-a.height()-40)-b.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-a.width()-40)-b.padding))},"number"==typeof arguments[0]?arguments[0]:200))},t.fancybox.init=function(){t("#fancybox-wrap").length||(t("body").append(e=t('<div id="fancybox-tmp"></div>'),i=t('<div id="fancybox-loading"><div></div></div>'),n=t('<div id="fancybox-overlay"></div>'),s=t('<div id="fancybox-wrap"></div>')),o=t('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(s),o.append(a=t('<div id="fancybox-content"></div>'),r=t('<a id="fancybox-close"></a>'),l=t('<div id="fancybox-title"></div>'),h=t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),c=t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),r.click(t.fancybox.close),i.click(t.fancybox.cancel),h.click(function(e){e.preventDefault(),t.fancybox.prev()}),c.click(function(e){e.preventDefault(),t.fancybox.next()}),t.fn.mousewheel&&s.bind("mousewheel.fb",function(e,i){A?e.preventDefault():0!=t(e.target).get(0).clientHeight&&t(e.target).get(0).scrollHeight!==t(e.target).get(0).clientHeight||(e.preventDefault(),t.fancybox[i>0?"prev":"next"]())}),t.support.opacity||s.addClass("fancybox-ie"),P&&(i.addClass("fancybox-ie6"),s.addClass("fancybox-ie6"),t('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)))},t.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.5,overlayColor:"#000",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},t(document).ready(function(){t.fancybox.init()})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var s,o,a,r=e.nodeName.toLowerCase();return"area"===r?(s=e.parentNode,o=s.name,!(!e.href||!o||"map"!==s.nodeName.toLowerCase())&&(a=t("img[usemap='#"+o+"']")[0],!!a&&i(a))):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&e(i,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,s)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,s=t(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;s<o.length;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}};var n=0,s=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{n=t._data(s,"events"),n&&n.remove&&t(s).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,o,a,r,l={},h=e.split(".")[0];return e=e.split(".")[1],s=h+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[h]=t[h]||{},o=t[h][e],a=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||e:e},l,{constructor:a,namespace:h,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;a<r;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=s.call(arguments,1),l=this;return a?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],
t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},n=e.split("."),e=n.shift(),n.length){for(s=a[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,a){function r(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?s.delegate(c,h,r):i.bind(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),a=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&t.effects&&t.effects.effect[r]?n[e](s):r!==e&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});var o=(t.widget,!1);t(document).mouseup(function(){o=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,s=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,o,a=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==s)return s;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),e=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),s=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||s?i.width():i.outerWidth(),height:n||s?i.height():i.outerHeight()}}},t.fn.position=function(s){if(!s||!s.of)return f.apply(this,arguments);s=t.extend({},s);var p,g,m,v,b,y,x=t(s.of),_=t.position.getWithinInfo(s.within),w=t.position.getScrollInfo(_),C=(s.collision||"flip").split(" "),k={};return y=n(x),x[0].preventDefault&&(s.at="left top"),g=y.width,m=y.height,v=y.offset,b=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(s[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=d.exec(i[0]),e=d.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],s[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===s.at[0]?b.left+=g:"center"===s.at[0]&&(b.left+=g/2),"bottom"===s.at[1]?b.top+=m:"center"===s.at[1]&&(b.top+=m/2),p=e(k.at,g,m),b.left+=p[0],b.top+=p[1],this.each(function(){var n,h,c=t(this),d=c.outerWidth(),u=c.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),S=d+f+i(this,"marginRight")+w.width,T=u+y+i(this,"marginBottom")+w.height,A=t.extend({},b),$=e(k.my,c.outerWidth(),c.outerHeight());"right"===s.my[0]?A.left-=d:"center"===s.my[0]&&(A.left-=d/2),"bottom"===s.my[1]?A.top-=u:"center"===s.my[1]&&(A.top-=u/2),A.left+=$[0],A.top+=$[1],o||(A.left=l(A.left),A.top=l(A.top)),n={marginLeft:f,marginTop:y},t.each(["left","top"],function(e,i){t.ui.position[C[e]]&&t.ui.position[C[e]][i](A,{targetWidth:g,targetHeight:m,elemWidth:d,elemHeight:u,collisionPosition:n,collisionWidth:S,collisionHeight:T,offset:[p[0]+$[0],p[1]+$[1]],my:s.my,at:s.at,within:_,elem:c})}),s.using&&(h=function(t){var e=v.left-A.left,i=e+g-d,n=v.top-A.top,o=n+m-u,l={target:{element:x,left:v.left,top:v.top,width:g,height:m},element:{element:c,left:A.left,top:A.top,width:d,height:u},horizontal:i<0?"left":e>0?"right":"center",vertical:o<0?"top":n>0?"bottom":"middle"};g<d&&r(e+i)<g&&(l.horizontal="center"),m<u&&r(n+o)<m&&(l.vertical="middle"),a(r(e),r(i))>a(r(n),r(o))?l.important="horizontal":l.important="vertical",s.using.call(this,t,l)}),c.offset(t.extend(A,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,l=s-r,h=r+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&h<=0?(i=t.left+l+e.collisionWidth-o-s,t.left+=l-i):h>0&&l<=0?t.left=s:l>h?t.left=s+o-e.collisionWidth:t.left=s:l>0?t.left+=l:h>0?t.left-=h:t.left=a(t.left-r,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,l=s-r,h=r+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&h<=0?(i=t.top+l+e.collisionHeight-o-s,t.top+=l-i):h>0&&l<=0?t.top=s:l>h?t.top=s+o-e.collisionHeight:t.top=s:l>0?t.top+=l:h>0?t.top-=h:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,d=h+e.collisionWidth-a-l,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?(i=t.left+u+p+f+e.collisionWidth-a-o,(i<0||i<r(c))&&(t.left+=u+p+f)):d>0&&(n=t.left-e.collisionPosition.marginLeft+u+p+f-l,(n>0||r(n)<d)&&(t.left+=u+p+f))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,d=h+e.collisionHeight-a-l,u="top"===e.my[1],p=u?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?(n=t.top+p+f+g+e.collisionHeight-a-o,(n<0||n<r(c))&&(t.top+=p+f+g)):d>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||r(i)<d)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,a,r=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)e.style[a]=n[a];e.appendChild(l),i=r||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",s=t(l).offset().left,o=s>10&&s<11,e.innerHTML="",i.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,s=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),s=n.uniqueId().attr("id");e.attr("aria-controls",s),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=s.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),o=s[0]===n[0],a=o&&i.collapsible,r=a?t():s.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:a?t():s,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=!a&&this.headers.index(s),this.active=o?t():s,this._toggle(h),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,s,o,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},d=h&&c.down||c,u=function(){a._toggleComplete(i)};return"number"==typeof d&&(o=d),"string"==typeof d&&(s=d),s=s||d.easing||c.easing,o=o||d.duration||c.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:s,complete:u,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,o,s,u):t.animate(this.showProps,o,s,u)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,s,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,n=this.previousFilter||"",s=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),s===n?o=!0:s=n+s,i=this._filterMenuItems(s),i=o&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(s=String.fromCharCode(e.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(e,i),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,n=this,s=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),n=t("<span>").addClass("ui-menu-icon ui-icon "+s).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),e=o.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),s<0?this.activeMenu.scrollTop(o+s):s+r>a&&this.activeMenu.scrollTop(o+s-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-s<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).text()))})}});t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,a="input"===s;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case o.UP:e=!0,this._keyEvent("previous",s);break;case o.DOWN:e=!0,this._keyEvent("next",s);break;case o.ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:
i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){var n,s;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(s=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:s})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value),n=i.item.attr("aria-label")||s.value,void(n&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});t.ui.autocomplete,t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;e<i;e++)a.push(o);this.handles=s.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,o,a,r,l,h,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(s>i||s===i&&(e===c._lastChangedValue||c.values(e)===d.min))&&(s=i,o=t(this),a=e)}),r=this._start(e,a),r!==!1&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),o!==!1&&this.values(e,i))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<s;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,n=Math.floor(+(t-e).toFixed(this._precision())/i)*i;t=n+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return i===-1?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,s,o,a=this.options.range,r=this.options,l=this,h=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(n=this.value(),s=this._valueMin(),o=this._valueMax(),i=o!==s?(n-s)/(o-s)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,n,s,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,n=s=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;s=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;s=this._trimAlignValue(n-o)}this._slide(e,a,s)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;e=e.cloneNode(!1),i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(s){}try{n=decodeURIComponent(n)}catch(s){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,s){if(t(s).attr("aria-controls")===n)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&e!==-1||(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=!i&&0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>s&&(e=0),e<0&&(e=s),e}for(var s=this.tabs.length-1;t.inArray(n(),this.options.disabled)!==-1;)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,s=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var s,o,a,r=t(n).uniqueId().attr("id"),l=t(n).closest("li"),h=l.attr("aria-controls");e._isLocal(n)?(s=n.hash,a=s.substring(1),o=e.element.find(e._sanitizeSelector(s))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,s="#"+a,o=e.element.find(s),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||t.inArray(n,e)!==-1?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),o=s.closest("li"),a=o[0]===n[0],r=a&&i.collapsible,l=r?t():this._getPanelForTab(o),h=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:h,newTab:r?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=!r&&this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,n):(a.show(),n())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),s()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),t.inArray(e,i)!==-1)return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,s=this.tabs.eq(e),o=s.find(".ui-tabs-anchor"),a=this._getPanelForTab(s),r={tab:s,panel:a},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,s){setTimeout(function(){a.html(t),n._trigger("load",i,r),l(s,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href"),beforeSend:function(e,o){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);s!==-1&&n.splice(s,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n.element[0],e.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,s=this,o=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){s._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,n){function s(t){h.of=t,a.is(":hidden")||a.position(h)}var o,a,r,l,h=t.extend({},this.options.position);if(n){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),
n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:s}),s(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(s(h.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,s=t(e?e.currentTarget:this.element),o=this._find(s);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)))):void s.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur"),o=n.element;s.target=s.currentTarget=o[0],e.close(s,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,s=n._mouseInit,o=n._mouseDestroy;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),s.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(jQuery),function(t){t.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var e=this;this.element.is("input")?(this.tagList=t("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.addClass("tagit-hidden-field")):this.tagList=this.element.find("ul, ol").andSelf().last(),this.tagInput=t('<input type="text" />').addClass("ui-widget-content"),this.options.readOnly&&this.tagInput.attr("disabled","disabled"),this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex),this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText),this.options.autocomplete.source||(this.options.autocomplete.source=function(e,i){var n=e.term.toLowerCase(),s=t.grep(this.options.availableTags,function(t){return 0===t.toLowerCase().indexOf(n)});this.options.allowDuplicates||(s=this._subtractArray(s,this.assignedTags())),i(s)}),this.options.showAutocompleteOnFocus&&(this.tagInput.focus(function(t,i){e._showAutocomplete()}),"undefined"==typeof this.options.autocomplete.minLength&&(this.options.autocomplete.minLength=0)),t.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=t.proxy(this.options.autocomplete.source,this)),t.isFunction(this.options.tagSource)&&(this.options.tagSource=t.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(t('<li class="tagit-new"></li>').append(this.tagInput)).click(function(i){var n=t(i.target);if(n.hasClass("tagit-label")){var s=n.closest(".tagit-choice");s.hasClass("removed")||e._trigger("onTagClicked",i,{tag:s,tagLabel:e.tagLabel(s)})}else e.tagInput.focus()});var i=!1;if(this.options.singleField)if(this.options.singleFieldNode){var n=t(this.options.singleFieldNode),s=n.val().split(this.options.singleFieldDelimiter);n.val(""),t.each(s,function(t,n){e.createTag(n,null,!0),i=!0})}else this.options.singleFieldNode=t('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode);if(i||this.tagList.children("li").each(function(){t(this).hasClass("tagit-new")||(e.createTag(t(this).text(),t(this).attr("class"),!0),t(this).remove())}),this.tagInput.keydown(function(i){if(i.which==t.ui.keyCode.BACKSPACE&&""===e.tagInput.val()){var n=e._lastTag();!e.options.removeConfirmation||n.hasClass("remove")?e.removeTag(n):e.options.removeConfirmation&&n.addClass("remove ui-state-highlight")}else e.options.removeConfirmation&&e._lastTag().removeClass("remove ui-state-highlight");(i.which===t.ui.keyCode.COMMA&&i.shiftKey===!1||i.which===t.ui.keyCode.ENTER||i.which==t.ui.keyCode.TAB&&""!==e.tagInput.val()||i.which==t.ui.keyCode.SPACE&&e.options.allowSpaces!==!0&&('"'!=t.trim(e.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==t.trim(e.tagInput.val()).charAt(0)&&'"'==t.trim(e.tagInput.val()).charAt(t.trim(e.tagInput.val()).length-1)&&t.trim(e.tagInput.val()).length-1!==0))&&(i.which===t.ui.keyCode.ENTER&&""===e.tagInput.val()||i.preventDefault(),e.options.autocomplete.autoFocus&&e.tagInput.data("autocomplete-open")||(e.tagInput.autocomplete("close"),e.createTag(e._cleanedInput())))}).blur(function(t){e.tagInput.data("autocomplete-open")||e.createTag(e._cleanedInput())}),this.options.availableTags||this.options.tagSource||this.options.autocomplete.source){var o={select:function(t,i){return e.createTag(i.item.value),!1}};t.extend(o,this.options.autocomplete),o.source=this.options.tagSource||o.source,this.tagInput.autocomplete(o).bind("autocompleteopen.tagit",function(t,i){e.tagInput.data("autocomplete-open",!0)}).bind("autocompleteclose.tagit",function(t,i){e.tagInput.data("autocomplete-open",!1)}),this.tagInput.autocomplete("widget").addClass("tagit-autocomplete")}},destroy:function(){return t.Widget.prototype.destroy.call(this),this.element.unbind(".tagit"),this.tagList.unbind(".tagit"),this.tagInput.removeData("autocomplete-open"),this.tagList.removeClass(["tagit","ui-widget","ui-widget-content","ui-corner-all","tagit-hidden-field"].join(" ")),this.element.is("input")?(this.element.removeClass("tagit-hidden-field"),this.tagList.remove()):(this.element.children("li").each(function(){t(this).hasClass("tagit-new")?t(this).remove():(t(this).removeClass(["tagit-choice","ui-widget-content","ui-state-default","ui-state-highlight","ui-corner-all","remove","tagit-choice-editable","tagit-choice-read-only"].join(" ")),t(this).text(t(this).children(".tagit-label").text()))}),this.singleFieldNode&&this.singleFieldNode.remove()),this},_cleanedInput:function(){return t.trim(this.tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var e=this,i=[];return this.options.singleField?(i=t(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===i[0]&&(i=[])):this._tags().each(function(){i.push(e.tagLabel(this))}),i},_updateSingleTagsField:function(e){t(this.options.singleFieldNode).val(e.join(this.options.singleFieldDelimiter)).trigger("change")},_subtractArray:function(e,i){for(var n=[],s=0;s<e.length;s++)t.inArray(e[s],i)==-1&&n.push(e[s]);return n},tagLabel:function(e){return this.options.singleField?t(e).find(".tagit-label:first").text():t(e).find("input:first").val()},_showAutocomplete:function(){this.tagInput.autocomplete("search","")},_findTagByLabel:function(e){var i=this,n=null;return this._tags().each(function(s){if(i._formatStr(e)==i._formatStr(i.tagLabel(this)))return n=t(this),!1}),n},_isNew:function(t){return!this._findTagByLabel(t)},_formatStr:function(e){return this.options.caseSensitive?e:t.trim(e.toLowerCase())},_effectExists:function(e){return Boolean(t.effects&&(t.effects[e]||t.effects.effect&&t.effects.effect[e]))},createTag:function(e,i,n){var s=this;if(e=t.trim(e),this.options.preprocessTag&&(e=this.options.preprocessTag(e)),""===e)return!1;if(!this.options.allowDuplicates&&!this._isNew(e)){var o=this._findTagByLabel(e);return this._trigger("onTagExists",null,{existingTag:o,duringInitialization:n})!==!1&&this._effectExists("highlight")&&o.effect("highlight"),!1}if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit)return this._trigger("onTagLimitExceeded",null,{duringInitialization:n}),!1;var a=t(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(e),r=t("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(i).append(a);if(this.options.readOnly)r.addClass("tagit-choice-read-only");else{r.addClass("tagit-choice-editable");var l=t("<span></span>").addClass("ui-icon ui-icon-close"),h=t('<a><span class="text-icon">×</span></a>').addClass("tagit-close").append(l).click(function(t){s.removeTag(r)});r.append(h)}if(!this.options.singleField){var c=a.html();r.append('<input type="hidden" value="'+c+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />')}if(this._trigger("beforeTagAdded",null,{tag:r,tagLabel:this.tagLabel(r),duringInitialization:n})!==!1){if(this.options.singleField){var d=this.assignedTags();d.push(e),this._updateSingleTagsField(d)}this._trigger("onTagAdded",null,r),this.tagInput.val(""),this.tagInput.parent().before(r),this._trigger("afterTagAdded",null,{tag:r,tagLabel:this.tagLabel(r),duringInitialization:n}),this.options.showAutocompleteOnFocus&&!n&&setTimeout(function(){s._showAutocomplete()},0)}},removeTag:function(e,i){if(i="undefined"==typeof i?this.options.animate:i,e=t(e),this._trigger("onTagRemoved",null,e),this._trigger("beforeTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})!==!1){if(this.options.singleField){var n=this.assignedTags(),s=this.tagLabel(e);n=t.grep(n,function(t){return t!=s}),this._updateSingleTagsField(n)}if(i){e.addClass("removed");var o=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"],a=this;o.push(function(){e.remove(),a._trigger("afterTagRemoved",null,{tag:e,tagLabel:a.tagLabel(e)})}),e.fadeOut("fast").hide.apply(e,o).dequeue()}else e.remove(),this._trigger("afterTagRemoved",null,{tag:e,tagLabel:this.tagLabel(e)})}},removeTagByLabel:function(t,e){var i=this._findTagByLabel(t);if(!i)throw"No such tag exists with the name '"+t+"'";this.removeTag(i,e)},removeAll:function(){var t=this;this._tags().each(function(e,i){t.removeTag(i,!1)})}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return t}function i(t){return decodeURIComponent(t.replace(s," "))}function n(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o.json?JSON.parse(t):t}catch(e){}}var s=/\+/g,o=t.cookie=function(s,a,r){if(void 0!==a){if(r=t.extend({},o.defaults,r),"number"==typeof r.expires){var l=r.expires,h=r.expires=new Date;h.setDate(h.getDate()+l)}return a=o.json?JSON.stringify(a):String(a),document.cookie=[o.raw?s:encodeURIComponent(s),"=",o.raw?a:encodeURIComponent(a),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var c=o.raw?e:i,d=document.cookie.split("; "),u=s?void 0:{},p=0,f=d.length;p<f;p++){var g=d[p].split("="),m=c(g.shift()),v=c(g.join("="));if(s&&s===m){u=n(v);break}s||(u[m]=n(v))}return u};o.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!0)}}),function(t){"use strict";t(window.jQuery,window,document)}(function(t,e,i,n){"use strict";t.widget("selectBox.selectBoxIt",{VERSION:"3.7.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:!0,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"default",keydownOpen:!0,isMobile:function(){var t=navigator.userAgent||navigator.vendor||e.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(t)},"native":!1,aggressiveChange:!1,selectWhenHidden:!0,viewport:t(e),similarSearch:!1,copyAttributes:["title","rel"],copyClasses:"button",nativeMousedown:!1,customShowHideEvent:!1,autoWidth:!0,html:!0,populate:"",dynamicPositioning:!0,hideCurrent:!1},getThemes:function(){var e=this,i=t(e.element).attr("data-theme")||"c";return{bootstrap:{focus:"active",hover:"",enabled:"enabled",disabled:"disabled",arrow:"caret",button:"btn",list:"dropdown-menu",container:"bootstrap",open:"open"},jqueryui:{focus:"ui-state-focus",hover:"ui-state-hover",enabled:"ui-state-enabled",disabled:"ui-state-disabled",arrow:"ui-icon ui-icon-triangle-1-s",button:"ui-widget ui-state-default",list:"ui-widget ui-widget-content",container:"jqueryui",open:"selectboxit-open"},jquerymobile:{focus:"ui-btn-down-"+i,hover:"ui-btn-hover-"+i,enabled:"ui-enabled",disabled:"ui-disabled",arrow:"ui-icon ui-icon-arrow-d ui-icon-shadow",button:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+i,list:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+i,container:"jquerymobile",open:"selectboxit-open"},"default":{focus:"selectboxit-focus",hover:"selectboxit-hover",enabled:"selectboxit-enabled",disabled:"selectboxit-disabled",arrow:"selectboxit-default-arrow",button:"selectboxit-btn",list:"selectboxit-list",container:"selectboxit-container",open:"selectboxit-open"}}},isDeferred:function(e){return t.isPlainObject(e)&&e.promise&&e.done},_create:function(e){var n=this,s=n.options.populate;if(n.element.is("select"))return n.widgetProto=t.Widget.prototype,n.originalElem=n.element[0],n.selectBox=n.element,n.options.populate&&n.add&&!e&&n.add(s),n.selectItems=n.element.find("option"),n.firstSelectItem=n.selectItems.slice(0,1),n.documentHeight=t(i).height(),n.theme=n.getThemes()[n.options.theme]||n.getThemes()["default"],n.currentFocus=0,n.blur=!0,n.textArray=[],n.currentIndex=0,n.currentText="",n.flipped=!1,e||(n.selectBoxStyles=n.selectBox.attr("style")),n._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(n.theme)._eventHandlers(),n.originalElem.disabled&&n.disable&&n.disable(),n._ariaAccessibility&&n._ariaAccessibility(),n.isMobile=n.options.isMobile(),n._mobile&&n._mobile(),n.options["native"]&&this._applyNativeSelect(),n.triggerEvent("create"),n},_createDropdownButton:function(){var e=this,i=e.originalElemId=e.originalElem.id||"",n=e.originalElemValue=e.originalElem.value||"",s=e.originalElemName=e.originalElem.name||"",o=e.options.copyClasses,a=e.selectBox.attr("class")||"";return e.dropdownText=t("<span/>",{id:i&&i+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:e.firstSelectItem.text()}).attr("data-val",n),e.dropdownImageContainer=t("<span/>",{"class":"selectboxit-option-icon-container"}),e.dropdownImage=t("<i/>",{id:i&&i+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"}),e.dropdown=t("<span/>",{id:i&&i+"SelectBoxIt","class":"selectboxit "+("button"===o?a:"")+" "+(e.selectBox.prop("disabled")?e.theme.disabled:e.theme.enabled),name:s,tabindex:e.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(e.dropdownImageContainer.append(e.dropdownImage)).append(e.dropdownText),e.dropdownContainer=t("<span/>",{id:i&&i+"SelectBoxItContainer","class":"selectboxit-container "+("container"===o?a:"")}).append(e.dropdown),e},_createUnorderedList:function(){var e,i,n,s,o,a,r,l,h,c,d,u=this,p="",f=u.originalElemId||"",g=t("<ul/>",{id:f&&f+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1});if(u.options.showFirstOption||(u.selectItems.first().attr("disabled","disabled"),u.selectItems=u.selectBox.find("option").slice(1)),u.selectItems.each(function(f){i="",n="",e=t(this).prop("disabled"),s=t(this).attr("data-icon")||"",o=t(this).attr("data-iconurl")||"",a=o?"selectboxit-option-icon-url":"",r=o?"style=\"background-image:url('"+o+"');\"":"",l=t(this).attr("data-selectedtext"),h=t(this).attr("data-text"),c=h?h:t(this).text(),d=t(this).parent(),d.is("optgroup")&&(i="selectboxit-optgroup-option",0===t(this).index()&&(n='<span class="selectboxit-optgroup-header '+d.first().attr("class")+'"data-disabled="true">'+d.first().attr("label")+"</span>")),p+=n+'<li id="'+f+'" data-val="'+this.value+'" data-disabled="'+e+'" class="'+i+" selectboxit-option "+(t(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '+s+" "+(a||u.theme.container)+'"'+r+"></i></span>"+(u.options.html?c:u.htmlEscape(c))+"</a></li>",u.textArray[f]=e?"":c,this.selected&&(u._setText(u.dropdownText,l||c),u.currentFocus=f)}),u.options.defaultText||u.selectBox.attr("data-text")){var m=u.options.defaultText||u.selectBox.attr("data-text");u._setText(u.dropdownText,m),u.options.defaultText=m}return g.append(p),u.list=g,u.dropdownContainer.append(u.list),u.listItems=u.list.children("li"),u.listAnchors=u.list.find("a"),u.listItems.first().addClass("selectboxit-option-first"),u.listItems.last().addClass("selectboxit-option-last"),u.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(u.theme.disabled),u.dropdownImage.addClass(u.selectBox.attr("data-icon")||u.options.defaultIcon||u.listItems.eq(u.currentFocus).find("i").attr("class")),u.dropdownImage.attr("style",u.listItems.eq(u.currentFocus).find("i").attr("style")),u},_replaceSelectBox:function(){var e,i=this,s=i.originalElem.id||"",o=i.selectBox.attr("data-size"),a=i.listSize=o===n?"auto":"0"===o?"auto":+o;return i.selectBox.css("display","none").after(i.dropdownContainer),e=i.dropdown.height(),i.downArrow=t("<i/>",{id:s&&s+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"}),i.downArrowContainer=t("<span/>",{id:s&&s+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(i.downArrow),i.dropdown.append(i.downArrowContainer),i.listItems.removeClass("selectboxit-selected").eq(i.currentFocus).addClass("selectboxit-selected"),i._realOuterWidth(i.dropdownImageContainer)||i.dropdownImageContainer.remove(),i.options.autoWidth&&(i.dropdown.is(":visible")?i.dropdown.css({width:"auto"}).css({width:i.list.outerWidth(!0)+i.downArrowContainer.outerWidth(!0)+i.dropdownImage.outerWidth(!0)}):i.dropdown.css({width:"auto"}).css({width:i._realOuterWidth(i.list)+i._realOuterWidth(i.downArrowContainer)+i._realOuterWidth(i.dropdownImage)}),i.list.css({"min-width":i.dropdown.width()})),i.dropdownContainer.addClass("selectboxit-rendering"),i.dropdownText.css({"max-width":i.dropdownContainer.outerWidth(!0)-(i.downArrowContainer.outerWidth(!0)+i.dropdownImage.outerWidth(!0))}),i.dropdownContainer.removeClass("selectboxit-rendering"),"number"===t.type(a)&&(i.maxHeight=i.listAnchors.outerHeight(!0)*a),i},_scrollToView:function(t){var e=this,i=e.listItems.eq(e.currentFocus),n=e.list.scrollTop(),s=i.height(),o=i.position().top,a=Math.abs(o),r=e.list.height();return"search"===t?r-o<s?e.list.scrollTop(n+(o-(r-s))):o<-1&&e.list.scrollTop(o-s):"up"===t?o<-1&&e.list.scrollTop(n-a):"down"===t&&r-o<s&&e.list.scrollTop(n+(a-r+s)),e},_callbackSupport:function(e){var i=this;return t.isFunction(e)&&e.call(i,i.dropdown),i},_setText:function(t,e){var i=this;return i.options.html?t.html(e):t.text(e),i},open:function(t){var e=this,i=e.options.showEffect,n=e.options.showEffectSpeed,s=e.options.showEffectOptions,o=e.options["native"],a=e.isMobile;return!e.listItems.length||e.dropdown.hasClass(e.theme.disabled)?e:(o||a||this.list.is(":visible")||(e.triggerEvent("open"),e._dynamicPositioning&&e.options.dynamicPositioning&&e._dynamicPositioning(),"none"===i?e.list.show():"show"===i||"slideDown"===i||"fadeIn"===i?e.list[i](n):e.list.show(i,s,n),e.list.promise().done(function(){e._scrollToView("search")})),e._callbackSupport(t),e)},close:function(t){var e=this,i=e.options.hideEffect,n=e.options.hideEffectSpeed,s=e.options.hideEffectOptions,o=e.options["native"],a=e.isMobile;return o||a||!e.list.is(":visible")||(e.triggerEvent("close"),"none"===i?e.list.hide():"hide"===i||"slideUp"===i||"fadeOut"===i?e.list[i](n):e.list.hide(i,s,n)),e._callbackSupport(t),e},toggle:function(){var t=this,e=t.list.is(":visible");e?t.close():e||t.open()},_keyMappings:{38:"up",40:"down",13:"enter",8:"backspace",9:"tab",32:"space",27:"esc"},_keydownMethods:function(){var t=this,e=t.list.is(":visible")||!t.options.keydownOpen;return{down:function(){t.moveDown&&e&&t.moveDown()},up:function(){t.moveUp&&e&&t.moveUp()},enter:function(){var e=t.listItems.eq(t.currentFocus);t._update(e),"true"!==e.attr("data-preventclose")&&t.close(),t.triggerEvent("enter")},tab:function(){t.triggerEvent("tab-blur"),t.close()},backspace:function(){t.triggerEvent("backspace")},esc:function(){t.close()}}},_eventHandlers:function(){var e,i,n=this,s=n.options.nativeMousedown,o=n.options.customShowHideEvent,a=n.focusClass,r=n.hoverClass,l=n.openClass;return this.dropdown.on({"click.selectBoxIt":function(){n.dropdown.trigger("focus",!0),n.originalElem.disabled||(n.triggerEvent("click"),s||o||n.toggle())},"mousedown.selectBoxIt":function(){t(this).data("mdown",!0),n.triggerEvent("mousedown"),s&&!o&&n.toggle()},"mouseup.selectBoxIt":function(){n.triggerEvent("mouseup")},"blur.selectBoxIt":function(){n.blur&&(n.triggerEvent("blur"),n.close(),t(this).removeClass(a))},"focus.selectBoxIt":function(e,i){var s=t(this).data("mdown");t(this).removeData("mdown"),s||i||setTimeout(function(){n.triggerEvent("tab-focus")},0),i||(t(this).hasClass(n.theme.disabled)||t(this).addClass(a),n.triggerEvent("focus"))},"keydown.selectBoxIt":function(t){var e=n._keyMappings[t.keyCode],i=n._keydownMethods()[e];i&&(i(),!n.options.keydownOpen||"up"!==e&&"down"!==e||n.open()),i&&"tab"!==e&&t.preventDefault()},"keypress.selectBoxIt":function(t){var e=t.charCode||t.keyCode,i=n._keyMappings[t.charCode||t.keyCode],s=String.fromCharCode(e);n.search&&(!i||i&&"space"===i)&&n.search(s,!0,!0),"space"===i&&t.preventDefault()},"mouseenter.selectBoxIt":function(){n.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){n.triggerEvent("mouseleave")}}),n.list.on({"mouseover.selectBoxIt":function(){n.blur=!1},"mouseout.selectBoxIt":function(){n.blur=!0},"focusin.selectBoxIt":function(){n.dropdown.trigger("focus",!0)}}),n.list.on({"mousedown.selectBoxIt":function(){n._update(t(this)),n.triggerEvent("option-click"),"false"===t(this).attr("data-disabled")&&"true"!==t(this).attr("data-preventclose")&&n.close(),setTimeout(function(){n.dropdown.trigger("focus",!0)},0)},"focusin.selectBoxIt":function(){n.listItems.not(t(this)).removeAttr("data-active"),t(this).attr("data-active","");var e=n.list.is(":hidden");(n.options.searchWhenHidden&&e||n.options.aggressiveChange||e&&n.options.selectWhenHidden)&&n._update(t(this)),t(this).addClass(a)},"mouseup.selectBoxIt":function(){s&&!o&&(n._update(t(this)),n.triggerEvent("option-mouseup"),"false"===t(this).attr("data-disabled")&&"true"!==t(this).attr("data-preventclose")&&n.close())},"mouseenter.selectBoxIt":function(){"false"===t(this).attr("data-disabled")&&(n.listItems.removeAttr("data-active"),t(this).addClass(a).attr("data-active",""),n.listItems.not(t(this)).removeClass(a),t(this).addClass(a),n.currentFocus=+t(this).attr("id"))},"mouseleave.selectBoxIt":function(){"false"===t(this).attr("data-disabled")&&(n.listItems.not(t(this)).removeClass(a).removeAttr("data-active"),t(this).addClass(a),n.currentFocus=+t(this).attr("id"))},"blur.selectBoxIt":function(){t(this).removeClass(a)}},".selectboxit-option"),n.list.on({"click.selectBoxIt":function(t){t.preventDefault()}},"a"),n.selectBox.on({"change.selectBoxIt, internal-change.selectBoxIt":function(t,s){var o,a;s||(o=n.list.find('li[data-val="'+n.originalElem.value+'"]'),o.length&&(n.listItems.eq(n.currentFocus).removeClass(n.focusClass),n.currentFocus=+o.attr("id"))),o=n.listItems.eq(n.currentFocus),a=o.attr("data-selectedtext"),e=o.attr("data-text"),i=e?e:o.find("a").text(),n._setText(n.dropdownText,a||i),n.dropdownText.attr("data-val",n.originalElem.value),o.find("i").attr("class")&&(n.dropdownImage.attr("class",o.find("i").attr("class")).addClass("selectboxit-default-icon"),n.dropdownImage.attr("style",o.find("i").attr("style"))),n.triggerEvent("changed")},"disable.selectBoxIt":function(){n.dropdown.addClass(n.theme.disabled)},"enable.selectBoxIt":function(){n.dropdown.removeClass(n.theme.disabled)},"open.selectBoxIt":function(){var t,e=n.list.find("li[data-val='"+n.dropdownText.attr("data-val")+"']");e.length||(e=n.listItems.not("[data-disabled=true]").first()),n.currentFocus=+e.attr("id"),t=n.listItems.eq(n.currentFocus),n.dropdown.addClass(l).removeClass(r).addClass(a),n.listItems.removeClass(n.selectedClass).removeAttr("data-active").not(t).removeClass(a),t.addClass(n.selectedClass).addClass(a),n.options.hideCurrent&&(n.listItems.show(),t.hide())},"close.selectBoxIt":function(){n.dropdown.removeClass(l)},"blur.selectBoxIt":function(){n.dropdown.removeClass(a)},"mouseenter.selectBoxIt":function(){t(this).hasClass(n.theme.disabled)||n.dropdown.addClass(r)},"mouseleave.selectBoxIt":function(){n.dropdown.removeClass(r)},destroy:function(t){t.preventDefault(),t.stopPropagation()}}),n},_update:function(t){var e,i,n,s=this,o=s.options.defaultText||s.selectBox.attr("data-text"),a=s.listItems.eq(s.currentFocus);"false"===t.attr("data-disabled")&&(e=s.listItems.eq(s.currentFocus).attr("data-selectedtext"),i=a.attr("data-text"),n=i?i:a.text(),(o&&s.options.html?s.dropdownText.html()===o:s.dropdownText.text()===o)&&s.selectBox.val()===t.attr("data-val")?s.triggerEvent("change"):(s.selectBox.val(t.attr("data-val")),s.currentFocus=+t.attr("id"),s.originalElem.value!==s.dropdownText.attr("data-val")&&s.triggerEvent("change")))},_addClasses:function(t){var e=this,i=(e.focusClass=t.focus,e.hoverClass=t.hover,t.button),n=t.list,s=t.arrow,o=t.container;e.openClass=t.open;return e.selectedClass="selectboxit-selected",e.downArrow.addClass(e.selectBox.attr("data-downarrow")||e.options.downArrowIcon||s),e.dropdownContainer.addClass(o),e.dropdown.addClass(i),e.list.addClass(n),e},refresh:function(t,e){var i=this;return i._destroySelectBoxIt()._create(!0),e||i.triggerEvent("refresh"),i._callbackSupport(t),i},htmlEscape:function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(t){var e=this,i=e.options.showFirstOption?e.currentFocus:e.currentFocus-1>=0?e.currentFocus:0;return e.selectBox.trigger(t,{selectbox:e.selectBox,selectboxOption:e.selectItems.eq(i),dropdown:e.dropdown,dropdownOption:e.listItems.eq(e.currentFocus)}),e},_copyAttributes:function(){var t=this;return t._addSelectBoxAttributes&&t._addSelectBoxAttributes(),t},_realOuterWidth:function(t){if(t.is(":visible"))return t.outerWidth(!0);var e,i=t.clone();return i.css({visibility:"hidden",display:"block",position:"absolute"}).appendTo("body"),e=i.outerWidth(!0),i.remove(),e}});var s=t.selectBox.selectBoxIt.prototype;s._ariaAccessibility=function(){var e=this,i=t("label[for='"+e.originalElem.id+"']");return e.dropdownContainer.attr({role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":"false","aria-owns":e.list[0].id}),e.dropdownText.attr({"aria-live":"polite"}),e.dropdown.on({"disable.selectBoxIt":function(){e.dropdownContainer.attr("aria-disabled","true")},"enable.selectBoxIt":function(){e.dropdownContainer.attr("aria-disabled","false")}}),i.length&&e.dropdownContainer.attr("aria-labelledby",i[0].id),e.list.attr({role:"listbox","aria-hidden":"true"}),e.listItems.attr({role:"option"}),e.selectBox.on({"open.selectBoxIt":function(){e.list.attr("aria-hidden","false"),e.dropdownContainer.attr("aria-expanded","true")},"close.selectBoxIt":function(){e.list.attr("aria-hidden","true"),e.dropdownContainer.attr("aria-expanded","false")}}),e},s._addSelectBoxAttributes=function(){var e=this;return e._addAttributes(e.selectBox.prop("attributes"),e.dropdown),e.selectItems.each(function(i){e._addAttributes(t(this).prop("attributes"),e.listItems.eq(i))}),e},s._addAttributes=function(e,i){var n=this,s=n.options.copyAttributes;return e.length&&t.each(e,function(e,n){var o=n.name.toLowerCase(),a=n.value;"null"===a||t.inArray(o,s)===-1&&o.indexOf("data")===-1||i.attr(o,a)}),n},s.destroy=function(t){var e=this;return e._destroySelectBoxIt(),e.widgetProto.destroy.call(e),e._callbackSupport(t),e},s._destroySelectBoxIt=function(){var e=this;return e.dropdown.off(".selectBoxIt"),t.contains(e.dropdownContainer[0],e.originalElem)&&e.dropdownContainer.before(e.selectBox),e.dropdownContainer.remove(),e.selectBox.removeAttr("style").attr("style",e.selectBoxStyles),e.selectBox.show(),e.triggerEvent("destroy"),e},s.disable=function(t){var e=this;return e.options.disabled||(e.close(),e.selectBox.attr("disabled","disabled"),e.dropdown.removeAttr("tabindex").removeClass(e.theme.enabled).addClass(e.theme.disabled),e.setOption("disabled",!0),e.triggerEvent("disable")),e._callbackSupport(t),e},s.disableOption=function(e,i){var n,s,o,a=this,r=t.type(e);return"number"===r&&(a.close(),n=a.selectBox.find("option").eq(e),a.triggerEvent("disable-option"),n.attr("disabled","disabled"),a.listItems.eq(e).attr("data-disabled","true").addClass(a.theme.disabled),a.currentFocus===e&&(s=a.listItems.eq(a.currentFocus).nextAll("li").not("[data-disabled='true']").first().length,o=a.listItems.eq(a.currentFocus).prevAll("li").not("[data-disabled='true']").first().length,s?a.moveDown():o?a.moveUp():a.disable())),a._callbackSupport(i),a},s._isDisabled=function(t){var e=this;return e.originalElem.disabled&&e.disable(),e},s._dynamicPositioning=function(){var e=this;if("number"===t.type(e.listSize))e.list.css("max-height",e.maxHeight||"none");else{var i=e.dropdown.offset().top,n=e.list.data("max-height")||e.list.outerHeight(),s=e.dropdown.outerHeight(),o=e.options.viewport,a=o.height(),r=t.isWindow(o.get(0))?o.scrollTop():o.offset().top,l=i+s+n<=a+r,h=!l;if(e.list.data("max-height")||e.list.data("max-height",e.list.outerHeight()),h)if(e.dropdown.offset().top-r>=n)e.list.css("max-height",n),e.list.css("top",e.dropdown.position().top-e.list.outerHeight());else{
var c=Math.abs(i+s+n-(a+r)),d=Math.abs(e.dropdown.offset().top-r-n);c<d?(e.list.css("max-height",n-c-s/2),e.list.css("top","auto")):(e.list.css("max-height",n-d-s/2),e.list.css("top",e.dropdown.position().top-e.list.outerHeight()))}else e.list.css("max-height",n),e.list.css("top","auto")}return e},s.enable=function(t){var e=this;return e.options.disabled&&(e.triggerEvent("enable"),e.selectBox.removeAttr("disabled"),e.dropdown.attr("tabindex",0).removeClass(e.theme.disabled).addClass(e.theme.enabled),e.setOption("disabled",!1),e._callbackSupport(t)),e},s.enableOption=function(e,i){var n,s=this,o=t.type(e);return"number"===o&&(n=s.selectBox.find("option").eq(e),s.triggerEvent("enable-option"),n.removeAttr("disabled"),s.listItems.eq(e).attr("data-disabled","false").removeClass(s.theme.disabled)),s._callbackSupport(i),s},s.moveDown=function(t){var e=this;e.currentFocus+=1;var i="true"===e.listItems.eq(e.currentFocus).attr("data-disabled"),n=e.listItems.eq(e.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(e.currentFocus===e.listItems.length)e.currentFocus-=1;else{if(i&&n)return e.listItems.eq(e.currentFocus-1).blur(),void e.moveDown();i&&!n?e.currentFocus-=1:(e.listItems.eq(e.currentFocus-1).blur().end().eq(e.currentFocus).focusin(),e._scrollToView("down"),e.triggerEvent("moveDown"))}return e._callbackSupport(t),e},s.moveUp=function(t){var e=this;e.currentFocus-=1;var i="true"===e.listItems.eq(e.currentFocus).attr("data-disabled"),n=e.listItems.eq(e.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(e.currentFocus===-1)e.currentFocus+=1;else{if(i&&n)return e.listItems.eq(e.currentFocus+1).blur(),void e.moveUp();i&&!n?e.currentFocus+=1:(e.listItems.eq(this.currentFocus+1).blur().end().eq(e.currentFocus).focusin(),e._scrollToView("up"),e.triggerEvent("moveUp"))}return e._callbackSupport(t),e},s._setCurrentSearchOption=function(t){var e=this;return(e.options.aggressiveChange||e.options.selectWhenHidden||e.listItems.eq(t).is(":visible"))&&e.listItems.eq(t).data("disabled")!==!0&&(e.listItems.eq(e.currentFocus).blur(),e.currentIndex=t,e.currentFocus=t,e.listItems.eq(e.currentFocus).focusin(),e._scrollToView("search"),e.triggerEvent("search")),e},s._searchAlgorithm=function(t,e){var i,n,s,o,a=this,r=!1,l=a.textArray,h=a.currentText;for(i=t,s=l.length;i<s;i+=1){for(o=l[i],n=0;n<s;n+=1)l[n].search(e)!==-1&&(r=!0,n=s);if(r||(a.currentText=a.currentText.charAt(a.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0"),h=a.currentText),e=new RegExp(h,"gi"),h.length<3){if(e=new RegExp(h.charAt(0),"gi"),o.charAt(0).search(e)!==-1)return a._setCurrentSearchOption(i),(o.substring(0,h.length).toLowerCase()!==h.toLowerCase()||a.options.similarSearch)&&(a.currentIndex+=1),!1}else if(o.search(e)!==-1)return a._setCurrentSearchOption(i),!1;if(o.toLowerCase()===a.currentText.toLowerCase())return a._setCurrentSearchOption(i),a.currentText="",!1}return!0},s.search=function(t,e,i){var n=this;i?n.currentText+=t.replace(/[|()\[{.+*?$\\]/g,"\\$0"):n.currentText=t.replace(/[|()\[{.+*?$\\]/g,"\\$0");var s=n._searchAlgorithm(n.currentIndex,new RegExp(n.currentText,"gi"));return s&&n._searchAlgorithm(0,n.currentText),n._callbackSupport(e),n},s._applyNativeSelect=function(){var t,e,i,n=this;n.dropdownContainer.append(n.selectBox),n.dropdown.attr("tabindex","-1"),n.selectBox.css({display:"block",visibility:"visible",width:n.dropdown.outerWidth(),height:n.dropdown.outerHeight(),opacity:"0",position:"absolute",top:"0",left:"0",cursor:"pointer","z-index":"1",margin:n.dropdown.css("margin"),padding:"0","-webkit-appearance":"menulist-button"}).on({"changed.selectBoxIt":function(){t=n.selectBox.find("option").filter(":selected"),e=t.attr("data-text"),i=e?e:t.text(),n._setText(n.dropdownText,i),n.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")&&n.dropdownImage.attr("class",n.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon"),n.triggerEvent("option-click")}})},s._mobile=function(t){var e=this;return e.isMobile&&e._applyNativeSelect(),this},s.selectOption=function(e,i){var n=this,s=t.type(e);return"number"===s?n.selectBox.val(n.selectItems.eq(e).val()).change():"string"===s&&n.selectBox.val(e).change(),n._callbackSupport(i),n},s.setOption=function(e,i,n){var s=this;return"string"===t.type(e)&&(s.options[e]=i),s.refresh(function(){s._callbackSupport(n)},!0),s},s.setOptions=function(e,i){var n=this;return t.isPlainObject(e)&&(n.options=t.extend({},n.options,e)),n.refresh(function(){n._callbackSupport(i)},!0),n},s.wait=function(t,e){var i=this;return i.widgetProto._delay.call(i,e,t),i},s.add=function(e,i){this._populate(e,function(e){var n,s,o=this,a=t.type(e),r=0,l=[],h=o._isJSON(e),c=h&&o._parseJSON(e);if(e&&("array"===a||h&&c.data&&"array"===t.type(c.data))||"object"===a&&e.data&&"array"===t.type(e.data)){for(o._isJSON(e)&&(e=c),e.data&&(e=e.data),s=e.length;r<=s-1;r+=1)n=e[r],t.isPlainObject(n)?l.push(t("<option/>",n)):"string"===t.type(n)&&l.push(t("<option/>",{text:n,value:n}));o.selectBox.append(l)}else e&&"string"===a&&!o._isJSON(e)?o.selectBox.append(e):e&&"object"===a?o.selectBox.append(t("<option/>",e)):e&&o._isJSON(e)&&t.isPlainObject(o._parseJSON(e))&&o.selectBox.append(t("<option/>",o._parseJSON(e)));return o.dropdown?o.refresh(function(){o._callbackSupport(i)},!0):o._callbackSupport(i),o})},s._parseJSON=function(e){return JSON&&JSON.parse&&JSON.parse(e)||t.parseJSON(e)},s._isJSON=function(t){var e,i=this;try{return e=i._parseJSON(t),!0}catch(n){return!1}},s._populate=function(e,i){var n=this;return e=t.isFunction(e)?e.call():e,n.isDeferred(e)?e.done(function(t){i.call(n,t)}):i.call(n,e),n},s.remove=function(e,i){var n,s,o=this,a=t.type(e),r=0,l="";if("array"===a){for(s=e.length;r<=s-1;r+=1)n=e[r],"number"===t.type(n)&&(l+=l.length?", option:eq("+n+")":"option:eq("+n+")");o.selectBox.find(l).remove()}else"number"===a?o.selectBox.find("option").eq(e).remove():o.selectBox.find("option").remove();return o.dropdown?o.refresh(function(){o._callbackSupport(i)},!0):o._callbackSupport(i),o}}),function(t){t.fn.hoverIntent=function(e,i,n){var s={interval:100,sensitivity:6,timeout:0};s="object"==typeof e?t.extend(s,e):t.isFunction(i)?t.extend(s,{over:e,out:i,selector:n}):t.extend(s,{over:e,out:e,selector:i});var o,a,r,l,h=function(t){o=t.pageX,a=t.pageY},c=function(e,i){return i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.sqrt((r-o)*(r-o)+(l-a)*(l-a))<s.sensitivity?(t(i).off("mousemove.hoverIntent",h),i.hoverIntent_s=!0,s.over.apply(i,[e])):(r=o,l=a,i.hoverIntent_t=setTimeout(function(){c(e,i)},s.interval),void 0)},d=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=!1,s.out.apply(e,[t])},u=function(e){var i=t.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===e.type?(r=i.pageX,l=i.pageY,t(n).on("mousemove.hoverIntent",h),n.hoverIntent_s||(n.hoverIntent_t=setTimeout(function(){c(i,n)},s.interval))):(t(n).off("mousemove.hoverIntent",h),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){d(i,n)},s.timeout)))};return this.on({"mouseenter.hoverIntent":u,"mouseleave.hoverIntent":u},s.selector)}}(jQuery),function(t){t.fn.smartZoom=function(e){function i(t){}function n(t,e){var i=$.data("smartZoomData");i.currentWheelDelta*e<0&&(i.currentWheelDelta=0),i.currentWheelDelta+=e,I.zoom(i.mouseWheelDeltaFactor*i.currentWheelDelta,{x:t.pageX,y:t.pageY})}function s(t){t.preventDefault()}function o(){var t=$.data("smartZoomData");if(1==t.settings.mouseMoveEnabled&&1==t.settings.moveCursorEnabled){var e=x(),i=e.width/t.originalSize.width;parseInt(100*i)>parseInt(100*t.adjustedPosInfos.scale)?$.css({cursor:"move"}):$.css({cursor:"default"})}}function a(t){f(t.pageX,t.pageY)}function r(e){e.preventDefault(),t(document).on("mousemove.smartZoom",l),t(document).bind("mouseup.smartZoom",h);var i=$.data("smartZoomData");i.moveCurrentPosition=new A(e.pageX,e.pageY),i.moveLastPosition=new A(e.pageX,e.pageY)}function l(t){var e=$.data("smartZoomData");(e.mouseMoveForPan||!e.mouseMoveForPan&&e.moveCurrentPosition.x!=t.pageX&&e.moveCurrentPosition.y!=t.pageY)&&(e.mouseMoveForPan=!0,p(t.pageX,t.pageY,0,!1))}function h(e){var i=$.data("smartZoomData");if(i.mouseMoveForPan)if(i.mouseMoveForPan=!1,i.moveLastPosition.distance(i.moveCurrentPosition)>4){var n=i.moveLastPosition.interpolate(i.moveCurrentPosition,-4);p(n.x,n.y,500,!0)}else p(i.moveLastPosition.x,i.moveLastPosition.y,0,!0);else i.settings.zoomOnSimpleClick&&f(e.pageX,e.pageY);t(document).unbind("mousemove.smartZoom"),t(document).unbind("mouseup.smartZoom")}function c(e){e.preventDefault(),t(document).unbind("touchmove.smartZoom"),t(document).unbind("touchend.smartZoom"),t(document).bind("touchmove.smartZoom",d),t(document).bind("touchend.smartZoom",u);var i=e.originalEvent.touches,n=i[0],s=$.data("smartZoomData");s.touch.touchMove=!1,s.touch.touchPinch=!1,s.moveCurrentPosition=new A(n.pageX,n.pageY),s.moveLastPosition=new A(n.pageX,n.pageY),s.touch.lastTouchPositionArr=new Array;for(var o,a=i.length,r=0;r<a;++r)o=i[r],s.touch.lastTouchPositionArr.push(new A(o.pageX,o.pageY))}function d(t){t.preventDefault();var e=$.data("smartZoomData"),i=t.originalEvent.touches,n=i.length,s=i[0];if(1!=n||e.touch.touchPinch||1!=e.settings.touchMoveEnabled){if(2==n&&!e.touch.touchMove&&1==e.settings.pinchEnabled){e.touch.touchPinch=!0;var o=i[1],a=e.touch.lastTouchPositionArr[0],r=e.touch.lastTouchPositionArr[1],l=new A(s.pageX,s.pageY),h=new A(o.pageX,o.pageY),c=l.distance(h),d=a.distance(r),u=c-d;if(Math.abs(u)<3)return;var f=new A((l.x+h.x)/2,(l.y+h.y)/2),g=x(),m=e.originalSize,v=g.width/m.width,b=c/d,y=g.width*b/m.width;I.zoom(y-v,f,0),e.touch.lastTouchPositionArr[0]=l,e.touch.lastTouchPositionArr[1]=h}}else{if(!e.touch.touchMove){var _=e.touch.lastTouchPositionArr[0];if(_.distance(new A(s.pageX,s.pageY))<3)return;e.touch.touchMove=!0}p(s.pageX,s.pageY,0,!1)}}function u(e){e.preventDefault();var i=e.originalEvent.touches.length;0==i&&(t(document).unbind("touchmove.smartZoom"),t(document).unbind("touchend.smartZoom"));var n=$.data("smartZoomData");if(!n.touch.touchPinch)if(n.touch.touchMove){if(n.moveLastPosition.distance(n.moveCurrentPosition)>2){var s=n.moveLastPosition.interpolate(n.moveCurrentPosition,-4);p(s.x,s.y,500,!0)}}else{if(1==n.settings.dblTapEnabled&&0!=n.touch.lastTouchEndTime&&(new Date).getTime()-n.touch.lastTouchEndTime<400){var o=n.touch.lastTouchPositionArr[0];f(o.x,o.y)}n.touch.lastTouchEndTime=(new Date).getTime()}}function p(t,e,n,s){g(i.PAN);var o=$.data("smartZoomData");o.moveLastPosition.x=o.moveCurrentPosition.x,o.moveLastPosition.y=o.moveCurrentPosition.y;var a=$.offset(),r=x(),l=a.left+(t-o.moveCurrentPosition.x),h=a.top+(e-o.moveCurrentPosition.y),c=m(l,h,r.width,r.height);_(i.PAN,i.START,!1),y($,c.x,c.y,r.width,r.height,n,1==s?function(){_(i.PAN,i.END,!1)}:null),o.moveCurrentPosition.x=t,o.moveCurrentPosition.y=e}function f(t,e){var i,n=$.data("smartZoomData"),s=n.originalSize,o=x(),a=o.width/s.width,r=n.adjustedPosInfos.scale,l=parseFloat(n.settings.dblClickMaxScale);i=a.toFixed(2)>l.toFixed(2)||Math.abs(l-a)>Math.abs(a-r)?l-a:r-a,I.zoom(i,{x:t,y:e})}function g(e){var i=$.data("smartZoomData");if(i.transitionObject){i.transitionObject.cssAnimHandler&&$.off(t.support.transition,i.transitionObject.cssAnimTimer);var n=i.originalSize,s=x(),a=new Object;a[i.transitionObject.transition]="all 0s",i.transitionObject.css3dSupported?a[i.transitionObject.transform]="translate3d("+s.x+"px, "+s.y+"px, 0) scale3d("+s.width/n.width+","+s.height/n.height+", 1)":a[i.transitionObject.transform]="translateX("+s.x+"px) translateY("+s.y+"px) scale("+s.width/n.width+","+s.height/n.height+")",$.css(a)}else $.stop();o(),null!=e&&_(e,"",!0)}function m(t,e,i,n){var s=$.data("smartZoomData"),o=Math.min(s.adjustedPosInfos.top,e);o+=Math.max(0,s.adjustedPosInfos.top+s.adjustedPosInfos.height-(o+n));var a=Math.min(s.adjustedPosInfos.left,t);return a+=Math.max(0,s.adjustedPosInfos.left+s.adjustedPosInfos.width-(a+i)),new A(a.toFixed(2),o.toFixed(2))}function v(t){$.unbind("load.smartZoom"),I.init.apply($,[t.data.arguments])}function b(){var t=$.data("smartZoomData"),e=t.containerDiv,i=t.originalSize,n=e.parent().offset(),s=k(t.settings.left,n.left,e.parent().width()),a=k(t.settings.top,n.top,e.parent().height());e.offset({left:s,top:a}),e.width(C(t.settings.width,e.parent().width(),s-n.left)),e.height(C(t.settings.height,e.parent().height(),a-n.top));var r=T(e),l=Math.min(Math.min(r.width/i.width,r.height/i.height),1).toFixed(2),h=i.width*l,c=i.height*l;t.adjustedPosInfos={left:(r.width-h)/2+n.left,top:(r.height-c)/2+n.top,width:h,height:c,scale:l},g(),y($,t.adjustedPosInfos.left,t.adjustedPosInfos.top,h,c,0,function(){$.css("visibility","visible")}),o()}function y(e,i,n,s,o,a,r){var l=$.data("smartZoomData"),h=l.containerDiv.offset(),c=i-h.left,d=n-h.top;if(null!=l.transitionObject){var u=l.originalSize,p=new Object;p[l.transitionObject.transform+"-origin"]="0 0",p[l.transitionObject.transition]="all "+a/1e3+"s ease-out",l.transitionObject.css3dSupported?p[l.transitionObject.transform]="translate3d("+c+"px, "+d+"px, 0) scale3d("+s/u.width+","+o/u.height+", 1)":p[l.transitionObject.transform]="translateX("+c+"px) translateY("+d+"px) scale("+s/u.width+","+o/u.height+")",null!=r&&(l.transitionObject.cssAnimHandler=r,e.one(t.support.transition.end,l.transitionObject.cssAnimHandler)),e.css(p)}else e.animate({"margin-left":c,"margin-top":d,width:s,height:o},{duration:a,easing:l.settings.easing,complete:function(){null!=r&&r()}})}function x(t){var e=$.data("smartZoomData"),i=$.width(),n=$.height(),s=$.offset(),o=parseInt(s.left),a=parseInt(s.top),r=e.containerDiv.offset();if(1!=t&&(o=parseInt(o)-r.left,a=parseInt(a)-r.top),null!=e.transitionObject){var l=$.css(e.transitionObject.transform);if(l&&""!=l&&l.search("matrix")!=-1){var h,c;l.search("matrix3d")!=-1?(c=l.replace("matrix3d(","").replace(")","").split(","),h=c[0]):(c=l.replace("matrix(","").replace(")","").split(","),h=c[3],o=parseFloat(c[4]),a=parseFloat(c[5]),t&&(o=parseFloat(o)+r.left,a=parseFloat(a)+r.top)),i=h*i,n=h*n}}return{x:o,y:a,width:i,height:n}}function _(t,e,n){var s=$.data("smartZoomData"),o="";if(1==n&&s.currentActionType!=t?(o=s.currentActionType+"_"+i.END,s.currentActionType="",s.currentActionStep=""):s.currentActionType!=t||s.currentActionStep==i.END?(s.currentActionType=t,s.currentActionStep=i.START,o=s.currentActionType+"_"+s.currentActionStep):s.currentActionType==t&&e==i.END&&(s.currentActionStep=i.END,o=s.currentActionType+"_"+s.currentActionStep,s.currentActionType="",s.currentActionStep=""),""!=o){var a=jQuery.Event(o);a.targetRect=x(!0),a.scale=a.targetRect.width/s.originalSize.width,$.trigger(a)}}function w(){for(var e,i=document.body||document.documentElement,n=i.style,s=["transition","WebkitTransition","MozTransition","MsTransition","OTransition"],o=["transition","-webkit-transition","-moz-transition","-ms-transition","-o-transition"],a=["transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform"],r=s.length,l=0;l<r;l++)if(null!=n[s[l]]){transformStr=a[l];var h=t('<div style="position:absolute;">Translate3d Test</div>');if(t("body").append(h),e=new Object,e[a[l]]="translate3d(20px,0,0)",h.css(e),css3dSupported=h.offset().left-t("body").offset().left==20,h.empty().remove(),css3dSupported)return{transition:o[l],transform:a[l],css3dSupported:css3dSupported}}return null}function C(t,e,i){return t.search&&t.search("%")!=-1?(e-i)*(parseInt(t)/100):parseInt(t)}function k(t,e,i){return t.search&&t.search("%")!=-1?e+i*(parseInt(t)/100):e+parseInt(t)}function S(){b()}function T(t){var e=t.offset();if(!e)return null;var i=e.left,n=e.top;return{x:i,y:n,width:t.outerWidth(),height:t.outerHeight()}}function A(t,e){this.x=t,this.y=e,this.toString=function(){return"(x="+this.x+", y="+this.y+")"},this.interpolate=function(t,e){var i=e*this.x+(1-e)*t.x,n=e*this.y+(1-e)*t.y;return new A(i,n)},this.distance=function(t){return Math.sqrt(Math.pow(t.y-this.y,2)+Math.pow(t.x-this.x,2))}}var $=this;i.ZOOM="SmartZoom_ZOOM",i.PAN="SmartZoom_PAN",i.START="START",i.END="END",i.DESTROYED="SmartZoom_DESTROYED";var I={init:function(e){if(!$.data("smartZoomData")){var i=t.extend({top:"0",left:"0",width:"100%",height:"100%",easing:"smartZoomEasing",initCallback:null,maxScale:3,dblClickMaxScale:1.8,mouseEnabled:!0,scrollEnabled:!0,dblClickEnabled:!0,mouseMoveEnabled:!0,moveCursorEnabled:!0,adjustOnResize:!0,touchEnabled:!0,dblTapEnabled:!0,zoomOnSimpleClick:!1,pinchEnabled:!0,touchMoveEnabled:!0,containerBackground:"#FFFFFF",containerClass:""},e),o=$.attr("style"),l="smartZoomContainer"+(new Date).getTime(),h=t('<div id="'+l+'" class="'+i.containerClass+'"></div>');$.before(h),$.remove(),h=t("#"+l),h.css({overflow:"hidden"}),""==i.containerClass&&h.css({"background-color":i.containerBackground}),h.append($);var d=new Object;d.lastTouchEndTime=0,d.lastTouchPositionArr=null,d.touchMove=!1,d.touchPinch=!1,$.data("smartZoomData",{settings:i,containerDiv:h,originalSize:{width:$.width(),height:$.height()},originalPosition:$.offset(),transitionObject:w(),touch:d,mouseWheelDeltaFactor:.15,currentWheelDelta:0,adjustedPosInfos:null,moveCurrentPosition:null,moveLastPosition:null,mouseMoveForPan:!1,currentActionType:"",initialStyles:o,currentActionStep:""}),b(),1==i.touchEnabled&&$.bind("touchstart.smartZoom",c),1==i.mouseEnabled&&(1==i.mouseMoveEnabled&&$.bind("mousedown.smartZoom",r),1==i.scrollEnabled&&(h.bind("mousewheel.smartZoom",n),h.bind("mousewheel.smartZoom DOMMouseScroll.smartZoom",s)),1==i.dblClickEnabled&&0==i.zoomOnSimpleClick&&h.bind("dblclick.smartZoom",a)),document.ondragstart=function(){return!1},1==i.adjustOnResize&&t(window).bind("resize.smartZoom",S),null!=i.initCallback&&i.initCallback.apply(this,$)}},zoom:function(t,e,n){var s,a,r=$.data("smartZoomData");if(e)s=e.x,a=e.y;else{var l=T(r.containerDiv);s=l.x+l.width/2,a=l.y+l.height/2}g(i.ZOOM);var h=x(!0),c=r.originalSize,d=h.width/c.width+t;d=Math.max(r.adjustedPosInfos.scale,d),d=Math.min(r.settings.maxScale,d);var u=c.width*d,p=c.height*d,f=s-h.x,v=a-h.y,b=u/h.width,w=h.x-(f*b-f),C=h.y-(v*b-v),k=m(w,C,u,p);null==n&&(n=700),_(i.ZOOM,i.START,!1),y($,k.x,k.y,u,p,n,function(){r.currentWheelDelta=0,o(),_(i.ZOOM,i.END,!1)})},pan:function(t,e,n){if(null!=t&&null!=e){null==n&&(n=700);var s=$.offset(),o=x(),a=m(s.left+t,s.top+e,o.width,o.height);a.x==s.left&&a.y==s.top||(g(i.PAN),_(i.PAN,i.START,!1),y($,a.x,a.y,o.width,o.height,n,function(){_(i.PAN,i.END,!1)}))}},destroy:function(){var e=$.data("smartZoomData");if(e){g();var n=e.containerDiv;$.unbind("mousedown.smartZoom"),$.unbind("touchstart.smartZoom"),n.unbind("mousewheel.smartZoom"),n.unbind("dblclick.smartZoom"),n.unbind("mousewheel.smartZoom DOMMouseScroll.smartZoom"),t(window).unbind("resize.smartZoom"),t(document).unbind("mousemove.smartZoom"),t(document).unbind("mouseup.smartZoom"),t(document).unbind("touchmove.smartZoom"),t(document).unbind("touchend.smartZoom"),$.css({cursor:"default"}),n.before($),y($,e.originalPosition.left,e.originalPosition.top,e.originalSize.width,e.originalSize.height,5),$.removeData("smartZoomData"),n.remove(),$.attr("style",e.initialStyles),$.trigger(i.DESTROYED)}},isPluginActive:function(){return void 0!=$.data("smartZoomData")}};return I[e]?I[e].apply(this,Array.prototype.slice.call(arguments,1)):void("object"!=typeof e&&e?t.error("Method "+e+" does not exist on e-smartzoom jquery plugin"):"img"!=$[0].tagName.toLowerCase()||$[0].complete?I.init.apply($,[arguments[0]]):$.bind("load.smartZoom",{arguments:arguments[0]},v))}}(jQuery),function(t){t.extend(t.easing,{smartZoomEasing:function(e,i,n,s,o){return t.easing.smartZoomOutQuad(e,i,n,s,o)},smartZoomOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i}})}(jQuery),function(t){function e(e){var i=e||window.event,n=[].slice.call(arguments,1),s=0,o=0,a=0;return e=t.event.fix(i),e.type="mousewheel",i.wheelDelta&&(s=i.wheelDelta/120),i.detail&&(s=-i.detail/3),a=s,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,o=-1*s),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(o=-1*i.wheelDeltaX/120),n.unshift(e,s,o,a),(t.event.dispatch||t.event.handle).apply(this,n)}var i=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var n=i.length;n;)t.event.fixHooks[i[--n]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),$.fn.emulateTransitionEnd=function(t){var e=!1,i=this;$(this).one($.support.transition.end,function(){e=!0});var n=function(){e||$(i).trigger($.support.transition.end)};return setTimeout(n,t),this},$(function(){$.support.transition=transitionEnd()}),function(t){"use strict";function e(t,e){var i,l,h,c;"undefined"==typeof document&&"function"==typeof require?(i="file://"+(process.platform.match(/^win/i)?"/":"")+require("fs").realpathSync("."),e&&"/"!==e.charAt(0)&&!e.match(/^\w+:\/\//)&&(e=i+require("path").sep+e),l=require("url").parse(e||i)):(i=document.location.href,l=document.createElement("a"),l.href=e||i),c=(e||i).match(/\/\/(.*?)(?::(.*?))?@/)||[];for(h in a)t[h]=l[a[h]]||"";if(t.protocol=t.protocol.replace(/:$/,""),t.query=t.query.replace(/^\?/,""),t.hash=n(t.hash.replace(/^#/,"")),t.user=n(c[1]||""),t.pass=n(c[2]||""),t.port=r[t.protocol]===t.port||0===t.port?"":t.port,t.protocol||/^([a-z]+:)?\/\/\/?/.test(e))t.path=t.path.replace(/^\/?/,"/");else{var d=new o(i.match(/(.*\/)/)[0]),u=d.path.split("index.html"),p=t.path.split("index.html"),f=["protocol","user","pass","host","port"],g=f.length;for(u.pop(),h=0;h<g;h++)t[f[h]]=d[f[h]];for(;".."==p[0];)u.pop(),p.shift();t.path=("/"!=e.charAt(0)?u.join("index.html"):"")+"/"+p.join("index.html")}t.paths(("/"==t.path.charAt(0)?t.path.slice(1):t.path).split("index.html")),t.query=new s(t.query)}function i(t){return encodeURIComponent(t).replace(/'/g,"%27")}function n(t){return t=t.replace(/\+/g," "),t=t.replace(/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,i,n){var s=parseInt(e,16)-224,o=parseInt(i,16)-128;if(0===s&&o<32)return t;var a=parseInt(n,16)-128,r=(s<<12)+(o<<6)+a;return r>65535?t:String.fromCharCode(r)}),t=t.replace(/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,i){var n=parseInt(e,16)-192;if(n<2)return t;var s=parseInt(i,16)-128;return String.fromCharCode((n<<6)+s)}),t.replace(/%([0-7][0-9a-f])/gi,function(t,e){return String.fromCharCode(parseInt(e,16))})}function s(t){for(var e,i=/([^=&]+)(=([^&]*))?/g;e=i.exec(t);){var s=decodeURIComponent(e[1].replace(/\+/g," ")),o=e[3]?n(e[3]):"";void 0!==this[s]&&null!==this[s]?(this[s]instanceof Array||(this[s]=[this[s]]),this[s].push(o)):this[s]=o}}function o(t){e(this,t)}var a={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},r={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443};s.prototype.toString=function(){var t,e,n="",s=i;for(t in this)if(!(this[t]instanceof Function||null===this[t]))if(this[t]instanceof Array){var o=this[t].length;if(o)for(e=0;e<o;e++)n+=n?"&":"",n+=s(t)+"="+s(this[t][e]);else n+=(n?"&":"")+s(t)+"="}else n+=n?"&":"",n+=s(t)+"="+s(this[t]);return n},o.prototype.clearQuery=function(){for(var t in this.query)this.query[t]instanceof Function||delete this.query[t];return this},o.prototype.queryLength=function(){var t,e=0;for(t in this)this[t]instanceof Function||e++;return e},o.prototype.isEmptyQuery=function(){return 0===this.queryLength()},o.prototype.paths=function(t){var e,s="",o=0;if(t&&t.length&&t+""!==t){for(this.isAbsolute()&&(s="index.html"),e=t.length;o<e;o++)t[o]=!o&&t[o].match(/^\w:$/)?t[o]:i(t[o]);this.path=s+t.join("index.html")}for(t=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("index.html"),o=0,e=t.length;o<e;o++)t[o]=n(t[o]);return t},o.prototype.encode=i,o.prototype.decode=n,o.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},o.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&i(this.user)+(this.pass&&":"+i(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+i(this.hash))},t[t.exports?"exports":"Url"]=o}("undefined"!=typeof module&&module.exports?module:window);var ZPG={};ZPG.support={localStorage:function(){try{if("localStorage"in window&&null!==window.localStorage){var t="_testLocalStorage_",e=window.localStorage;try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(i){return!1}}}catch(n){return!1}},sessionStorage:function(){try{if("localStorage"in window&&null!==window.localStorage){var t="_testSessionStorage_",e=window.sessionStorage;try{return e.setItem(t,"1"),e.removeItem(t),!0}catch(i){return!1}}}catch(n){return!1}}},ZPG.user_signin_register={init:function(){ZUS=ZPG.user_signin_register,$(document).on("click","#signin_register_tab_register, #signin_register_tab_signin",function(t){ZUS.tabs($(this)),t.preventDefault()}),$(document).on("change","#register_heard_about_us",function(){ZUS.heard($(this))}),$(document).on("keyup","#register_username",function(){ZUS.username($(this))})},tabs:function(t){var e,i="ui-tabs-active",n="ui-tabs-hide",s=t.attr("data-tab");e="signin"===s?"register":"signin",t.closest(".ui-tabs").find("."+i).removeClass(i),t.parent().addClass("ui-tabs-active"),$("#signin_register_section_"+e).addClass(n),$("#signin_register_section_"+s).removeClass(n),$("#"+s+"_email").focus()},heard:function(t){var e=$("#register_how_other");"other"==t.attr("value")?e.fadeIn("slow"):e.fadeOut("slow")},username:function(t){var e,i=t.val(),n=$("#username_availability"),s=$("#username_availability_message"),o="/ajax/register/check_username",a="username="+i;return t.val(function(t,e){return e.replace(/ /g,"")}),e&&e.abort(),i.length<5||i.length>20?void(i.length<5?(s.html("Username must be unique, e.g. peter123."),n.removeClass()):n.removeClass("available").addClass("unavailable")):void(e=$.ajax({type:"GET",url:o,data:a,dataType:"json",success:function(t){null!=t.belongs_to_user?(n.removeClass("available").removeClass("unavailable"),s.html(t.message)):null!=t.success?(n.addClass("available").removeClass("unavailable"),s.html(t.message)):(n.addClass("unavailable").removeClass("available"),s.html(t.message))},error:function(){n.removeClass("available").removeClass("unavailable")}}))}},ZPG.user_alerts=function(t){var e={options:$.extend({action:"",href:"",isAlert:!1,isAlertModified:!1,pageSize:"",view:"list"},t),init:function(t,i){data=getSearchOptions(),data.view_type=e.options.view,e._mapPolygon(),"create"===t?e._create(i):e._modify(i)},_create:function(t){delete data.section,data.page_size=e.options.pageSize,t=ZPG.util.appendParams(t,data),$.fancybox({href:t,titleShow:!1,type:"ajax"})},_modify:function(t){$.ajax({url:t,type:"POST",data:data,success:function(t){e.options.isAlertModified=!1,e._updateUI(),t.javascript&&$.globalEval(t.javascript)}})},_mapPolygon:function(){if("map"===e.options.view&&isUserPolygon){var t=map.getPolygons();if(!t.length)return fancybox&&$.fancybox({content:"You need a defined search area to perform this action."}),!1;data.q=$('input[name="orig_q"]').attr("value")}},searchAlertUpdated:function(){e.options.isAlert&&(e.options.isAlertModified=!0),e._updateUI()},_updateUI:function(){if(e.options.isAlert){var t=$("#alerts-saved"),i=$("#alerts-modified"),n=$("#listings-tabs li:eq(2) a").attr("href"),s=$("#alerts-map");e.options.isAlertModified?(i.css("display","block"),t.css("display","none")):(i.css("display","none"),t.css("display","block").delay(2e3).fadeOut(200),s.attr("href",n))}}};return{init:e.init,searchAlertUpdated:e.searchAlertUpdated}},ZPG.user_favourites={init:function(){ZUF=ZPG.user_favourites,$(document).on("click","a[data-favourite-action]",function(){return ZUF.$this=$(this),ZUF.data=ZUF.$this.attr("data-favourite-id"),ZUF.type=ZUF.$this.attr("data-favourite-type"),ZUF.action=ZUF.$this.attr("data-favourite-action"),ZUF.url="/myaccount/favourites/"+("listings"==ZUF.type?"listings":"home-values")+"/"+ZUF.action+"/"+ZUF.data,"add"==ZUF.action?ZUF.add():ZUF.remove(),!1})},add:function(){$.ajax({url:ZUF.url,data:ZUF.data});var t=ZUF.$this.find("span").html(),e=ZUF.$this.attr("data-fav-copy");ZUF.$this.attr("data-favourite-action","remove").attr("data-fav-copy",t).addClass("favourite-saved").find("span").html(e);var i=$(".js-favourite-menu-counter");""!=i.text()?i.text(parseInt(i.text())+1):i.text("1"),ZUF.$this.next("i").find("icon-star-empty")&&ZUF.$this.find("i").removeClass("icon-star-empty").addClass("icon-star"),dataLayer.push({event:"GAEvent",eventCategory:"Save to Favourites",eventAction:"Click",eventLabel:"Saved"})},remove:function(){$.ajax({url:ZUF.url,data:ZUF.data});var t=ZUF.$this.find("span").html(),e=ZUF.$this.attr("data-fav-copy");ZUF.$this.attr("data-favourite-action","add").attr("data-fav-copy",t).removeClass("favourite-saved").find("span").html(e);var i=$(".js-favourite-menu-counter");parseInt(i.text())>1?i.text(parseInt(i.text())-1):i.text(""),ZUF.$this.next("i").find("icon-star")&&ZUF.$this.find("i").removeClass("icon-star").addClass("icon-star-empty"),dataLayer.push({event:"GAEvent",eventCategory:"Remove from Favourites",eventAction:"Click",eventLabel:ZUF.$this.attr("data-ga-label")})}},ZPG.user_notes=function(){var t={init:function(e){t.config=$.extend({char_limit:1e3,truncate:150,dataLabel:window.location.pathname.replace(/[0-9]/g,"")},e),t.controls=$.extend({button:$("<button></button>").addClass("btn btn-sm"),btnSave:$('<button data-ga-category="MyZoopla" data-ga-action="My Notes - Save" data-ga-label="/tracking'+t.config.dataLabel+'" class="save btn btn-sm btn-default">Save</button>'),btnCancel:$('<button class="cancel btn btn-sm btn-link">Cancel</button>'),btnEdit:$('<button data-ga-category="MyZoopla" data-ga-action="My Notes - Edit" data-ga-label="/tracking'+t.config.dataLabel+'" class="edit btn btn-sm btn-link">Edit</button>'),btnDelete:$('<button data-ga-category="MyZoopla" data-ga-action="My Notes - Delete" data-ga-label="/tracking'+t.config.dataLabel+'" class="delete btn btn-sm btn-link">Delete</button>'),btnSend:$('<button data-ga-category="MyZoopla" data-ga-action="My Notes - Send" data-ga-label="/tracking'+t.config.dataLabel+'" class="send btn btn-sm btn-link">Send</button>'),btnMore:$('<button class="showmore btn btn-sm btn-link fleft none">Show more</button>')}),$(".listing-note textarea").css("overflow","hidden"),$(document).on("keyup",".listing-note textarea",function(){var e=$(this),i=e.parent().find("button.save"),n=e.parent().find("button.cancel"),s=t.config.char_limit;e.val().length>0?(i.prop("disabled",!1),n.prop("disabled",!1)):(i.prop("disabled",!0),n.prop("disabled",!0)),e.val().length>s&&e.val(e.val().substr(0,s))}),$(document).on("click",".listing-note > a",function(t){t.preventDefault(),ZPG.user_notes.togglePane($(this))}),$(document).on("click",".listing-note button.delete",function(t){t.preventDefault(),ZPG.user_notes.noteDelete($(this)),dataLayer.push({event:"GAEvent",eventCategory:$(this).attr("data-ga-category"),eventAction:"My Notes - Delete",eventLabel:$(this).attr("data-ga-label"),eventValue:void 0})}),$(document).on("click",".listing-note button.save",function(t){t.preventDefault(),ZPG.user_notes.noteSave($(this)),dataLayer.push({event:"taxonomy",eventTaxonomy:{activity:"user_account",action:"add_note"}}),dataLayer.push({event:"GAEvent",eventCategory:$(this).attr("data-ga-category"),eventAction:"My Notes - Save",eventLabel:$(this).attr("data-ga-label"),eventValue:void 0})}),$(document).on("click",".listing-note button.send",function(t){t.preventDefault(),ZPG.user_notes.noteSend($(this))}),$(document).on("click",".listing-note button.cancel",function(t){t.preventDefault(),ZPG.user_notes.noteCancel($(this))}),$(document).on("click",".listing-note button.edit",function(t){
t.preventDefault(),ZPG.user_notes.noteEdit($(this)),dataLayer.push({event:"GAEvent",eventCategory:$(this).attr("data-ga-category"),eventAction:"My Notes - Edit",eventLabel:$(this).attr("data-ga-label"),eventValue:void 0})}),$(document).on("click",".listing-note button.showmore",function(t){t.preventDefault(),ZPG.user_notes.toggleText($(this))})},togglePane:function(t){var e=t.find(".icon-arrow .icon"),i=t.siblings(".note-container");i.is(":hidden")?(e.addClass("icon-up-open"),e.removeClass("icon-down-open"),i.show()):(e.removeClass("icon-up-open"),e.addClass("icon-down-open"),i.hide())},toggleText:function(t){var e=t.parents(".listing-note"),i=e.find("p span"),n=e.find(".note-control .showmore"),s=e.find(".ellipsis");i.is(":hidden")?(n.text("Show less"),i.show(),s.hide()):(n.text("Show more"),i.hide(),s.show())},noteEdit:function(e){var i=e.parents(".listing-note"),n=i.find("p");t._makeEditable(n)},noteCancel:function(e){var i=e.parents(".listing-note"),n=i.find("p"),s=i.find("textarea");i.data("note-id")>0?(t._makeControlEdit(n),n.show(),s.remove()):(s.val("").trigger("keyup"),t._makeControlSave(n))},noteSave:function(e){var i="/ajax/user/update_listing_note",n=e.parents(".listing-note"),s=n.data("note-id"),o=n.data("listing-id"),a=n.data("section"),r=n.find("a"),l=n.find("p"),h=n.find("textarea"),c=n.find(".note-control"),d=n.find(".see-all"),u={note:h.val(),listing_id:o,section:a};e.prop("disabled",!0),"undefined"!=typeof s&&(u.note_id=s),$.getJSON(i,u,function(e){e&&e.success&&(n.data("note-id")>0?(t._makeControlEdit(l),l.text(t._truncateNote(h)).show()):(n.data("note-id",e.success),t._toggleTitle(r),h.after("<p>"+t._truncateNote(h)+"</p>"),t._makeControlEdit(h),l=n.find("p")),l.text().length<t.config.truncate?c.find(".showmore").hide():c.find(".showmore").show(),h.remove(),d.show())})},noteSend:function(t){var e=t.parents(".listing-note"),i=e.data("listing-id"),n=e.data("section");window.location.href="/friend/"+i+"?section="+n},noteDelete:function(e){var i="/ajax/user/delete_listing_note",n=e.parents(".listing-note"),s=n.find("a"),o=n.find("p"),a=n.find(".date"),r=n.find("textarea"),l=n.find(".note-control"),h=n.parents("li:eq(0)"),c=n.data("note-id");if(seeAll=n.find(".see-all"),"undefined"!=typeof c){var d={note_id:c};$.getJSON(i,d,function(e){e&&e.success&&(n.data("note-id",""),t._toggleTitle(s),a.remove(),r.val("testing"),o.html(""),t._makeEditable(o),t._makeControlSave(o),o.remove(),s.trigger("click"),seeAll.hide())}).fail(function(){a.remove(),l.remove(),o.html("An unexpected error has occured while trying to delete your note. Please try again soon.").addClass("error"),setTimeout(function(){h.slideUp(function(){$(this).remove()})},3e3)})}},_makeEditable:function(e){var i=$("<textarea></textarea>");i.text(e.text()),e.after(i),e.hide(),i.css("overflow","hidden"),i.focus(),t._makeControlSave(e)},_makeControlEdit:function(e){var i=e.siblings(".note-control");return i.html(t.controls.btnDelete.clone()).append(t.controls.btnEdit.clone()).append(t.controls.btnSend.clone()).append(t.controls.btnMore.clone())},_makeControlSave:function(e){var i=e.siblings(".note-control");return i.html(t.controls.btnCancel.clone()).append(t.controls.btnSave.clone())},_toggleTitle:function(t){var e=t.find(".icon-text"),i=t.find(".icon").eq(0);"Note added"===e.text()?(e.text("Add a note"),i.removeClass("icon-doc-text"),i.addClass("icon-doc")):(e.text("Note added"),i.removeClass("icon-doc"),i.addClass("icon-doc-text"))},_truncateNote:function(e){var i=e.val();t.config.truncate;return i=i.replace(/(?:\r\n|\r)/g,"\n"),i.length>=150?i.substring(0,150)+'<span class="none">'+i.substring(150)+'</span><i class="ellipsis"></i>':i}};return{init:t.init,togglePane:t.togglePane,toggleText:t.toggleText,noteDelete:t.noteDelete,noteSave:t.noteSave,noteSend:t.noteSend,noteCancel:t.noteCancel,noteEdit:t.noteEdit}}(),ZPG.user_hide_listing=function(){var t={init:function(e){t.options=$.extend({hiddenInPage:[]},e),t.sessionStorageIsSupported=ZPG.support.sessionStorage(),t.sessionStorageIsSupported&&(t.session=window.sessionStorage,"undefined"!=typeof t.options.searchIdentifier&&t.options.searchIdentifier!==t.session.getItem("search_identifier")&&(t.session.removeItem("listings_hide"),t.session.removeItem("listings_unhide"),t.session.setItem("search_identifier",t.options.searchIdentifier))),t.data={},t.listings_unhide=[],t.listings_hide=[],t._getListings("hide",t.listings_hide),t._getListings("unhide",t.listings_unhide),"results"===t.options.placement?t._updateResultsUI():"details"===t.options.placement&&t._updateDetailsUI()},_compareOriginal:function(){if(!t.options.hiddenInPage.length)return!1;var e={};for(var i in t.options.hiddenInPage)e[t.options.hiddenInPage[i]]=t.options.hiddenInPage[i];for(var n in t.listings_unhide)if("undefined"!=typeof e[t.listings_unhide[n]]){var s=$("#listing_"+t.listings_unhide[n]),o=s.find(".js-hide-listing-copy"),a=o.data("hide-copy"),r="unhide",l=0;ZPG.user_hide_listing.updateResultsListUI(s,r,l),s.find("[data-hidden]").attr("data-hidden","false"),o.html(a)}for(var n in t.listings_hide)if("undefined"!=typeof e[t.listings_hide[n]]){var h=$.inArray(e[t.listings_hide[n]],t.listings_hide);h>-1&&(t.listings_hide.splice(h,1),t.session.setItem("listings_hide",JSON.stringify(t.listings_hide)))}},toggle:function(e){t.$el=e,t.isHidden=t.$el.attr("data-hidden"),t.listingId=t.$el.attr("data-listing-id"),"false"===t.isHidden?t._hide():t._unhide()},_hide:function(){var e="/ajax/user/hide_listing";t.data.listing_id=t.$el.attr("data-listing-id"),t.data.section=t.$el.attr("data-section"),t.$el.find(".js-hide-listing-copy").text("..."),$.ajax({url:e,data:t.data,success:function(){t._storeHidden(),$(".js-hide-listing[data-listing-id="+t.listingId+"]").attr("data-hidden","true"),"function"==typeof t.options.hideCallback&&t.options.hideCallback(t.$el,t.options),setTimeout(function(){t._updateResultsMessageUI();var e=$(".js-hide-listing[data-listing-id="+t.listingId+"] .js-hide-listing-copy");e.each(function(){var t=$(this),e=t.data("unhide-copy");t.html(t.data(e))})},500)}})},_unhide:function(){var e="/ajax/user/unhide_listing";t.data.listing_id=t.$el.attr("data-listing-id"),t.$el.find(".js-hide-listing-copy").text("..."),$.ajax({url:e,data:t.data,success:function(){t.restoreHidden("["+t.listingId+"]"),$(".js-hide-listing[data-listing-id="+t.listingId+"]").attr("data-hidden","false");var e=$(".js-hide-listing[data-listing-id="+t.listingId+"] .js-hide-listing-copy");e.each(function(){var t=$(this),e=t.data("hide-copy");t.html(t.data(e))}),"function"==typeof t.options.unhideCallback&&t.options.unhideCallback(t.$el,t.options),setTimeout(function(){t._updateResultsMessageUI()},500)}})},_getListings:function(e,i){if(t.sessionStorageIsSupported){var n=t.session.getItem("listings_"+e);"undefined"!=typeof n&&null!=n&&$.each(JSON.parse(n),function(t,e){i[t]=e})}},_storeHidden:function(){if(t.sessionStorageIsSupported){t.listings_hide.push(t.listingId),t.session.setItem("listings_hide",JSON.stringify(t.listings_hide));var e=$.inArray(t.listingId,t.listings_unhide);e>-1&&(t.listings_unhide.splice(e,1),t.session.setItem("listings_unhide",JSON.stringify(t.listings_unhide)))}},restoreHidden:function(e){if(t.sessionStorageIsSupported){var i=[];$.each(JSON.parse(e),function(t,e){i[t]=""+e});for(var n=0;n<i.length;n++)if(t.sessionStorageIsSupported){t.listings_unhide.push(i[n]),t.session.setItem("listings_unhide",JSON.stringify(t.listings_unhide));var s=$.inArray(i[n],t.listings_hide);s>-1&&(t.listings_hide.splice(s,1),t.session.setItem("listings_hide",JSON.stringify(t.listings_hide)))}}},_updateDetailsUI:function(){var e=$.inArray(t.options.listingId,t.listings_hide),i=$(".js-hide-listing"),n=$(".js-hide-listing-copy"),s=$(".js-hide-listing-msg");t.listings_hide.length&&(e>-1?(s.show(),i.attr("data-hidden",!0),n.each(function(){var t=$(this),e=t.data("unhide-copy");t.html(e)})):(s.hide(),i.attr("data-hidden",!1),n.each(function(){var t=$(this),e=t.data("hide-copy");t.html(e)})))},_updateResultsUI:function(){return"results"===t.options.placement&&(t._restoreUI(),void t._updateResultsMessageUI())},_restoreUI:function(){t.sessionStorageIsSupported&&(t.updateResultsListUI($.map(t.listings_hide,function(t){return"#listing_"+t}).join(", "),"hide",0),t._compareOriginal())},resultsToggle:function(t){var e=t.find(".icon-text"),i=t.find(".icon"),n=t.closest("li"),s=n.find(".listing-results-wrapper");t.data("clicked")===!0?(e.html("Show"),i.addClass("icon-right-dir"),i.removeClass("icon-down-dir"),t.data("clicked",!1),s.hide()):(e.html("Close"),i.removeClass("icon-right-dir"),i.addClass("icon-down-dir"),t.data("clicked",!0),s.show())},updateResultsListUI:function(e,i,n){null==n&&(n=300);var s=$(e);if($listingWrapper=s.find(".listing-results-wrapper"),$hideButton=s.find(".js-hide-listing"),$hideButtonCopy=s.find(".js-hide-listing-copy"),hideCopy=$hideButtonCopy.data("hide-copy"),unhideCopy=$hideButtonCopy.data("unhide-copy"),$msg=$(".js-hidden-listings-msg"),$hiddenWrapper=s.find(".hidden-listing-wrapper"),"unhide"===i){$hideButton.attr("data-hidden",!1),$hideButton.attr("data-ga-action","Hide"),$hideButtonCopy.html(hideCopy);var o=s.find(".js-hidden-listing-result-toggle"),a=o.find(".icon-text"),r=o.find(".icon");o.data("clicked",!1),a.html("Show"),r.addClass("icon-right-dir"),r.removeClass("icon-down-dir"),$listingWrapper.show(),$hiddenWrapper.hide(),s.removeClass("js-is-hidden-listing-result is-hidden-listing-result"),$msg.before(s),"grid"===t.options.viewType&&($(".listing-results li.grid-cell:eq(-1)").after(s),s.addClass("grid-cell"),t.updateResultsGridUI())}else $hideButton.attr("data-hidden",!0),$hideButton.attr("data-ga-action","Unhide"),$hideButtonCopy.html(unhideCopy),0===n?($listingWrapper.hide(),$hiddenWrapper.show(),s.addClass("js-is-hidden-listing-result is-hidden-listing-result"),$msg.after(s),"grid"===t.options.viewType&&(s.removeClass("grid-cell grid-cell-first grid-cell-third"),t.updateResultsGridUI())):$listingWrapper.slideUp(n,function(){s.addClass("js-is-hidden-listing-result is-hidden-listing-result"),$hiddenWrapper.show(),$msg.after(s)})},updateResultsGridUI:function(){var t=$(".listing-results");t.find("li").not(".js-is-hidden-listing-result").removeClass("grid-cell-first grid-cell-third"),t.find("li:nth-child(3n+1)").not(".js-is-hidden-listing-result").addClass("grid-cell-first"),t.find("li:nth-child(3n+3)").not(".js-is-hidden-listing-result").addClass("grid-cell-third")},_updateResultsMessageUI:function(){if("results"!==t.options.placement)return!1;var e=$(".js-hidden-listings-count"),i=$(".js-hidden-listings-msg"),n=$(".js-hidden-listings-property"),s=$(".js-is-hidden-listing-result").size();0===s?i.hide():(i.show(),1===s?n.text("property"):n.text("properties"),e.text(s))}};return{init:t.init,updateResultsListUI:t.updateResultsListUI,updateResultsGridUI:t.updateResultsGridUI,restoreHidden:t.restoreHidden,resultsToggle:t.resultsToggle,toggle:t.toggle}}(),ZPG.user_hide_listing_details=function(){var t={hideCallback:function(t){var e=(t.attr("data-listing-id"),$(".js-hide-listing-msg")),i=$(".js-hide-listing-copy");i.each(function(){var t=$(this),e=t.data("unhide-copy");t.html(e)}),e.show()},unhideCallback:function(t){var e=$(".js-hide-listing-copy"),i=$(".js-hide-listing-msg");e.each(function(){var t=$(this),e=t.data("hide-copy");t.html(e)}),i.hide()}};return{hideCallback:t.hideCallback,unhideCallback:t.unhideCallback}}(),ZPG.user_hide_listing_results=function(){var t={hideCallback:function(t,e){if("grid"===e.viewType){var i=t.closest("li"),n="hide",s=0;ZPG.user_hide_listing.updateResultsListUI(i,n,s)}else{var i=t.closest("li");ZPG.user_hide_listing.updateResultsListUI(i)}},unhideCallback:function(t,e){if("grid"===e.viewType){var i=t.closest("li"),n="unhide";ZPG.user_hide_listing.updateResultsListUI(i,n)}else{var i=t.closest("li"),n="unhide";ZPG.user_hide_listing.updateResultsListUI(i,n)}}};return{hideCallback:t.hideCallback,unhideCallback:t.unhideCallback}}(),ZPG.user_hide_listing_map=function(){var t={hideCallback:function(t){var e,i=t.attr("data-listing-id"),n=map.getInfoWindow().getPosition(),s=n.lat(),o=n.lng(),a=t.closest("ol"),r=t.parents("#map-popup").find(".map-popup-full-details:visible");e=r.length?r:t.closest("li"),e.fadeOut({complete:function(){e.remove();var n=parseInt($(".hidden-listings-count").text().replace(",",""));$(".hidden-listings-count").text(ZPG.util.formatNumber(n+1)),1===parseInt($(".hidden-listings-count").text().replace(",",""))?$(".hidden-listings-property").text("property"):$(".hidden-listings-property").text("properties"),$(".hidden-listings-count").parent("span").hasClass("none")&&$(".hidden-listings-count").parent("span").removeClass("none");var r=t.attr("data-section");"to-rent"===r?(map.removeToRentPin(i,s,o),map.removeFavouriteResultsToRentPin(i,s,o)):(map.removeForSalePin(i,s,o),map.removeFavouriteResultsForSalePin(i,s,o));var l=a.find("li");$(".map-popup-tally").html(l.size()),1===l.size()&&$(".map-popup-tally-property").html("property"),l.length||map.closeInfoWindow()}})}};return{hideCallback:t.hideCallback}}(),ZPG.movies=function(){var t={valid_url:!1,player_width:645,player_height:365,_validate_url:function(e){t.config=$.extend({URL:""},e);var i=t._parse_player_url({url:$.trim(t.config.URL)});i?(t.valid_url=!0,$("#movie-play").attr("href",i).data("player-height",t.player_height).data("player-width",t.player_width).data("valid-url",!0).show(),$("#agent-movie-play").show(),$("#images-slideshow").hide()):($("#movie-play").attr("href","").hide(),$("#agent-movie-play").hide(),$("#images-slideshow").show())},_parse_player_url:function(e){var i={URL:e.url};return e.url.indexOf("vistabee")>-1?t._source_vistabee(i):e.url.indexOf("vieweet")>-1?t._source_vieweet(i):e.url.indexOf("youtube")>-1||e.url.indexOf("youtu.be")>-1?t._source_youtube(i):e.url.indexOf("audioagent")>-1?t._source_audioagent(i):e.url.indexOf("vimeo")>-1?t._source_vimeo(i):e.url.indexOf("propertytours")>-1?t._source_propertytours(i):e.url.indexOf("matterport")>-1?t._source_matterport(i):void 0},_init_player:function(e){t.config=$.extend({enabled:1,movieContainer:$("#movie"),movieObject:$("#movie-main"),imageContainer:$("#images"),imageNav:$("#images"),playerType:"",URL:"",source:"",target:"",width:"",height:"",listing_id:"",branch_id:"",autoplay:!1},e),t.config.width&&t.config.width!==t.player_width&&(t.player_width=t.config.width),t.config.height&&t.config.height!==t.player_height&&(t.player_height=t.config.height);var i=$("#movie-play").data("valid-url")?$("#movie-play").attr("href"):t._parse_player_url({url:$.trim(t.config.URL)});t.valid_url?(i.indexOf(".mp4")>-1?t._create_video_frame({URL:i}):t._create_iframe({URL:i}),t._toggle_state(),t.config.listing_id&&t.config.branch_id?$.get("/ajax/movies/log_view/?listing_id="+t.config.listing_id+"&branch_id="+t.config.branch_id):!t.config.listing_id&&t.config.branch_id?$.get("/ajax/movies/log_view/?branch_id="+t.config.branch_id):t.config.listing_id&&!t.config.branch_id&&$.get("/ajax/movies/log_view/?listing_id="+t.config.listing_id)):($("#movie-play").hide(),$("#images-slideshow").show())},_create_video_frame:function(e){var i="movie-"+(new Date).getTime(),n=$("<video id='zpg-"+i+"' name='"+i+"'>");n.css("width",t.player_width+"px").css("height",t.player_height+"px").attr("controls","controls").attr("autoplay","autoplay").attr("preload","preload").html('<source type="video/mp4">').appendTo(t.config.movieObject),n.find("source").attr("src",e.URL)},_create_iframe:function(e){var i="movie-"+(new Date).getTime(),n=$("<iframe id='zpg-"+i+"' name='"+i+"'>");n.css("width",t.player_width+"px").css("height",t.player_height+"px").attr("scrolling","no").attr("seamless","seamless").appendTo(t.config.movieObject),$("#zpg-"+i).attr("src",e.URL)},_remove_frame:function(e){var i=t.config.imageContainer,n=(i.find("#images-main"),i.find(".images-thumb")),s=t.config.movieContainer,o=s.find("#movie-main");s.find("#movie-nav"),o.find("iframe");n.unbind("click.ZPG.movies.remove"),$.each(["iframe","video"],function(t,e){var i=s.find(e),n=i.attr("src");n&&"/"==n[0]&&i.contents().find("body").html("&nbsp;"),i.remove()})},_toggle_state:function(){var e=t.config.movieContainer,i=e.find("#movie-nav"),n=(e.find("#movie-main"),t.config.imageContainer),s=n.find("#images-main"),o=n.find("#images-nav");e.is(":hidden")&&s.is(":visible")&&o.is(":visible")?(t._show_movie(),i.on("click","a.back",function(e){e.preventDefault(),t._show_images()}),$(".images-thumb").click(function(e){e.preventDefault(),t._show_images()})):e.is(":visible")&&s.is(":hidden")&&o.is(":hidden")&&(t._show_images(),n.find(".images-thumb").unbind("click"))},_show_movie:function(){var e=t.config.movieContainer;img=t.config.imageContainer,e.show(),img.find("#images-main").hide(),img.find("#images-nav").hide(),t._push_event({category:"Video Embedded",action:"Play",label:t.config.playerType}),dataLayer.push({event:"taxonomy",eventTaxonomy:{activity:"listing_tools",action:"play_video"}})},_show_images:function(){var e=t.config.movieContainer;img=t.config.imageContainer,t._remove_frame(),e.hide(),img.find("#images-main").show(),img.find("#images-nav").show(),t._push_event({category:"Video Embedded",action:"Back to photos",label:t.config.playerType})},_source_vistabee:function(e){return t.config.playerType="Vistabee",e.URL.indexOf(".js")>-1?"/ajax/movies/embedd/?url="+e.URL:e.URL},_source_vieweet:function(e){return t.config.playerType="Vieweet",e.URL+(e.URL.indexOf("?")>-1?"&":"?")+"source=zoopla"},_source_audioagent:function(e){if(e.URL.match(/(?:http|https)?:\/\/(?:vid\.)?audioagent.com\//))return t.config.playerType="Audioagent",t.player_width=560,t.player_height=420,$("#movie-main").height(t.player_height).css({"text-align":"center",margin:"auto","background-color":"#000","min-width":"620px"}),e.URL+(e.URL.indexOf("?")>-1?"&":"?")+"embed=1&F=0&S=0&E=0&A="+(t.config.autoplay?"1":"0")+"&R=1"},_source_youtube:function(e){var i=e.URL.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/);if(i&&11==i[2].length){t.config.playerType="Youtube";var n="https://www.youtube.com/embed/"+i[2];return n+(n.indexOf("?")>-1?"&":"?")+"rel=0&amp;showinfo=0&modestbranding=1&fs=0&iv_load_policy=3"+(t.config.autoplay?"&amp;autoplay=1":"")}},_source_vimeo:function(e){t.config.autoplay=!0;var i=e.URL,n=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(?:user\d+)\/?(?:review)\/?(\d+)(?:$|\/|\?)/,s=i.match(n);if(s&&(i="https://player.vimeo.com/video/"+s[1]),i.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/)){if(t.config.playerType="Vimeo",i.indexOf("player")<1){var o=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(.+)/g;if(o.test(i)){var a="https://player.vimeo.com/video/$1";i=i.replace(o,a)}}return i+(t.config.autoplay?(i.indexOf("?")>-1?"&":"?")+"autoplay=true":"")+"&byline=0&badge=0&portrait=0&title=0&color=333"}return!1},_source_propertytours:function(e){var i=e.URL.match(/(?:http|https)?:\/\/(?:www\.|media\.)?propertytours.tv\/(?:movies\/[\d_-]+.mp4|(\d+))/);if(i)return t.config.playerType="Propertytours",t.player_height=421,$("#movie-main").height(t.player_height).css({"text-align":"center",margin:"auto","background-color":"#000","min-width":"620px"}),e.URL.indexOf(".mp4")>-1?e.URL:"https://www.propertytours.tv/player/movieZ.php?pid="+i[1]},_source_matterport:function(e){var i=e.URL.match(/^http?s?:\/\/my\.matterport\.com\/show\/\?m=.+$/);if(i)return t.config.playerType="Matterport",e.URL},_push_event:function(t){dataLayer.push({event:"GAEvent",eventCategory:t.category,eventAction:t.action,eventLabel:t.label,eventValue:void 0})}};return{init:t._init_player,validate_url:t._validate_url,remove:t._remove_frame,toggle_state:t._toggle_state}}(),ZPG.util_carousel={config:{container:"#carousel_widgets_ul",scroll:3,show:3,widgets:"",outcode:"",section:"",placement:""},init:function(t){ZUC=ZPG.util_carousel,t&&"object"==typeof t&&$.extend(ZUC.config,t),ZUC.$container=$(ZUC.config.container),ZUC.$prev=$(ZUC.config.prev),ZUC.loaded_widgets=new Array,ZUC.widgets=ZUC.config.widgets,ZUC.num_show=ZUC.config.show,ZUC.widget_index=ZUC.num_show,ZUC.last_index=ZUC.widgets.length-1,ZUC.outcode=ZUC.config.outcode,ZUC.section=ZUC.config.section,ZUC.placement=ZUC.config.placement;for(var e=0;e<=ZUC.widget_index;e++)ZUC.loaded_widgets[e]=1;ZUC.$container.jcarousel({animation:800,center:!0,scroll:ZUC.config.scroll}),$(".jcarousel-next").on("click",function(){ZUC.next()}),$(".jcarousel-prev").on("click",function(){ZUC.prev()})},next:function(){for(var t=0;t<ZUC.num_show;t++){ZUC.widget_index++;var e=".carousel_widget_"+ZUC.widgets[ZUC.widget_index],i="/widgets/carousel_widgets/"+ZUC.widgets[ZUC.widget_index]+".html?outcode="+ZUC.outcode+"&section="+ZUC.section+"&placement="+ZUC.placement;if(ZUC.widget_index>ZUC.last_index&&(ZUC.widget_index=0),ZUC.loaded_widgets[ZUC.widget_index])return $(e).clone($(e)),!1;$(e).each(function(){$(this).load(i)}),ZUC.loaded_widgets[ZUC.widget_index]=1}},prev:function(){for(var t=0;t<ZUC.num_show;t++){if(ZUC.widget_index--,ZUC.widget_index-ZUC.num_show<0&&(ZUC.widget_index=ZUC.last_index+ZUC.num_show),ZUC.loaded_widgets[ZUC.widget_index-ZUC.num_show])return $(e).clone($(e)),!1;var e=".carousel_widget_"+ZUC.widgets[ZUC.widget_index-ZUC.num_show],i="/widgets/carousel_widgets/"+ZUC.widgets[ZUC.widget_index-ZUC.num_show]+".html?outcode="+ZUC.outcode+"&section="+ZUC.section+"&placement="+ZUC.placement;$(e).each(function(){$(this).load(i)}),ZUC.loaded_widgets[ZUC.widget_index-ZUC.num_show]=1}}},ZPG.util={formatNumber:function(t){for(var e="";t>999;){var i=t%1e3;i%1!==0&&(i=parseFloat(i).toFixed(2)),i<10?i="00"+i:i<100&&(i="0"+i),e=","+i+e,t=Math.floor(t/1e3)}return e=t+e},appendParams:function(t,e){return $.each(e,function(e,i){var n;"object"==typeof i&&i instanceof Array?n=i:(n=new Array,n.push(i)),$.each(n,function(i,n){t=t+(t.indexOf("?")==-1?"?":"&")+encodeURIComponent(e)+"="+encodeURIComponent(n)})}),t},getCookie:function(t){var e,i,n,s=document.cookie.split(";");for(e=0;e<s.length;e++)if(i=s[e].substr(0,s[e].indexOf("=")),n=s[e].substr(s[e].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==t)return decodeURIComponent(n)}},ZPG.facebook={permissions:"public_profile,email",error_string:"Your Facebook account was not authorized.",login:function(t,e){e=e||ZPG.facebook.permissions,FB.login(t,{scope:e,return_scopes:!0})},login_callback:function(t){if(t.authResponse&&t.authResponse.grantedScopes){var e=t.authResponse.grantedScopes.split(","),i=$.grep(e,function(t,e){return"email"==t});i.length>0?ZPG.facebook.check_login_state():FB.api("/v2.2/me/permissions","DELETE",{access_token:t.authResponse.accessToken},function(){alert("Logging via Facebook requires that e-mail address permission be granted, please try again.")})}else alert(ZPG.facebook.error_string)},check_login_state:function(){FB.getLoginStatus(function(t){ZPG.facebook.status_change_callback(t)})},status_change_callback:function(t){"connected"===t.status?ZPG.facebook.login_to_zpg(t):"not_authorized"===t.status},login_to_zpg:function(t){$.post("/ajax/signin/facebook",{access_token:t.authResponse.accessToken},function(t){t.success?top.location.href="/signin/?via=facebook":alert("Unable to login, permission and e-mail address required. Please try again")},"json")}},ZPG.googleplus={login:function(){var t={callback:ZPG.googleplus.signin_callback,theme:"dark"};gapi.auth.signIn(t)},signin_callback:function(t){t.status.signed_in&&$.ajax({type:"POST",url:"/ajax/signin/googleplus",data:{access_token:t.access_token},success:function(t){t.success?(gapi.auth.signOut(),top.location.href="signin/index7e4e.html?via=googleplus"):alert("Unable to login, permission and e-mail address required.")}})}},ZPG.util_textarea={init:function(t){ZUT=ZPG.util_textarea,ZUT.$input=$(".textarea-limit"),ZUT.$charsPlaceholder=$(".chars"),ZUT.charsLimit=Number(ZUT.$charsPlaceholder.html()),setTimeout(function(){ZUT.limitInputCopy()},500),ZUT.$input.keyup(function(){ZUT.limitInputCopy()})},limitInputCopy:function(t){var t=ZUT.$input.val(),e=ZUT.remainingForTextArea(t);ZUT.$charsPlaceholder.html(e),e<=0&&(ZUT.$charsPlaceholder.html("0"),inputContentBeforeKeyup=t.substring(0,ZUT.charsLimit),ZUT.$input.val(inputContentBeforeKeyup))},remainingForTextArea:function(t){var e;ZUT.$input.attr("title");return e=t?t.length:0,ZUT.charsLimit-e}};var highChartColors=[];highChartColors=$(".wl-primelocation").length>0?["#63cb95","#003896","#63cb95","#594fbe","#5a5a5a"]:$(".wl-smartnewhomes").length>0?["#007CBB","#229264","#58585b","#116031","#5a5a5a"]:["#d64521","#b2d235","#7ecdcd","#ffca05","#5a5a5a"],Highcharts.setOptions({chart:{spacingTop:20,spacingBottom:20,spacingLeft:30,spacingRight:30,style:{fontFamily:"sans-serif",fontSize:"12px"},backgroundColor:"rgba(255, 255, 255, 0)"},colors:highChartColors}),ZPG.highchart={config:{categories:"",colors:highChartColors,titleStyle:{color:"#999999",fontSize:"11px"},series:[],data:"",domId:"",width:583,height:300,lineColour:null,showDataPoints:!0,xAxisType:"category",xAxis:{},yAxis:{},tooltip:{borderColor:"#dedede",backgroundColor:"#eee",color:"#000"},tooltip_formatter:function(){return this.y}},init:function(t){ZHC=ZPG.highchart;$("#report");t&&"object"==typeof t&&$.extend(ZHC.config,t);var e=[];ZHC.config.showUkAverageLine&&(e=[{color:"#FF0000",width:2,value:100,label:{y:-5,align:"center",text:"UK Average",style:{color:"#999999",fontSize:"11px"},rotation:0},zIndex:2}]),ZHC.chart=new Highcharts.Chart({exporting:{enabled:!1},chart:{renderTo:ZHC.config.domId,type:ZHC.config.chartType,width:ZHC.config.width,height:ZHC.config.height},colors:ZHC.config.colors,title:{text:ZHC.config.title||null,style:{color:ZHC.config.titleStyle.color,fontSize:ZHC.config.titleStyle.fontSize}},tooltip:{borderWidth:1,borderColor:ZHC.config.tooltip.borderColor,backgroundColor:ZHC.config.tooltip.backgroundColor,shadow:!1,style:{color:ZHC.config.tooltip.color},formatter:ZHC.config.tooltip_formatter},plotOptions:{line:{marker:{lineColor:ZHC.config.lineColour,enabled:ZHC.config.showDataPoints}},series:{shadow:!1},bar:{dataLabels:{enabled:!1}}},credits:{style:{color:"#cccccc",fontSize:"9px"},text:ZHC.config.creditsText,href:""},xAxis:{lineColor:ZHC.config.xAxis.lineColor||"#dedede",lineWidth:ZHC.config.xAxis.lineWidth||1,gridLineWidth:ZHC.config.xAxis.gridLineWidth||0,gridLineColor:ZHC.config.yAxis.gridLineColor||"#dedede",type:ZHC.config.xAxisType,categories:ZHC.config.categories},yAxis:{lineColor:ZHC.config.yAxis.lineColor||"#dedede",lineWidth:ZHC.config.yAxis.lineWidth||0,gridLineDashStyle:ZHC.config.yAxis.gridLineDashStyle||"Solid",gridLineColor:ZHC.config.yAxis.gridLineColor||"#dedede",plotLines:e,title:{style:{color:"#999999"},text:ZHC.config.yAxisTitle},labels:{overflow:"justify"}},series:ZHC.config.series})}};var autocomplete_cache_prev_search_listings={},autocomplete_cache_prev_search_properties={},autocomplete_cache_prev_search_askme={},autocomplete_cache_prev_search_pvi={},autocomplete_cache_geo_listings={},autocomplete_cache_geo_properties={},autocomplete_cache_geo_askme={},autocomplete_cache_geo_pvi={},last_autocomplete_xhr,autocomplete_is_hover_select=!1;$(document).on("keydown",".geo_autocomplete",function(t){t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||13==t.keyCode||9==t.keyCode||37==t.keyCode||38==t.keyCode||39==t.keyCode||40==t.keyCode||$(".geo_autocomplete_identifier").val("");var e=$(this);e.autocomplete({source:function(t,e){var i=geoAutocompleteNormaliseSearchTerm(t.term);if(!(i.length<1)){var n,s,o,a=i,r=$('input[name="section"]:checked').val()||$('input[name="section"]').val()||$(".geo_autocomplete_identifier").attr("data-section");"home-values"==r||"house-prices"==r?(n="properties",s=autocomplete_cache_prev_search_properties,o=autocomplete_cache_geo_properties):"askme"==r?(n="askme",s=autocomplete_cache_prev_search_askme,o=autocomplete_cache_geo_askme):"property-value-index"==r?(n="pvi",s=autocomplete_cache_prev_search_pvi,o=autocomplete_cache_geo_pvi):(n="listings",s=autocomplete_cache_prev_search_listings,o=autocomplete_cache_geo_listings);var l="";if("properties"===n){var h=/^(flat ?(\d+|\d+[a-z]|[a-z]) )?\d+[a-z]? /,c=h.exec(a);if(c&&(a=a.replace(h,""),l=c[0],!a))return}var d=[],u=[];return i in s?(d=s[i],u=o[a],void geoAutocompleteSetSearchResponse(e,d,u,n,l)):(d=geoAutocompleteGetDerivedSuggestions(s,i,10),u=d?geoAutocompleteGetDerivedSuggestions(o,a,10):void 0,d&&u?(d=geoAutocompleteHighlightValues(d,i),u=geoAutocompleteHighlightValues(u,a),s[i]=d,o[a]=u,void geoAutocompleteSetSearchResponse(e,d,u,n,l)):void(last_autocomplete_xhr=$.getJSON("ajax/search/geo_autocomplete/index.html",{prev_search_term:i,geo_search_term:a,search_type:n},function(t,r,h){d=geoAutocompleteHighlightValues(t.p||[],i),u=$.map(t.g||[],function(t){var e=new RegExp(" \\[(.*)\\]$"),i=e.exec(t.v);return i&&(t.v=t.v.replace(e,""),t.s=i[1]),t}),u=geoAutocompleteHighlightValues(u,a),s[i]=d,o[a]=u,h==last_autocomplete_xhr&&geoAutocompleteSetSearchResponse(e,d,u,n,l)})))}},select:function(t,e){var i=!t.keyCode&&!t.button;if(0==i&&1==autocomplete_is_hover_select&&"undefined"!=typeof t.keyCode&&0!=t.keyCode)t.preventDefault();else{if($("body").is('[class*="ie-"]'));else if($(t.srcElement||t.target).hasClass("delete_autocomplete_suggestion"))return!1;$(".geo_autocomplete_identifier").val(e.item.i),$(".geo_autocomplete").val(e.item.v).change()}return!1},focus:function(t,e){return autocomplete_is_hover_select="undefined"==typeof t.keyCode||0==t.keyCode,!1},appendTo:e.hasClass("search-refine-location")?$(".search-refine-location-autocomplete-results"):$("#fancybox-content").is(":visible")?$("#fancybox-content"):$("body"),position:{my:"right top",at:"right bottom"},minLength:1,delay:5}).each(function(){$(this).data("ui-autocomplete")._renderMenu=function(t,e){var i=e[0].prev_search_suggestions||[],n=e[0].geo_suggestions||[],s=e[0].search_type;if($.each(i,function(e,i){geoAutocompleteRenderPrevSearchItem(t,i,s)}),i.length&&n.length&&t.append('<li id="autocomplete_suggestions_divider"></li>'),$.each(n,function(e,i){geoAutocompleteRenderGeoItem(t,i)}),"true"===$(".geo_autocomplete").attr("data-mobile"))for(x=0;x<20;x++)t.append('<li class="ui-autocomplete-placeholder"><span>&nbsp;</span></li>')}})}),$(document).on("click",".delete_autocomplete_suggestion",function(t){var e=unescape($(this).attr("data-value")),i=unescape($(this).attr("data-search-type")),n=$(this).parent();return $.get("ajax/search/geo_autocomplete/delete_suggestion/index.html",{previous_search_string:e,search_type:i},function(){var t="listings"===i?autocomplete_cache_prev_search_listings:autocomplete_cache_prev_search_properties;$.each(t,function(i,n){n=$.grep(n,function(t){return t.v!=e}),t[i]=n}),1==$("li.previous_query_string:visible").length&&$("li#autocomplete_suggestions_divider").hide(),n.slideUp(200),$("ul.ui-autocomplete li[role=menuitem]:visible").length<=1&&$("ul.ui-autocomplete").slideUp(200)}),!1}),$(document).on("autocompleteselect",".geo_autocomplete.search-refine-location",function(t,e){$(this).trigger("change"),$(this).autocomplete("destroy")});var autocomplete_cache_prev_search_listings={},autocomplete_cache_geo_listings={},last_autocomplete_xhr,autocomplete_is_hover_select=!1;$(".overseas_geo_autocomplete").on("click",function(){var t=jQuery.Event("keydown",{dontClearIdentifier:1});return $(".overseas_geo_autocomplete").trigger(t),$(".overseas_geo_autocomplete").trigger(t),!1}),$(".overseas_geo_autocomplete").on("keydown",function(t){var e=this;t.dontClearIdentifier||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||13==t.keyCode||9==t.keyCode||37==t.keyCode||38==t.keyCode||39==t.keyCode||40==t.keyCode||$(".overseas_geo_autocomplete_identifier").val("").change(),$(this).autocomplete({source:function(t,i){var n=overseasGeoAutocompleteNormaliseSearchTerm(t.term);n.length<1&&(n="");var s=n,o=$(e).closest("form").find('select[name="country_code"]').val();if(o||(o=$(e).closest("form").find('input[name="country_code"]').val()),o){var a,r;a=autocomplete_cache_prev_search_listings,r=autocomplete_cache_geo_listings;var l=[],h=[];
return o+n in a?(l=a[o+n],h=r[o+s],void overseasGeoAutocompleteSetSearchResponse(i,l,h,o)):(l=overseasGeoAutocompleteGetDerivedSuggestions(a,n,o,10),h=l?overseasGeoAutocompleteGetDerivedSuggestions(r,s,o,10):void 0,l&&h?(l=overseasGeoAutocompleteHighlightValues(l,n),h=overseasGeoAutocompleteHighlightValues(h,s),a[o+n]=l,r[o+s]=h,void overseasGeoAutocompleteSetSearchResponse(i,l,h,o)):void(last_autocomplete_xhr=$.getJSON("ajax/search/overseas_geo_autocomplete/index.html",{prev_search_term:n,geo_search_term:s,country_code:o},function(t,e,c){l=overseasGeoAutocompleteHighlightValues(t.p||[],n),h=$.map(t.g||[],function(t){var e=new RegExp(" \\[(.*)\\]$"),i=e.exec(t.v);return i&&(t.v=t.v.replace(e,""),t.s=i[1]),t}),h=overseasGeoAutocompleteHighlightValues(h,s),a[o+n]=l,r[o+s]=h,c==last_autocomplete_xhr&&overseasGeoAutocompleteSetSearchResponse(i,l,h,o)})))}},select:function(t,e){var i=!1;return"click"==t.originalEvent.originalEvent.type&&(i=!0),0==i&&1==autocomplete_is_hover_select&&"undefined"!=typeof t.keyCode&&0!=t.keyCode?t.preventDefault():($(".overseas_geo_autocomplete_identifier").val(e.item.i).change(),$(".overseas_geo_autocomplete").val(e.item.v)),!1},focus:function(t,e){return autocomplete_is_hover_select="undefined"==typeof t.keyCode||0==t.keyCode,!1},appendTo:$("#fancybox-content").is(":visible")?$("#fancybox-content"):$("body"),position:{my:"left top",at:"left bottom"},minLength:0,delay:5}).each(function(){$(this).data("ui-autocomplete")._renderMenu=function(t,e){var i=e[0].prev_search_suggestions||[],n=e[0].geo_suggestions||[],s=e[0].country_code;if($.each(i,function(e,i){overseasGeoAutocompleteRenderPrevSearchItem(t,i,s)}),i.length&&n.length&&t.append('<li id="autocomplete_suggestions_divider"></li>'),$.each(n,function(e,i){overseasGeoAutocompleteRenderGeoItem(t,i)}),"true"===$(".overseas_geo_autocomplete").attr("data-mobile"))for(x=0;x<20;x++)t.append('<li class="ui-autocomplete-placeholder"><span>&nbsp;</span></li>')}})}),$(document).on("click",".delete_overseas_autocomplete_suggestion",function(t){var e=unescape($(this).attr("data-value")),i=unescape($(this).attr("data-country-code")),n=$(this).parent();return $.get("ajax/search/overseas_geo_autocomplete/delete_suggestion/index.html",{previous_search_string:e,country_code:i},function(){var t=autocomplete_cache_prev_search_listings;$.each(t,function(i,n){n=$.grep(n,function(t){return t.v!=e}),t[i]=n}),1==$("li.previous_query_string:visible").length&&$("li#autocomplete_suggestions_divider").hide(),n.slideUp(200),$("ul.ui-autocomplete li[role=menuitem]:visible").length<=1&&$("ul.ui-autocomplete").slideUp(200)}),!1});var price_frequency=function(){if("per_month"==$("#price_frequency").val()){var t=$("#rent_price_min_per_week").val(),e=0;if(t){var i=void 0,n=52*t/12;$("#rent_price_min_per_month option").each(function(t,s){var o=Math.abs(n-$(s).val());(o<i||void 0==i)&&(e=t,i=o)})}var s=$("#rent_price_max_per_week").val(),o=0;if(s){var i=void 0,a=52*s/12;$("#rent_price_max_per_month option").each(function(t,e){var n=Math.abs(a-$(e).val());(n<i||void 0==i)&&(o=t,i=n)})}$("#rent_price_min_per_week,#rent_price_max_per_week").prop("disabled","disabled").addClass("none"),$("#rent_price_min_per_month,#rent_price_max_per_month").prop("disabled","").removeClass("none"),$("#rent_price_min_per_month").prop("selectedIndex",e),$("#rent_price_max_per_month").prop("selectedIndex",o)}else{var t=$("#rent_price_min_per_month").val(),e=0;if(t){var i=void 0,r=t/52*12;$("#rent_price_min_per_week option").each(function(t,n){var s=Math.abs(r-$(n).val());(s<i||void 0==i)&&(e=t,i=s)})}var s=$("#rent_price_max_per_month").val(),o=0;if(s){var i=void 0,l=s/52*12;$("#rent_price_max_per_week option").each(function(t,e){var n=Math.abs(l-$(e).val());(n<i||void 0==i)&&(o=t,i=n)})}$("#rent_price_min_per_week,#rent_price_max_per_week").prop("disabled","").removeClass("none"),$("#rent_price_min_per_month,#rent_price_max_per_month").prop("disabled","disabled").addClass("none"),$("#rent_price_min_per_week").prop("selectedIndex",e),$("#rent_price_max_per_week").prop("selectedIndex",o)}};$("#price_frequency").change(function(){price_frequency()});var old_floor_area_units=$("#floor_area_units").val(),floor_area_units=function(){var t=$("#floor_area_units").val();$("select.floor_area_max, select.floor_area_min").prop("disabled","disabled").addClass("none"),$("select#floor_area_min_"+t+", select#floor_area_max_"+t).prop("disabled","").removeClass("none");var e=0,i=0;$("#floor_area_min_"+t).prop("selectedIndex",e),$("#floor_area_max_"+t).prop("selectedIndex",i);var n,s,o=.000247105381,a=10.7639104;if("undefined"!=typeof old_floor_area_units){var r=$("#floor_area_min_"+old_floor_area_units).val(),l=$("#floor_area_max_"+old_floor_area_units).val();"sq_metres"==old_floor_area_units?(n=r,s=l):"sq_feet"==old_floor_area_units?(n=r/a,s=l/a):"acres"==old_floor_area_units&&(n=r/o,s=l/o);var h,c;"sq_metres"==t?(h=n,c=s):"sq_feet"==t?(h=n*a,c=s*a):"acres"==t&&(h=n*o,c=s*o);var d,u,p;$("#floor_area_min_"+t+" option").each(function(){var t=Math.abs(h-$(this).val());("undefined"==typeof d||t<p)&&(d=$(this).val(),p=t)}),$("#floor_area_max_"+t+" option").each(function(){var t=Math.abs(c-$(this).val());("undefined"==typeof u||t<p)&&(u=$(this).val(),p=t)}),$("#floor_area_min_"+t).val(d),$("#floor_area_max_"+t).val(u)}old_floor_area_units=t};$("#floor_area_units").change(function(){floor_area_units()}),ZPG.calculator=function(options){var me={options:$.extend({},options),init:function(t,e){me._calculate(!1),$("#calc-term-slider").slider({range:"max",min:3,max:35,value:25,step:1,change:function(){me._trackEvent("Slider"),me.googlePush()},slide:function(t,e){$("#calc-term").val(e.value)}}),$(document).on("change","#calc-term",function(){var t=$(this),e=$("#calc-term-slider"),i=t.val();e.slider("value",i)}),$(document).on("change",".calc-form input",function(){me._trackEvent("Input change"),me.googlePush()}),$(document).on("focus",".calc-form input",function(){$(this).select(),me._trackEvent("Input focus")}),$(document).on("click","#calc-calculate",function(){me._calculate(),me._trackEvent("Calculate")})},_calculate:function(t){"affordability"===me.options.type?me._calculateAffordability():"mortgage"!==me.options.type&&"remortgage"!==me.options.type||me._calculateMortgage(),t!==!1&&me.googlePush()},googlePush:function(){"undefined"!=typeof me.options.google_loan_type&&"undefined"!=typeof window.google_tag_params&&(window.google_tag_params.LOAN_type=me.options.google_loan_type,window.google_trackConversion({google_conversion_id:me.options.google_conversion_id,google_custom_params:window.google_tag_params,google_remarketing_only:!0}))},_trackEvent:function(t){var e=$(".calc-help").attr("data-ga-category");dataLayer.push({event:"GAEvent",eventCategory:e,eventAction:t,eventLabel:void 0,eventValue:void 0})},_pv:function(rate,per,nper,pmt,fv){return nper=parseFloat(nper),pmt=parseFloat(pmt),fv=parseFloat(fv),rate=eval(rate/(100*per)),0==pmt||0==nper?0:(0==rate?pv_value=-(fv+pmt*nper):(x=Math.pow(1+rate,-nper),y=Math.pow(1+rate,nper),pv_value=-(x*(fv*rate-pmt+y*pmt))/rate),pv_value=me._conv_number(pv_value,2),pv_value)},_conv_number:function(expr,decplaces){for(var str=""+Math.round(eval(expr)*Math.pow(10,decplaces));str.length<=decplaces;)str="0"+str;var decpoint=str.length-decplaces;return str.substring(0,decpoint)+"."+str.substring(decpoint,str.length)},_calculateAffordability:function(){var t,e=$("#calc-monthly"),i=e.val()||0,n=$("#calc-interest"),s=n.val(),o=$("#calc-deposit"),a=o.val()||0,r=$("#calc-term"),l=r.val(),h=$("#calc-mortgagetype"),c=h.val(),d=$(".calc-quote-value");"NaN"!=parseInt(i)&&parseInt(i)>0?(t="interest"===c?12*i/s*100+parseFloat(a):parseFloat(a)+parseFloat(me._pv(s,12,12*l,-i,0)),d.html(ZPG.util.formatNumber(100*Math.round(t/100)))):d.html("--")},_calculateMortgage:function(){var t,e,i,n,s,o,a=$("#calc-interest"),r=$("#calc-term"),l=$("#calc-price"),h=$("#calc-deposit");t=a.val()/100,i=t/12,e=r.val(),n=12*e,price=l.val(),deposit=h.val(),s=price-deposit,o=Math.floor(s*i/(1-Math.pow(1+i,-1*n))*100)/100,repaymentsRounded=ZPG.util.formatNumber(Math.floor(o)),isNaN(o)===!0&&(repaymentsRounded="--"),$(".calc-quote-value").html(repaymentsRounded)}};return{init:me.init}},ZPG.calculatorOld=function(t){var e={options:$.extend({},t),_stripFormatNumber:function(t){return t.replace(/\,|\₱|\%/g,"")},_calculateRepayments:function(){var t=e._stripFormatNumber($('.js-calc-form input[name="calc-interest"]').val())/100,i=25,n=t/12,s=12*i,o=e._stripFormatNumber($('.js-calc-form input[name="calc-deposit"]').val()),a=e._stripFormatNumber($('.js-calc-form input[name="calc-price"]').val()),r=a-o,l=Math.floor(r*n/(1-Math.pow(1+n,-1*s))*100)/100;$(".calc-quote span").html(ZPG.util.formatNumber(Math.floor(l)))},init:function(t,i){if(google.setOnLoadCallback(e._drawChart),$("#calc-price").length>0){var n=e._stripFormatNumber($("input[name=calc-price]").val()),s=.05*n,o=2*n,a=($("#calc-price").slider({range:"max",min:1e3,max:o,value:n,step:100,slide:function(t,i){i.value<=e._stripFormatNumber($(".js-calc-form input[name=calc-deposit]").val())?$("input[name=calc-price]").val(ZPG.util.formatNumber($(".js-calc-form input[name=calc-deposit]").val())):$("input[name=calc-price]").val("₱"+ZPG.util.formatNumber(i.value)),e._calculateRepayments(),e._drawChart(),a.slider("option","max",i.value)},change:function(){e._trackEvent("Slider price")}}),$("#calc-deposit").slider({range:"max",min:0,max:n,step:50,value:s,slide:function(t,i){i.value>=e._stripFormatNumber($('.js-calc-form input[name="calc-price"]').val())?$("input[name=calc-deposit]").val(ZPG.util.formatNumber($('.js-calc-form input[name="calc-price"]').val())):$("input[name=calc-deposit]").val("₱"+ZPG.util.formatNumber(i.value)),e._calculateRepayments(),e._drawChart(),i.value<=0?$("#calc-deposit .ui-slider-handle").addClass("zero"):$("#calc-deposit .ui-slider-handle").hasClass("zero")&&$("#calc-deposit .ui-slider-handle").removeClass("zero")},change:function(t){e._trackEvent("Slider deposit")}}));$("#calc-interest").slider({range:"max",min:.5,max:10.01,value:.5,step:.5,slide:function(t,i){$("input[name=calc-interest]").val(ZPG.util.formatNumber(i.value)+"%"),e._calculateRepayments()},change:function(){e._trackEvent("Slider interest")}});e._calculateRepayments(),e._drawChart(),$("input[name=calc-price]").val("₱"+ZPG.util.formatNumber($("#calc-price").slider("value"))),$("input[name=calc-deposit]").val("₱"+ZPG.util.formatNumber($("#calc-deposit").slider("value"))),$("input[name=calc-interest]").val(ZPG.util.formatNumber($("#calc-interest").slider("value")+"%"))}},googlePush:function(){"undefined"!=typeof e.options.google_loan_type&&"undefined"!=typeof window.google_tag_params&&(window.google_tag_params.LOAN_type=e.options.google_loan_type,window.google_trackConversion({google_conversion_id:e.options.google_conversion_id,google_custom_params:window.google_tag_params,google_remarketing_only:!0}))},_trackEvent:function(t){var i=$(".calc-help").attr("data-ga-category");dataLayer.push({event:"GAEvent",eventCategory:i,eventAction:t,eventLabel:void 0,eventValue:void 0}),e.googlePush()},_drawChart:function(){var t=e._stripFormatNumber($('.js-calc-form input[name="calc-price"]').val()),i=e._stripFormatNumber($('.js-calc-form input[name="calc-deposit"]').val()),n=Math.ceil(i/t*100),s=100-n,o=new window.google.visualization.DataTable;o.addColumn("string","year"),o.addColumn("number","sales"),o.addRows([["Your mortgage",parseInt(s)],["Your deposit",parseInt(n)]]);var a={pieHole:.45,pieSliceBorderColor:"transparent",backgroundColor:"#f9f9f9",width:150,height:150,enableInteractivity:!1,colors:[e.options.color_mortgage,e.options.color_deposit],legend:{position:"none"},pieSliceTextStyle:{fontName:"Droid sans",fontName:"Arial",fontSize:10,bold:!0},chartArea:{top:10,left:15,width:120,height:120}},r=new window.google.visualization.PieChart(document.getElementById("donutchart"));r.draw(o,a)}};return{init:e.init}},$(".search-refine-facets-dropdown").each(function(){var t=$(this);t.find("li").length<1&&t.remove(),t.find(".facet-link-active").length>0&&t.find(".search-refine-facets-header-text").text(t.find(".facet-link-active .search-refine-facets-text").text())}),function(){$(".is-new-refine #facets-features .search-refine-filters-item").length<1&&$(".is-new-refine #facets-features").remove()}(),$(".search-refine-filters-select").each(function(){var t=$(this);t.find("option").length<1&&t.closest(".search-refine-filters-dropdown").remove()}),$(".form-search-and-refine").on("click touchend",".js-btn-search-refine-top:not(.is-disabled)",function(t){function e(t){$(t.target).parents(".search-refine-element-panel").length<1&&!$(t.target).hasClass("search-refine-element-panel")&&!$(t.target).hasClass("search-refine-location")&&$(t.target).parents(".ui-autocomplete").length<1&&(o.addClass("is-hidden"),a.removeClass("is-active"),$(".search-refine-overlay").hide(),$(".listing-results-utils-view select").selectBoxIt("enable").show(),$("body").off("click touchend",e))}var i=$(this),n=i.parent(),s=n.find(".search-refine-element-panel"),o=$(".search-refine-element-panel"),a=$(".js-btn-search-refine-top"),r=$(".main-content-area").height()+$("footer").height(),l=$(".main-content-area").width()+(window.location.hostname.indexOf("primelocation")>=0?0:20);if(s.hasClass("is-hidden")){if(o.addClass("is-hidden"),a.removeClass("is-active"),s.removeClass("is-hidden"),i.addClass("is-active"),"location"===n.attr("data-refine")){var h=i.siblings("#location"),c=h.val();h.focus().val("").val(c)}n.is('[data-refine="filters"]')&&dataLayer.push({event:"GAEvent",eventCategory:"Search",eventAction:"More filters",eventLabel:"open",eventValue:void 0,eventNonInteraction:!1})}else o.addClass("is-hidden"),a.removeClass("is-active"),$("body").off("click touchend",e);t.preventDefault(),t.stopPropagation();var d=!0;o.each(function(){$(this).hasClass("is-hidden")||(d=!1)}),d?($(".search-refine-overlay").hide(),$("body").off("click touchend",e)):($(".search-refine-overlay").css({height:r+"px",width:l+"px","margin-left":-(l/2)+"px"}).show(),$(".listing-results-utils-view select").selectBoxIt("disable").hide(),$("body").on("click touchend",e))}),$(".search-refine-element-wrapper").on("change","select, input",function(t){var e=$(t.delegateTarget),i=e.find(".js-btn-search-refine-top");if("bedrooms"===e.attr("data-refine")){var n="",s=e.find("#beds_min option:selected"),o=e.find("#beds_max option:selected");n=""!==s.val()&&""!==o.val()?s.text()+" - "+o.text()+("Studio"===o.text()?"":"1"===o.text()?" bed":" beds"):""!==s.val()&&""===o.val()?s.text()+("Studio"===s.text()?"":"1"===s.text()?" bed":" beds")+" min":""===s.val()&&""!==o.val()?o.text()+("Studio"===o.text()?"":"1"===o.text()?" bed":" beds")+" max":i.attr("data-all"),i.find(".search-refine-price-wrapper").text(n)}else if("for-sale_price"===e.attr("data-refine")||"new-homes_price"===e.attr("data-refine")){var n="",a=e.find("#forsale_price_min option:selected"),r=e.find("#forsale_price_max option:selected"),l=a.attr("data-condensed"),h=r.attr("data-condensed"),c=$("form#form-search-and-refine.is-new-refine").length>0?"₱":"";n=""!==a.val()&&""!==r.val()?c+l+" to "+c+h:""!==a.val()&&""===r.val()?c+l+" min":""===a.val()&&""!==r.val()?c+h+" max":i.attr("data-all"),i.find(".search-refine-price-wrapper").text(n)}else if("to-rent_price"===e.attr("data-refine")){var n="",d=e.find("#rent_price_min_per_year").length>0?"per_year":e.find("#price_frequency option:selected").val(),u="per_year"===d?"pa":"per_month"===d?"pcm":"pw",a=e.find("#rent_price_min_"+d+" option:selected"),r=e.find("#rent_price_max_"+d+" option:selected"),l=a.attr("data-condensed"),h=r.attr("data-condensed"),c=$("form#form-search-and-refine.is-new-refine").length>0?"₱":"";$(t.currentTarget).is("#price_frequency")&&("per_month"===d?($("#rent_price_min_per_monthSelectBoxIt, #rent_price_max_per_monthSelectBoxIt").removeClass("selectboxit-disabled none").addClass("selectboxit-enabled").siblings("select").trigger("change"),$("#rent_price_min_per_weekSelectBoxIt, #rent_price_max_per_weekSelectBoxIt").addClass("selectboxit-disabled none").removeClass("selectboxit-enabled")):($("#rent_price_min_per_monthSelectBoxIt, #rent_price_max_per_monthSelectBoxIt").addClass("selectboxit-disabled none").removeClass("selectboxit-enabled"),$("#rent_price_min_per_weekSelectBoxIt, #rent_price_max_per_weekSelectBoxIt").removeClass("selectboxit-disabled none").addClass("selectboxit-enabled").siblings("select").trigger("change"))),n=""!==a.val()&&""!==r.val()?c+l+" to "+c+h+" ("+u+")":""!==a.val()&&""===r.val()?c+l+" min ("+u+")":""===a.val()&&""!==r.val()?c+h+" max ("+u+")":i.attr("data-all"),i.find(".search-refine-price-wrapper").text(n)}else if("officespace"===e.attr("data-refine")){var n="",p=e.find("#floor_area_units option:selected").val(),f="sq_feet"===p?"ft<sup>2</sup>":"acres"===p?"ac<sup>2</sup>":"m<sup>2</sup>",g=e.find("#floor_area_min_"+p+" option:selected"),m=e.find("#floor_area_max_"+p+" option:selected"),v=g.attr("data-condensed"),b=m.attr("data-condensed");$(t.currentTarget).is("#floor_area_units")&&("sq_feet"===p?($("#floor_area_min_sq_feetSelectBoxIt, #floor_area_max_sq_feetSelectBoxIt").removeClass("selectboxit-disabled none").addClass("selectboxit-enabled"),$("#floor_area_min_sq_metresSelectBoxIt, #floor_area_max_sq_metresSelectBoxIt, #floor_area_min_acresSelectBoxIt, #floor_area_max_acresSelectBoxIt").addClass("selectboxit-disabled none").removeClass("selectboxit-enabled")):"sq_metres"===p?($("#floor_area_min_sq_metresSelectBoxIt, #floor_area_max_sq_metresSelectBoxIt").removeClass("selectboxit-disabled none").addClass("selectboxit-enabled"),$("#floor_area_min_sq_feetSelectBoxIt, #floor_area_max_sq_feetSelectBoxIt, #floor_area_min_acresSelectBoxIt, #floor_area_max_acresSelectBoxIt").addClass("selectboxit-disabled none").removeClass("selectboxit-enabled")):($("#floor_area_min_acresSelectBoxIt, #floor_area_max_acresSelectBoxIt").removeClass("selectboxit-disabled none").addClass("selectboxit-enabled"),$("#floor_area_min_sq_feetSelectBoxIt, #floor_area_max_sq_feetSelectBoxIt, #floor_area_min_sq_metresSelectBoxIt, #floor_area_max_sq_metresSelectBoxIt").addClass("selectboxit-disabled none").removeClass("selectboxit-enabled")),$("#floor_area_min_"+p+", #floor_area_max_"+p).trigger("change")),n=""!==g.val()&&""!==m.val()?v+" to "+b+" "+f:""!==g.val()&&""===m.val()?v+" min "+f:""===g.val()&&""!==m.val()?b+" max "+f:i.attr("data-all"),i.find(".search-refine-price-wrapper").html(n)}else if("location"===e.attr("data-refine")){var n=e.find(".selectboxit_overseas").length>0?e.find("#location option:selected").text()+", "+e.find("#location_area").val():e.find("#location").val(),y=e.find("#radius option:selected").text();n='<span class="search-refine-location-text">'+n+"</span>",$(t.currentTarget).is("select#location")?("true"===$("#location").find(":selected").attr("data-hierarchy")?e.find(".selectboxit_overseas + .selectboxit_overseas").css("display","block"):e.find(".selectboxit_overseas + .selectboxit_overseas").hide(),$("#location").find(":selected").attr("selected")||e.find("#location_area").val(""),n=e.find("#location option:selected").text()):n=e.find(".selectboxit_radius").hasClass("is-hidden")?n:n+" <b>("+y.toLowerCase()+")</b>",i.find(".search-refine-location-wrapper").html(n)}else if("property-type"===e.attr("data-refine")){$(".form-search-and-refine input[name=property_sub_type]").remove();var n=e.find("[name=property_type]:checked").parent().text();"Show all"===n&&(n=i.attr("data-all"));var x=$(".search-refine-element-wrapper .btn-search-refine-rooms");if("land"===e.find("[name=property_type]:checked").val())x.addClass("is-disabled");else{x.removeClass("is-disabled");var _=x.parent().find(".search-disabled");_.find(".selectboxit-disabled").removeClass("selectboxit-disabled"),_.find("select").prop("disabled",!1),_.removeClass("search-disabled")}i.find(".search-refine-propertytype-wrapper").text(n)}else if("property-sub-type"===e.attr("data-refine")){var n,w=e.find("[name=property_sub_type]:checked");if(w.length>0){var C="?";w.each(function(t,e){C+="property_sub_type="+e.value+"&"}),C+="url="+encodeURIComponent(window.location.href),$.get("/ajax/listings/property-selection"+C,function(t){n=t.property_selection_text?t.property_selection_text:"Multiple types",i.find(".search-refine-propertytype-wrapper").text(n)})}else n=i.attr("data-all"),i.find(".search-refine-propertytype-wrapper").text(n)}else if("overseas_price"===e.attr("data-refine")){var n="",a=e.find("#forsale_price_min option:selected"),r=e.find("#forsale_price_max option:selected"),l=a.attr("data-condensed"),h=r.attr("data-condensed"),c=$("form#form-search-and-refine.is-new-refine").length>0?$("#currency option:selected").val():"";if(c="usd"===c?"$":"eur"===c?"€":"₱",n=""!==a.val()&&""!==r.val()?l+" to "+h:""!==a.val()&&""===r.val()?l+" min":""===a.val()&&""!==r.val()?h+" max":i.attr("data-all"),$(t.currentTarget).is("#currency")){var k=$("#currency option:selected").val();i.removeClass("is-currency-gbp is-currency-eur is-currency-usd").addClass("is-currency-"+k),$("form#form-search-and-refine.is-new-refine").length>0&&(c="usd"===k?"$":"eur"===k?"€":"₱",n=""!==a.val()&&""!==r.val()?c+l+" to "+c+h:""!==a.val()&&""===r.val()?c+l+" min":""===a.val()&&""!==r.val()?c+h+" max":i.attr("data-all")),$("#forsale_price_min option, #forsale_price_max option").each(function(){var t=$(this);t.html(function(e,i){var n,s,o=i;return s="eur"===k?"&euro;":"usd"===k?"$":"&pound;",n=$(this).html().indexOf("00")>0?s+ZPG.util.formatNumber(t.val()):o})}),$("#forsale_price_min, #forsale_price_max").trigger("change")}i.find(".search-refine-price-wrapper").text(n)}else if("agent-type"===e.attr("data-refine")){var n=e.find("[name=section]:checked").parent().text();"All"===n&&(n=i.attr("data-all")),i.find(".search-refine-agenttype-wrapper").text(n)}$(".btn-refine-search").removeClass("is-disabled").prop("disabled",!1)}),$(".overseas_geo_autocomplete").on("autocompleteselect",function(t,e){setTimeout(function(){$(".search-refine-element-wrapper #radius").trigger("change")},200)}),$(".search-refine-element-wrapper #search_company_name").on("autocompleteopen",function(t,e){$(".btn-refine-search").removeClass("is-disabled").prop("disabled",!1)}),$(".search-refine-location").on("change",function(){$("[name=polyenc]").remove(),$(".search-refine-location-autocomplete-replicate").text($(this).val())}),$(".is-new-refine .search-filters-propertytype-wrapper").on("change",".search-filters-propertytype-checkbox",function(){var t=$(this);t.closest(".search-filters-propertytype").toggleClass("is-checked",t.is(":checked"))}),$("#include_shared_accommodation").on("click",function(){var t=$(this),e=$("#include_shared_accommodation_hidden");t.prop("checked")?(t.val("true"),e.val("")):(t.val(""),e.val("false"))}),$(".search-refine-facets-group").each(function(t,e){var i=$(this),n=$(this).find(".search-refine-facets-item.filter-checkbox").length,s=($(this).find(".search-refine-facets-item.filter-selected").length,$(".maps-fullscreen").length>0?3:2);if(n>s&&!i.hasClass("not-collapsible")){var o=$('<button class="btn search-refine-facets-toggle">                    <span class="search-refine-facets-toggle-plus">+</span>                    <span class="search-refine-facets-toggle-minus">–</span>                    </button>');$(this).append(o).addClass("is-collapsed"),$(this).find(".search-refine-facets-header").addClass("is-toggle").css({cursor:"pointer"}),$(this).find(".search-refine-facets-items").attr("data-collapsed-height",function(){return $(this).outerHeight()})}}).on("click",".search-refine-facets-toggle, .search-refine-facets-header.is-toggle",function(t){var e=$(this),i=e.parents(".search-refine-facets-group"),n=i.find(".search-refine-facets-item").length,s=i.find(".search-refine-facets-items"),o=$(".maps-fullscreen").length>0?3:2;i.hasClass("is-collapsed")?(i.removeClass("is-collapsed").addClass("is-expanded"),s.css({height:(i.find(".search-refine-facets-subitems").length>0?50*Math.ceil(n/o)+50:50*Math.ceil(n/o))+"px"})):(i.removeClass("is-expanded").addClass("is-collapsed"),s.css({height:s.attr("data-collapsed-height")+"px"}));var a=i.find(".search-refine-facets-header").text().toLowerCase().replace(" ","_");dataLayer.push({event:"GAEvent",eventCategory:"Search_Refine",eventAction:"Filter_results_interaction",eventLabel:a+"_menu_"+(i.hasClass("is-collapsed")?"open":"close"),eventValue:void 0}),t.preventDefault()}),$(".search-refine-facets-group").each(function(){var t=$(this);if(t.find(".search-refine-facets-item").length<1&&t.find(".search-refine-facets-keywords-wrapper").length<1)t.remove();else if(t.find(".search-refine-facets-item.filter-selected").length>0&&!t.hasClass("not-collapsible")){var e=t.find(".search-refine-facets-item").length,i=t.find(".search-refine-facets-items"),n=$(".maps-fullscreen").length>0?3:2;t.removeClass("is-collapsed").addClass("is-expanded"),i.css({height:(n%2?50*Math.ceil(e/n):50*Math.ceil(e/n)+50)+"px"})}}),$(".js-search-and-refine-filters-toggle").on("click",function(t){var e=$("#search-listings-filters"),i=$(".js-search-and-refine-filters-toggle");"1"!==$.cookie("filter_results_tooltip_dismissed")&&($(".listing-results-utils-tooltip").remove(),$.cookie("filter_results_tooltip_dismissed","1",{expires:365,path:"/"})),e.hasClass("is-hidden")?(e.slideDown(400,function(){e.removeClass("is-hidden")}),i.addClass("is-expanded")):(e.slideUp(400,function(){e.addClass("is-hidden")}),i.removeClass("is-expanded")),t.preventDefault(),dataLayer.push({event:"GAEvent",eventCategory:"Search_Refine",eventAction:"Filter_results_interaction",eventLabel:"filters_"+(e.hasClass("is-hidden")?"open":"close"),eventValue:void 0})}).find(".search-and-refine-filters-toggle-count").html(function(t,e){var i=e;return $(".facet-link-active").length>0&&(i+=" ("+$(".facet-link-active").length+")"),i}),$(".listing-results-utils-tooltip").on("click",".btn",function(t){t.preventDefault(),"1"!==$.cookie("filter_results_tooltip_dismissed")&&($(".listing-results-utils-tooltip").remove(),$.cookie("filter_results_tooltip_dismissed","1",{expires:365,path:"/"}))}),$(".listing-results-keyword-tooltip").on("click",".btn",function(t){t.preventDefault(),"1"!==$.cookie("filter_keywords_tooltip_dismissed")&&($(".listing-results-keyword-tooltip").remove(),$.cookie("filter_keywords_tooltip_dismissed","1",{expires:1,path:"/"}))}),$(".js-search-and-refine-view-toggle").on("click",function(t){var e=$(this),i=$(".listing-results-utils-view");i.hasClass("is-hidden")?(i.slideDown(400,function(){i.removeClass("is-hidden")}),e.addClass("is-expanded")):(i.slideUp(400,function(){i.addClass("is-hidden")}),e.removeClass("is-expanded")),t.preventDefault(),dataLayer.push({event:"GAEvent",eventCategory:"Search_Refine",eventAction:"Filter_results_interaction",eventLabel:"view_by_"+(i.hasClass("is-hidden")?"open":"close"),eventValue:void 0})}),$(".js-search-refine-facets-header").on("click touchend",function(t){var e=$(this),i=e.parents(".search-refine-facets-dropdown");i.find(".search-refine-facets-items");i.hasClass("is-collapsed")?($("#facets-more-options .search-refine-facets-dropdown").removeClass("is-expanded").addClass("is-collapsed"),i.removeClass("is-collapsed").addClass("is-expanded")):$("#facets-more-options .search-refine-facets-dropdown").removeClass("is-expanded").addClass("is-collapsed"),t.stopPropagation(),$("body").one("click touchend",function(t){$(t.target).parents(".search-refine-facets-items-button-group").length<1&&!$(t.target).hasClass("search-refine-facets-items-button-group")&&$("#facets-more-options .search-refine-facets-dropdown").removeClass("is-expanded").addClass("is-collapsed")})}),$(".search-refine-filters").on("click",".search-refine-facets-link, .search-refine-filters-clear",function(t){if(!(t.button||t.ctrlKey||t.shiftKey||t.metaKey||t.altKey)){var e=$(".search-refine-filters"),i='<div class="search-refine-filters-updating-layer-overlay"><span class="search-refine-filters-updating-layer-text">Updating results...</span></div>';$(".search-refine-filters .search-refine-facets-dropdown.is-expanded").removeClass("is-expanded").addClass("is-collapsed"),0===e.find(".search-refine-filters-updating-layer-overlay").length&&e.append(i),$(t.currentTarget).hasClass("search-refine-filters-clear")&&dataLayer.push({event:"GAEvent",eventCategory:"Search_Refine",eventAction:"Filter_results_interaction",eventLabel:"clear_filter_results",eventValue:void 0}),e.addClass("is-updating")}}),$(".js-search-refine-facets-keywords").on("keyup",function(){var t=$(this);""!==t.val()?t.parent().find(".btn-search-refine-facets-keywords").removeClass("is-disabled"):t.parent().find(".btn-search-refine-facets-keywords").addClass("is-disabled")}),$(".search-refine-input").on("change",function(){var t=$(this),e=$(this).hasClass("search-refine-input-radio"),i=$(this).find("input").attr("name");e&&t.parent().find('.search-refine-input-radio input[name="'+i+'"]').parent().removeClass("is-checked"),t.toggleClass("is-checked",t.find("input").is(":checked"))}),$(".form-search-and-refine #include_sold").on("change",function(){var t=$(this);t.is(":checked")?t.attr("name","include_sold"):t.attr("name","")});var photo_index=0,max_photo_index=$("#images-thumbs li").size()-1,carousel_index=0,max_carousel_index=5,carousel_start_index=0,slideshow_timer;slideshow_timer_is_on=0,$("#images-thumbs li").click(function(t){t.preventDefault(),$(".images-thumbs-active").removeClass("images-thumbs-active"),$(this).addClass("images-thumbs-active"),photo_index=$(this).index(),carousel_index=photo_index-carousel_start_index,photo_change()}),$("#images-thumbs ul").jcarousel({animation:"800",initCallback:callback,itemFirstInCallback:mycarousel_itemFirstInCallback,scroll:6}),$("#images-main-prev").hover(function(){$("#images-nav-prev").addClass("images-nav-prev-hover"),$("#images-nav-next").removeClass("images-nav-next-hover")},function(){$("#images-nav-prev").removeClass("images-nav-prev-hover"),$("#images-nav-next").removeClass("images-nav-next-hover")}),$("#images-main-next").hover(function(){$("#images-nav-next").addClass("images-nav-next-hover"),$("#images-nav-prev").removeClass("images-nav-prev-hover")},function(){$("#images-nav-next").removeClass("images-nav-next-hover"),$("#images-nav-prev").removeClass("images-nav-prev-hover")}),ZPG.movies.validate_url({URL:$("#movie-play").attr("href")}),$("#movie-play").unbind("click").bind("click",function(t){t.preventDefault(),ZPG.movies.init({URL:$(this).attr("href"),autoplay:!0})}),!function(){function t(t,i,n,s){var o={unique_rating_string:t.attr("data-rating-id"),outcode:t.attr("data-rating-outcode"),incode:t.attr("data-rating-incode"),area_id:t.attr("data-rating-area_id"),post_town_id:t.attr("data-rating-post_town_id"),county_area_id:t.attr("data-rating-county_area_id"),category:t.attr("data-category"),rating:i};e.push(o.category),e=jQuery.unique(e);var a=$("#rate-local-area-rate .inline-rating").length,r=$("#rate-local-area-tip span");e.length==a&&(r.html('<strong class="buyers">All done. Thanks for voting!</strong>'),$(".js-rate-area-btn").length>0&&$(".js-rate-area-btn").removeClass("btn btn-highlight").each(function(){var t=$(this).text().replace("Rate","You rated");$(this).html(t)})),$.ajax({url:"/ajax/local_info/rating",data:o,beforeSend:function(){s.closest(".star-rating-wrap").find(".star-rating-msg").html('<img src="/static/images/icons/loading.gif" width="16" height="16" alt="Loading...">')},success:function(){dataLayer.push({event:"taxonomy",eventTaxonomy:{activity:"user_account",action:"rate_area"}}),s.closest(".star-rating-wrap").data("data-rating-new",n),s.closest(".star-rating-wrap").find(".star-rating-msg").html(n)}})}var e=new Array;$(".rating").mouseover(function(){var t=$(this),e=$(this).closest(".star-rating-wrap");e.find(".star-rating-msg").html(t.attr("data-rating-msg")),e.find(".current-rating").css("display","none")}).mouseout(function(){var t=($(this),$(this).closest(".star-rating-wrap"));t.find(".star-rating-msg").html(""),
void 0!=t.data("data-rating-new")?t.find(".star-rating-msg").html(t.data("data-rating-new")):t.find(".star-rating-msg").html(t.attr("data-rating-current")),t.find(".current-rating").css("display","block")}).on("click",function(){var e=$(this),i=$(this).closest(".star-rating-wrap"),n=parseInt(e.attr("data-rating-stars"));return $msg=e.attr("data-rating-msg"),i.find(".star-rating-success").remove(),i.find(".current-rating").css("width",20*n+"%"),t(i,n,$msg,e),!1})}(),$(function(){function t(t){var e;e="fixed"===t?$("#form-search-and-refine").height():$(".main-content-area").offset().top,$("body").css("background-attachment",t,"important").css("background-repeat","no-repeat").css("background-position","50% "+e+"px","important")}if(ZPG.user_signin_register.init(),ZPG.user_favourites.init(),$("body").hasClass("ie-8")||$("body").hasClass("ie-7"))$(".has-dropdown-menu > a").on("mouseover",function(){$(this).addClass("is-active")}),$(".has-dropdown-menu > a").on("mouseout",function(){$(this).removeClass("is-active")});else{var e=function(){$(this).find("> a").addClass("is-active")},i=function(){$(this).find("> a").removeClass("is-active")};$(".has-dropdown-menu").parent().hoverIntent({over:e,out:i,selector:".has-dropdown-menu",sensitivity:10,timeout:150})}$(document).on("touchstart click",".has-dropdown-menu > a",function(t){var e=$(this);$(t.target).parents(".has-dropdown-menu").length>0&&(e.hasClass("is-active")||(t.preventDefault(),t.stopPropagation(),e.parents("ul").find(".has-dropdown-menu > a").removeClass("is-active"),e.addClass("is-active").focus()))}),$(document).on("touchstart click",function(t){$(t.target).parents(".dropdown-menu-content").length<1&&$(".has-dropdown-menu > a").removeClass("is-active").blur()}),$(".main-nav-top-item").each(function(t,e){var i=e.offsetLeft,n=$(e).width(),s=$(".main-nav").parent().width();$(e).find(".main-nav-menu-content").each(function(){var t=$(this).width();i+t>s-20?$(this).css({right:s-i-n-1+"px",left:"auto"}):$(this).css({left:i-1+"px",right:"auto"})})}),$(document).on("click","[data-ga-category]",function(){var t=$(this);dataLayer.push({event:"GAEvent",eventCategory:t.attr("data-ga-category"),eventAction:t.attr("data-ga-action"),eventLabel:t.attr("data-ga-label"),eventValue:void 0})}),$("select[data-ga-category]").on("change",function(){var t=$(this);dataLayer.push({event:"GAEvent",eventCategory:t.attr("data-ga-category"),eventAction:t.find("option:selected").attr("data-ga-action"),eventLabel:t.attr("data-ga-label"),eventValue:void 0})}),$("a[data-ga-vpv]").on("click",function(){var t=$(this).attr("data-ga-vpv");dataLayer.push({event:"GAVirtualPageview",virtualPageviewUrl:t})}),$("#breadcrumbs a").on("click",function(){var t=$(this).parent(),e=t.index()+1;dataLayer.push({event:"GAEvent",eventCategory:"Breadcrumbs",eventAction:"Click",eventLabel:e})}),$(document).on("click","[data-taxonomy]",function(){var t=$(this).data("taxonomy")||{};dataLayer.push({event:"taxonomy",eventTaxonomy:t})}),$(document).on("change","select[data-taxonomy]",function(){var t=$(this).data("taxonomy")||{};dataLayer.push({event:"taxonomy",eventTaxonomy:t})}),$.support.placeholder=function(){var t=document.createElement("input");return"placeholder"in t}(),$.support.placeholder||($("[placeholder]").on("focus",function(){var t=$(this);t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=$(this);""!=t.val()&&t.val()!=t.attr("placeholder")||(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var t=$(this);t.val()==t.attr("placeholder")&&t.val("")})}),$(".relevant-details [placeholder], .sidebar #form-search [placeholder]").parents("form").find(".btn").click(function(){$(this).parents("form").find("[placeholder]").each(function(){var t=$(this);t.val()==t.attr("placeholder")&&t.val("")})})),$("a.jqModal").each(function(){$(this).fancybox({type:"ajax",titleShow:!1,href:$(this).attr("data-tip")})}),$(".toggle").on("click",function(t){var e=$(this),i=$("#"+e.attr("rel"));t.preventDefault(),e.data("clicked")?(i.hide(),e.data("clicked",!1)):(i.show(),e.data("clicked",!0))}),$(".market-panel").on("change",".js-market-stats-months, .js-market-stats-property-type",function(){var t,e=$(".js-market-stats-months option:selected").val(),i=$(".js-market-stats-property-type option:selected").val().toLowerCase(),n=$(".js-market-stats-average-price"),s=$(".js-market-stats-average-value"),o=$(".js-market-stats-num-sales"),a=$(".js-market-stats-value-change"),r=$(".js-market-stats-value-change-pct");switch(parseInt(e)){case 3:t=0;break;case 6:t=1;break;case 12:t=2;break;case 60:t=3;break;case 120:t=4;break;case 240:t=5}n.html(""===n.attr("data-value-"+i).split(",")[t]||"0"===n.attr("data-value-"+i).split(",")[t]?"—":"&pound;"+formatThousands(n.attr("data-value-"+i).split(",")[t])),o.html(""===o.attr("data-value-"+i).split(",")[t]?"0":formatThousands(o.attr("data-value-"+i).split(",")[t])),s.html(""===s.attr("data-value-"+i).split(",")[t]?"—":"&pound;"+formatThousands(s.attr("data-value-"+i).split(",")[t])),a.html("0"===a.attr("data-value-"+i).split(",")[t]?"—":(a.attr("data-value-"+i).split(",")[t].indexOf("-")<0?"":"-")+"&pound;"+formatThousands(a.attr("data-value-"+i).split(",")[t])),r.html((parseFloat(r.attr("data-value-"+i).split(",")[t])<0?"▼":parseFloat(r.attr("data-value-"+i).split(",")[t])>0?"▲":"")+" "+r.attr("data-value-"+i).split(",")[t]+"%"),parseFloat(r.attr("data-value-"+i).split(",")[t])<0?(a.addClass("market-panel-stat-value-change-down").removeClass("market-panel-stat-value-change-up"),r.addClass("market-panel-stat-value-change-down").removeClass("market-panel-stat-value-change-up")):parseFloat(r.attr("data-value-"+i).split(",")[t])>0?(a.addClass("market-panel-stat-value-change-up").removeClass("market-panel-stat-value-change-down"),r.addClass("market-panel-stat-value-change-up").removeClass("market-panel-stat-value-change-down")):(a.removeClass("market-panel-stat-value-change-up market-panel-stat-value-change-down"),r.removeClass("market-panel-stat-value-change-up market-panel-stat-value-change-down")),dataLayer.push({event:"GAEvent",eventCategory:"market_activity",eventAction:$(this).hasClass("js-market-stats-months")?"dropdown_historical_timeframe":"dropdown_property_type",eventLabel:$(this).hasClass("js-market-stats-months")?$(".js-market-stats-months option:selected").val():$(".js-market-stats-property-type option:selected").text().toLowerCase(),eventValue:void 0})}),$("#stats-change").change(function(){return $("#stats span").addClass("none"),$("#stats-"+$(this).val()).removeClass("none"),!1}),2!=$("#vc_month").val()&&($(".vc").addClass("none"),$(".vc_"+$("#vc_month").val()).removeClass("none")),$("#vc_month").change(function(){$(".vc").addClass("none");for(var t=0;t<=6;t++)$("#vc_month").val()==t&&$(".vc_"+t).removeClass("none")}),$("select.js-redirects-to-option").change(function(){var t=$(this),e=$(this).find("option:selected");if("listings-sort"==t.attr("name")&&dataLayer.push({event:"GAEvent",eventCategory:e.attr("data-ga-category"),eventAction:e.attr("data-ga-action"),eventLabel:e.attr("data-ga-label"),eventValue:void 0}),t.attr("data-ga-category")&&t.attr("data-ga-action")&&dataLayer.push({event:"GAEvent",eventCategory:t.attr("data-ga-category"),eventAction:t.attr("data-ga-action"),eventLabel:e.val(),eventValue:void 0}),"url"===t.attr("data-option"))window.location=e.val();else{var i=new Url,n=t.attr("name");""===e.val()?delete i.query[n]:i.query[n]=e.val(),window.location=i}}),$(".js-use-selectboxit select").selectBoxIt({autoWidth:!1,"native":!0,downArrowIcon:"icon icon-down-open-1"}),$(".alert-fade").delay(15e3).fadeOut(1200),$("a.attr-edit").fancybox({onComplete:function(){$("#attr-form").validate({submitHandler:function(t){var t=$("#attr-form"),e=$("#property_id").val();$.ajax({url:t.attr("action"),data:t.serialize(),success:function(){t.html("<h1>Thank you!</h1><p>This information has been noted and we will update our records where appropriate as soon as possible.</p>"),$("#edit_"+e).parent().find(".attributes-update").load("widgets/property/attributesd973.html?property_id="+e)}})}})}}),$("a.printDetails").on("click",function(t){t.preventDefault(),window.open($(this).attr("href"),"","width=700,height=650,directories=no,resizable=no,scrollbars=yes,toolbar=no,menubar=no,titlebar=no,status=no")}),$(".clear-txt").on("click",function(t){t.preventDefault(),$(this).siblings("textarea").val("")}),$(window).scroll(function(){var e=$("header").height()+$(".js-cookie-policy").height(),i=$(this).scrollTop();i>e?t("fixed"):i<=e&&t("scroll")}).ready(function(){setTimeout(function(){t()},2500),$(".js-cookie-policy-close").click(function(){t()})})}),window.addEventListener("load",function(){if(!window.ga||!ga.create){var t=document.createElement("img"),e=1e16*Math.random();t.src="/tracking/ga/?platform=desktop&ord="+e,document.body.appendChild(t)}},!1),function(){$(".popup-trigger").hover(function(){$(this).next(".popup-bubble").fadeToggle(200)},function(){$(this).next(".popup-bubble").fadeToggle(200)})}(),function(){$(".show-hide-toggle-label").click(function(t){t.preventDefault();var e=$(t.currentTarget),i=$("#"+e.attr("for")+" ~ .show-hide");0===i.height()&&i.css({"max-height":"none",opacity:"1",display:"none"}),i.toggle(),e.find($(".less")).toggle(),e.find($(".more")).toggle()})}();var plentific=function(){var t,e,i=function(){for(var i=document.getElementsByClassName("trade-wdgt__opt"),o=0;o<i.length;o++)i[o].addEventListener("click",n,!1);t=document.getElementById("plenti-select"),t.addEventListener("change",s,!1);var r=document.getElementById("trade-wdgt__form");r.addEventListener("submit",a,!1),e=document.getElementById("plenti-submit-btn"),e.setAttribute("disabled",""),e.classList.add("button--disabled")},n=function(){o(),t.value=""},s=function(){o();var t=document.querySelector(".trade-wdgt__opt:checked");t&&(document.querySelector(".trade-wdgt__opt:checked").checked=!1)},o=function(){""===e.getAttribute("disabled")&&(e.removeAttribute("disabled"),e.classList.remove("button--disabled"))},a=function(e){e.preventDefault();var i=document.querySelector(".trade-wdgt__opt:checked");dataLayer.push({event:"GAEvent",eventCategory:"plentific",eventAction:"clickout",eventLabel:"hp_srp_"+(i?i.value:t.value)}),i?document.location.href="https://zoopla.plentific.com/deals/p/"+i.value+i.getAttribute("data-plenti-url")+"?utm_campaign=house_prices&utm_medium=banner&utm_source=zoopla&utm_content="+i.value:document.location.href="https://zoopla.plentific.com/post-a-job/c/"+t.value+"/?utm_campaign=house_prices&utm_medium=banner&utm_source=zoopla&utm_content="+t.value};return{init:i}}(),DOMOps=function(){function t(t){for(;t.firstChild;)t.removeChild(t.firstChild);return!0}function e(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}function i(t,e){for(;(t=t.nextElementSibling)&&!t.classList.contains(e););return t}return{removeAllChildren:t,findParentWithClass:e,findSiblingWithClass:i}}(),Cookie=function(){function t(t,e,i){var n;if(i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3),n="; expires="+s.toGMTString()}else n="";document.cookie=t+"="+e+n+"; path=/"}function e(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var s=i[n];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return!1}function i(e){t(e,"",-1)}return{create:t,read:e,remove:i}}(),UserFeedback=function(){function t(){[].forEach.call(e,function(t){var e=DOMOps.findParentWithClass(t,"js-user-feedback").getAttribute("id"),i=document.getElementById(e);feedCookie=Cookie.read(e),i&&(feedCookie?i.parentNode.removeChild(i):t.addEventListener("click",function(){Cookie.create(e,"1",365),i.innerHTML="Thank you for your feedback."}))})}var e=document.getElementsByClassName("js-user-feedback__answer");t()}();